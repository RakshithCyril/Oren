(this["webpackJsonpOleo-ATGL"]=this["webpackJsonpOleo-ATGL"]||[]).push([[0],{166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},245:function(e,t,a){},330:function(e,t,a){},466:function(e,t,a){},467:function(e,t,a){},477:function(e,t,a){},478:function(e,t,a){},479:function(e,t,a){},487:function(e,t,a){},488:function(e,t,a){},653:function(e,t,a){},687:function(e,t,a){},693:function(e,t,a){},694:function(e,t,a){},695:function(e,t,a){},698:function(e,t){},700:function(e,t){},708:function(e,t,a){},709:function(e,t,a){},710:function(e,t,a){},711:function(e,t,a){},712:function(e,t,a){"use strict";a.r(t);var n=a(81),c=a.n(n),s=a(24);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=a(8),i=a.n(r),o=a(14),l=a(892),d=a(27),j=a.n(d),u=a(2),b=a.n(u),m=(a(549),a(13)),h=a(38),x=a(868),O=a(891),p=Object(x.a)((function(){return Object(O.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),f=function(){return p(),null},v=a(60);v.Chart.helpers.extend(v.Chart.elements.Rectangle.prototype,{draw:function(){var e,t,a,n,c,s,r,i,o=this._chart.ctx,l=this._view,d=l.borderWidth,j=this._chart.config.options.cornerRadius;if(j<0&&(j=0),"undefined"===typeof j&&(j=0),l.horizontal?(e=l.base,t=l.x,a=l.y-l.height/2,n=l.y+l.height/2,c=t>e?1:-1,s=1,r=l.borderSkipped||"left"):(e=l.x-l.width/2,t=l.x+l.width/2,a=l.y,c=1,s=(n=l.base)>a?1:-1,r=l.borderSkipped||"bottom"),d){var u=Math.min(Math.abs(e-t),Math.abs(a-n)),b=(d=d>u?u:d)/2,m=e+("left"!==r?b*c:0),h=t+("right"!==r?-b*c:0),x=a+("top"!==r?b*s:0),O=n+("bottom"!==r?-b*s:0);m!==h&&(a=x,n=O),x!==O&&(e=m,t=h)}o.beginPath(),o.fillStyle=l.backgroundColor,o.strokeStyle=l.borderColor,o.lineWidth=d;var p=[[e,n],[e,a],[t,a],[t,n]],f=["bottom","left","top","right"].indexOf(r,0);function v(e){return p[(f+e)%4]}-1===f&&(f=0);var g=v(0);o.moveTo(g[0],g[1]);for(var y=1;y<4;y+=1){g=v(y);var N=y+1;4===N&&(N=0);var w=p[2][0]-p[1][0],k=p[0][1]-p[1][1],C=p[1][0],S=p[1][1];if((i=j)>Math.abs(k)/2&&(i=Math.floor(Math.abs(k)/2)),i>Math.abs(w)/2&&(i=Math.floor(Math.abs(w)/2)),k<0){var A=C,E=C+w,D=S+k,T=S+k,I=C,q=C+w,F=S,B=S;o.moveTo(I+i,F),o.lineTo(q-i,B),o.quadraticCurveTo(q,B,q,B-i),o.lineTo(E,T+i),o.quadraticCurveTo(E,T,E-i,T),o.lineTo(A+i,D),o.quadraticCurveTo(A,D,A,D+i),o.lineTo(I,F-i),o.quadraticCurveTo(I,F,I+i,F)}else if(w<0){var L=C+w,R=C,P=S,M=S,W=C+w,V=C,Y=S+k,U=S+k;o.moveTo(W+i,Y),o.lineTo(V-i,U),o.quadraticCurveTo(V,U,V,U-i),o.lineTo(R,M+i),o.quadraticCurveTo(R,M,R-i,M),o.lineTo(L+i,P),o.quadraticCurveTo(L,P,L,P+i),o.lineTo(W,Y-i),o.quadraticCurveTo(W,Y,W+i,Y)}else o.moveTo(C+i,S),o.lineTo(C+w-i,S),o.quadraticCurveTo(C+w,S,C+w,S+i),o.lineTo(C+w,S+k-i),o.quadraticCurveTo(C+w,S+k,C+w-i,S+k),o.lineTo(C+i,S+k),o.quadraticCurveTo(C,S+k,C,S+k-i),o.lineTo(C,S+i),o.quadraticCurveTo(C,S,C+i,S)}o.fill(),d&&o.stroke()}});var g,y=a(5),N=a(9),w=a(16),k=a(518),C=a.p+"static/media/red-cap.814dcb9d.svg",S=a.p+"static/media/orange-cap.4ea5fd7f.svg",A=a.p+"static/media/green-cap.13e14b22.svg",E=a(202);a(649),a(650),a(651);g={apiKey:"AIzaSyCM3I__TjrrVLIIJGT1jV8Z7rLgPCZ41BI",authDomain:"oleo-6b2af.firebaseapp.com",databaseURL:"https://oleo-6b2af.firebaseio.com",projectId:"oleo-6b2af",storageBucket:"oleo-6b2af.appspot.com",messagingSenderId:"145456652364",appId:"1:145456652364:web:46faffefcaa9a17a5b14e9",measurementId:"G-L2QDQ49J2E"},E.a.initializeApp(g);var D=E.a.auth(),T=E.a.storage(),I=E.a.firestore(),q=(E.a,a(12)),F=a.n(q),B="1",L="2",R="3",P="4",M="5",W=function(){var e=Object(o.a)(i.a.mark((function e(t,a){var n,c,s,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name.trim().replace(/\s+/g,"_"),c="profileImage/".concat(a,"/").concat(V(5),"-").concat(n),s=T.ref(c),e.next=5,s.put(t);case 5:return e.next=7,s.getDownloadURL();case 7:return r=e.sent,e.abrupt("return",{fileName:n,filePath:c,fileLink:r,fileSize:t.size,fileType:t.type});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),V=function(e){return(0,k.a)("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",e)()},Y=function(e){return+(Math.round(e+"e+2")+"e-2")},U=function(e){var t=Y(e);return t>=70?{avatarUrl:A,type:"Green Cap",color:"Green",score:t}:t>=40?{avatarUrl:S,type:"Orange Cap",color:"Orange",score:t}:{avatarUrl:C,type:"Red Cap",color:"Red",score:t}},z=function(e){switch(e){case B:break;case L:return"/adani/Dashboard";case R:return"/atgl/Contractor/dashboard";case P:return"/TPI/dashboard";case M:break;default:return"/"}},H=function(e,t){return!(e.size/1024/1024>t)||(F()({title:e.name,text:"Sorry, Max file size allowed is 10MB",icon:"error",button:"Ok"}),!1)},Q={PENDING:"PENDING",SUBMITTED:"SUBMITTED",COMPLETED:"COMPLETED"},_={TPI:{NOASSESS_STATES:[Q.PENDING]}},G=(a(653),a(871)),J=a(0),Z=function(){return Object(J.jsx)(G.a,{style:{width:"3rem",height:"3rem",color:"#2F3D64"}})},X=function(){return Object(J.jsx)("div",{className:"splashscreen",children:Object(J.jsx)(Z,{})})},K=a(11),$=a(111),ee=a(718),te=a(738),ae=a(739),ne=a(740),ce=a(251),se=a.n(ce),re=a(654),ie=a(724),oe=a(735),le=a(348),de=(a(466),a(875)),je=(a(41),"LOGIN_USER"),ue="LOGOUT_USER",be="SET_LOADING",me=function(e){return{type:je,payload:e}},he=function(e){return{type:be,payload:e}},xe="auditors/SET_LOADING",Oe="auditors/SET_ALL_AUDITORS",pe="auditors/SET_ALL_CONTRACTORS",fe="auditors/SET_CURRENT_AUDITOR",ve="auditors/SET_CURRENT_COMPANY",ge="auditors/SET_ALLDATA",ye=function(e){return{type:xe,payload:e}},Ne=function(e){return{type:fe,payload:e}},we=function(e){return{type:ve,payload:e}},ke=a(29),Ce=a(110),Se={allFeedbacks:[],loading:!1},Ae=Object(Ce.b)({name:"feedback",initialState:Se,reducers:{setAllFeedbacks:function(e,t){e.allFeedbacks=Object(ke.a)(t.payload)},setLoading:function(e,t){e.loading=t.payload},setAllDataEmpty:function(e,t){return Se}}}),Ee=Ae.actions,De=Ee.setAllFeedbacks,Te=Ee.setLoading,Ie=Ee.setAllDataEmpty,qe=Ae.reducer,Fe={loading:!1,observation:{}};console.log("observation",Fe);var Be=Object(Ce.b)({name:"observation",initialState:Fe,reducers:{setLoading:function(e,t){e.loading=t.payload},setObservation:function(e,t){e.observation=t.payload},resetObservation:function(e,t){return Fe}}}),Le=Be.actions,Re=(Le.setLoading,Le.setObservation),Pe=Le.resetObservation,Me=Be.reducer,We={contractors:[],categories:[],responses:[],questions:[],assessments:[],loading:!1,filter:"ALL"},Ve=Object(Ce.b)({name:"assessment",initialState:We,reducers:{setResponses:function(e,t){e.responses=Object(ke.a)(t.payload)},setAssessments:function(e,t){e.assessments=Object(ke.a)(t.payload)},setLoading:function(e,t){e.loading=t.payload},setAllCategories:function(e,t){e.categories=t.payload},setContractors:function(e,t){e.contractors=t.payload},setAllQuestions:function(e,t){e.questions=t.payload},setFilterValue:function(e,t){e.filter=t.payload},resetAllData:function(e,t){return We}}}),Ye=Ve.actions,Ue=Ye.setAllCategories,ze=Ye.setFilterValue,He=Ye.setResponses,Qe=Ye.setLoading,_e=Ye.setAssessments,Ge=Ye.setAllQuestions,Je=Ye.resetAllData,Ze=Ye.setContractors,Xe=Ve.reducer,Ke=function(e,t){return function(){var a=Object(o.a)(i.a.mark((function a(n){var c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(he(!0)),a.next=4,D.signInWithEmailAndPassword(e,t);case 4:a.next=22;break;case 6:a.prev=6,a.t0=a.catch(0),console.log(a.t0.code),c="",a.t1=a.t0.code,a.next="auth/wrong-password"===a.t1?13:"auth/user-not-found"===a.t1?15:17;break;case 13:return c="Wrong password. Please try again or click 'Forgot password' to reset it.",a.abrupt("break",19);case 15:return c="No account found with this email address",a.abrupt("break",19);case 17:return c=a.t0.message,a.abrupt("break",19);case 19:console.log("ERROR>>>",a.t0),F()({title:"Error",text:c,icon:"error",button:"Ok"}),n(he(!1));case 22:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()},$e=a(17),et=a.n($e),tt={startDate:et()().startOf("month").format("YYYY-MM-DD"),endDate:et()().endOf("month").format("YYYY-MM-DD"),loading:!1},at=Object(Ce.b)({name:"header",initialState:tt,reducers:{setStartDate:function(e,t){e.startDate=t.payload},setEndDate:function(e,t){e.endDate=t.payload},setLoading:function(e,t){e.loading=t.payload}}}),nt=at.actions,ct=nt.setStartDate,st=nt.setEndDate,rt=(nt.setLoading,at.reducer),it=a(98),ot=a(737),lt=a(723),dt="/static/images/oren-logo.png",jt=Object(it.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(ee.a),ut=Object(x.a)((function(e){return{container:{display:"flex",flexWrap:"wrap",marginRight:"1.5rem"},textField:{width:200}}})),bt=function(e){var t,a,n=e.onMobileNavOpen,c=Object($.a)(e,["onMobileNavOpen"]),r=ut(),l=Object(h.h)("adani/observation"),d=Object(h.h)("atgl/Contractor/Observation"),j=l||d,b=Object(m.c)((function(e){return e.auth})).userData,x=Object(h.i)(),O=Object(u.useState)([]),p=(Object(y.a)(O,1)[0],Object(m.b)()),f=Object(m.c)((function(e){return e.header})),v=f.startDate,g=f.endDate,N=Object(it.a)((function(e){return{root:{color:e.palette.getContrastText("#F96E6E"),backgroundColor:"#F96E6E","&:hover":{backgroundColor:"#F96E6E"}}}}))(ot.a);return Object(J.jsx)(te.a,Object(K.a)(Object(K.a)({elevation:0},c),{},{children:Object(J.jsxs)(ae.a,{className:"d-flex w-100",children:[Object(J.jsxs)("div",{className:"d-flex",children:[Object(J.jsx)(ne.a,{color:"inherit",onClick:n,children:Object(J.jsx)(se.a,{})}),Object(J.jsx)(s.b,{to:z(null===b||void 0===b?void 0:b.type),children:Object(J.jsx)("img",{alt:"",src:dt,id:"logo"})})]}),Object(J.jsxs)("div",{className:"d-flex w-100 justify-content-end align-items-center",children:[j&&Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)("form",{className:r.container,noValidate:!0,children:[Object(J.jsx)("label",{className:"date-label",children:"Start Date \xa0"}),Object(J.jsx)(ie.a,{id:"date",type:"date",defaultValue:v,onChange:function(e){return p(ct(e.target.value))},InputLabelProps:{shrink:!0}})]}),Object(J.jsxs)("form",{className:r.container,noValidate:!0,children:[Object(J.jsx)("label",{className:"date-label",children:"End Date \xa0"}),Object(J.jsx)(ie.a,{id:"date",type:"date",defaultValue:g,onChange:function(e){return p(st(e.target.value))},style:{padding:" 5.5px 0px !important"},InputLabelProps:{shrink:!0}})]})]}),Object(J.jsxs)("div",{className:"d-flex align-items-center",children:[Object(J.jsx)("div",{className:r.root,style:{marginRight:"2rem"},children:Object(J.jsx)(jt,{onClick:function(){return x("/profile")},overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:Object(J.jsx)(lt.a,{alt:"Remy Sharp",src:null!==(t=null===b||void 0===b||null===(a=b.profileImage)||void 0===a?void 0:a.fileLink)&&void 0!==t?t:null})})}),Object(J.jsx)(N,{onClick:function(){return p((e=function(){return x("/",{replace:!0})},function(){var t=Object(o.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.signOut();case 2:a({type:ue}),a({type:ge,payload:void 0}),a(Ie()),a(Pe()),a(Je()),F()("Logged Out Successfully","","success"),e();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e},variant:"contained",id:"logout-btn",color:"primary",className:r.margin,children:"Log out"})]})]})]})}))},mt=a(181),ht=a.n(mt),xt=a(214),Ot=a.n(xt),pt=a(180),ft=a.n(pt),vt=a(215),gt=a.n(vt),yt=a(736),Nt=a(741),wt=a(733),kt=a(719),Ct=a(742),St=a(876),At=a(284),Et=function(e){var t=e.href,a=e.icon,n=e.title,c=e.onClick,r=Object($.a)(e,["href","icon","title","onClick"]),i=Object(h.g)(),o=!!t&&!!Object(h.d)({path:t,end:!1},i.pathname);return Object(J.jsx)(At.b,Object(K.a)(Object(K.a)({disableGutters:!0,sx:{display:"flex",py:0}},r),{},{children:Object(J.jsxs)(ot.a,{onClick:c,component:s.c,sx:Object(K.a)(Object(K.a)({color:"text.secondary",fontWeight:"medium",justifyContent:"flex-start",letterSpacing:0,py:1.25,textTransform:"none",width:"100%"},o&&{color:"primary.main"}),{},{"& svg":{mr:1}}),to:t,children:[a&&Object(J.jsx)(a,{size:"20"}),Object(J.jsx)("span",{children:n})]})}))},Dt="",Tt=function(e){var t,a,n,c=e.onMobileClose,s=e.openMobile,r=Object(h.g)(),i=(r.pathname,Object(m.c)((function(e){return e.auth})).userData),o=Object(h.i)(),l="/atgl/Contractor";console.log("PATH>>",l);var d=[{href:l+"/dashboard",icon:ft.a,title:"Home"},{href:l+"/Assessment",icon:ht.a,title:"Assessment"},{href:l+"/Observation",icon:Ot.a,title:"Observation"},{href:l+"/Learning",icon:gt.a,title:"Learning"},{href:l+"/engagement",icon:St.a,title:"Engagement"}];Object(u.useEffect)((function(){s&&c&&c()}),[r.pathname]);var j=Object(m.b)(),b=Object(J.jsxs)(re.a,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(J.jsxs)(re.a,{sx:{alignItems:"center",display:"flex",flexDirection:"column",p:2},children:[Object(J.jsx)("div",{onClick:function(){return o("/profile")},children:Object(J.jsx)(lt.a,{src:null!==(t=null===i||void 0===i||null===(a=i.profileImage)||void 0===a?void 0:a.fileLink)&&void 0!==t?t:null,sx:{cursor:"pointer",width:64,height:64}})}),Object(J.jsx)(yt.a,{color:"textPrimary",variant:"h5",children:null!==(n=null===i||void 0===i?void 0:i.name)&&void 0!==n?n:null}),Object(J.jsx)(yt.a,{color:"textSecondary",variant:"body2",children:Dt})]}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(re.a,{sx:{p:2},children:Object(J.jsx)(wt.a,{children:d.map((function(e){return Object(J.jsx)(Et,{onClick:e.method?function(){return j(e.method())}:null,style:{color:"white !important"},href:e.href,title:e.title,icon:e.icon},e.title)}))})}),Object(J.jsx)(re.a,{sx:{flexGrow:1}})]});return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(kt.a,{xlUp:!0,children:Object(J.jsx)(Ct.a,{anchor:"left",onClose:c,open:s,variant:"temporary",PaperProps:{sx:{width:256}},children:b})}),Object(J.jsx)(kt.a,{xlDown:!0,children:Object(J.jsx)(Ct.a,{anchor:"left",open:!0,variant:"persistent",PaperProps:{sx:{width:256,top:64,height:"calc(100% - 64px)"}},children:b})})]})};Tt.defaultProps={onMobileClose:function(){},openMobile:!1};var It=Tt,qt=Object(w.a)("div")((function(e){return{backgroundColor:e.theme.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"}})),Ft=Object(w.a)("div")((function(e){var t=e.theme;return Object(N.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},t.breakpoints.up("lg"),{paddingLeft:256})})),Bt=Object(w.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),Lt=Object(w.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"}),Rt=function(){var e=Object(u.useState)(!1),t=Object(y.a)(e,2),a=t[0],n=t[1],c=Object(m.c)((function(e){return e.auth})),s=c.userData,r=c.loading,i=c.isLoggedIn;return console.log(localStorage.getItem("isSignedIn"),1),Object(J.jsxs)(qt,{children:[Object(J.jsx)(bt,{onMobileNavOpen:function(){return n(!a)}}),Object(J.jsx)(It,{onMobileClose:function(){return n(!1)},openMobile:a}),Object(J.jsx)(Ft,{children:Object(J.jsx)(Bt,{children:Object(J.jsxs)(Lt,{children:[i&&(null===s||void 0===s?void 0:s.type)!==R&&Object(J.jsx)(h.a,{to:z(null===s||void 0===s?void 0:s.type),replace:!0}),"true"===localStorage.getItem("isSignedIn")?r||!i?Object(J.jsx)(X,{}):Object(J.jsx)(h.b,{}):Object(J.jsx)(h.a,{to:"/",replace:!0})]})})})]})},Pt=a(877),Mt="",Wt=(window.location.pathname.split("/")[1],[{href:"dashboard",icon:ft.a,title:"Home"},{href:"Assessment",icon:ht.a,title:"Assessment"},{href:"Observation",icon:Ot.a,title:"Observation"},{href:"Learning",icon:gt.a,title:"Learning"},{href:"Engagement",icon:St.a,title:"Engagement"},{href:"Feedback",icon:Pt.a,title:"Feedback"},{href:"Users",icon:St.a,title:"Users"}]),Vt=function(e){var t,a,n,c=e.onMobileClose,s=e.openMobile,r=Object(m.c)((function(e){return e.auth})).userData,i=Object(h.g)(),o=Object(h.i)(),l=Object(m.b)();Object(u.useEffect)((function(){s&&c&&c()}),[i.pathname]);var d=Object(J.jsxs)(re.a,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(J.jsxs)(re.a,{sx:{alignItems:"center",display:"flex",flexDirection:"column",p:2},children:[Object(J.jsx)("div",{onClick:function(){return o("/profile")},children:Object(J.jsx)(lt.a,{src:null!==(t=null===r||void 0===r||null===(a=r.profileImage)||void 0===a?void 0:a.fileLink)&&void 0!==t?t:null,sx:{cursor:"pointer",width:64,height:64}})}),Object(J.jsx)(yt.a,{color:"textPrimary",variant:"h5",children:null!==(n=null===r||void 0===r?void 0:r.name)&&void 0!==n?n:null}),Object(J.jsx)(yt.a,{color:"textSecondary",variant:"body2",children:Mt})]}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(re.a,{sx:{p:2},children:Object(J.jsx)(wt.a,{children:Wt.map((function(e){return Object(J.jsx)(Et,{onClick:e.method?function(){return l(e.method())}:null,style:{color:"white !important"},href:e.href,title:e.title,icon:e.icon},e.title)}))})}),Object(J.jsx)(re.a,{sx:{flexGrow:1}})]});return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(kt.a,{xlUp:!0,children:Object(J.jsx)(Ct.a,{anchor:"left",onClose:c,open:s,variant:"temporary",PaperProps:{sx:{width:256}},children:d})}),Object(J.jsx)(kt.a,{xlDown:!0,children:Object(J.jsx)(Ct.a,{anchor:"left",open:!0,variant:"persistent",PaperProps:{sx:{width:256,top:64,height:"calc(100% - 64px)"}},children:d})})]})};Vt.defaultProps={onMobileClose:function(){},openMobile:!1};var Yt=Vt,Ut=Object(w.a)("div")((function(e){return{backgroundColor:e.theme.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"}})),zt=Object(w.a)("div")((function(e){var t=e.theme;return Object(N.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},t.breakpoints.up("lg"),{paddingLeft:256})})),Ht=Object(w.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),Qt=Object(w.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"}),_t=function(){var e=Object(u.useState)(!1),t=Object(y.a)(e,2),a=t[0],n=t[1],c=Object(m.c)((function(e){return e.auth})),s=c.userData,r=c.loading,i=c.isLoggedIn;return console.log(localStorage.getItem("isSignedIn"),2),Object(J.jsxs)(Ut,{children:[Object(J.jsx)(bt,{onMobileNavOpen:function(){return n(!0)}}),Object(J.jsx)(Yt,{onMobileClose:function(){return n(!1)},openMobile:a}),Object(J.jsx)(zt,{children:Object(J.jsx)(Ht,{children:Object(J.jsxs)(Qt,{children:[i&&(null===s||void 0===s?void 0:s.type)!==L&&Object(J.jsx)(h.a,{to:z(null===s||void 0===s?void 0:s.type),replace:!0}),"true"===localStorage.getItem("isSignedIn")?r||!i?Object(J.jsx)(X,{}):Object(J.jsx)(h.b,{}):Object(J.jsx)(h.a,{to:"/",replace:!0})]})})})]})},Gt="",Jt=(window.location.pathname.split("/")[1],[{href:"/TPI/dashboard",icon:ft.a,title:"Home"},{href:"/TPI/Assessment",icon:ht.a,title:"Assessment"},{href:"/TPI/Engagement",icon:St.a,title:"Engagement"}]),Zt=function(e){var t,a,n,c=e.onMobileClose,s=e.openMobile,r=Object(h.g)(),i=Object(h.i)(),o=Object(m.c)((function(e){return e.auth})).userData;Object(u.useEffect)((function(){s&&c&&c()}),[r.pathname]);var l=Object(J.jsxs)(re.a,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(J.jsxs)(re.a,{sx:{alignItems:"center",display:"flex",flexDirection:"column",p:2},children:[Object(J.jsx)("div",{onClick:function(){return i("/profile")},children:Object(J.jsx)(lt.a,{src:null!==(t=null===o||void 0===o||null===(a=o.profileImage)||void 0===a?void 0:a.fileLink)&&void 0!==t?t:null,sx:{cursor:"pointer",width:64,height:64}})}),Object(J.jsx)(yt.a,{color:"textPrimary",variant:"h5",children:null!==(n=null===o||void 0===o?void 0:o.name)&&void 0!==n?n:null}),Object(J.jsx)(yt.a,{color:"textSecondary",variant:"body2",children:Gt})]}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(re.a,{sx:{p:2},children:Object(J.jsx)(wt.a,{children:Jt.map((function(e){return Object(J.jsx)(Et,{style:{color:"white !important"},href:e.href,title:e.title,icon:e.icon},e.title)}))})}),Object(J.jsx)(re.a,{sx:{flexGrow:1}})]});return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(kt.a,{xlUp:!0,children:Object(J.jsx)(Ct.a,{anchor:"left",onClose:c,open:s,variant:"temporary",PaperProps:{sx:{width:256}},children:l})}),Object(J.jsx)(kt.a,{xlDown:!0,children:Object(J.jsx)(Ct.a,{anchor:"left",open:!0,variant:"persistent",PaperProps:{sx:{width:256,top:64,height:"calc(100% - 64px)"}},children:l})})]})};Zt.defaultProps={onMobileClose:function(){},openMobile:!1};var Xt=Zt,Kt=Object(w.a)("div")((function(e){return{backgroundColor:e.theme.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"}})),$t=Object(w.a)("div")((function(e){var t=e.theme;return Object(N.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},t.breakpoints.up("lg"),{paddingLeft:256})})),ea=Object(w.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),ta=Object(w.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"}),aa=function(){var e=Object(u.useState)(!1),t=Object(y.a)(e,2),a=t[0],n=t[1],c=Object(m.c)((function(e){return e.auth})),s=c.userData,r=c.loading,i=c.isLoggedIn;return console.log(localStorage.getItem("isSignedIn"),3),Object(J.jsxs)(Kt,{children:[Object(J.jsx)(bt,{onMobileNavOpen:function(){return n(!0)}}),Object(J.jsx)(Xt,{onMobileClose:function(){return n(!1)},openMobile:a}),Object(J.jsx)($t,{children:Object(J.jsx)(ea,{children:Object(J.jsxs)(ta,{children:[i&&(null===s||void 0===s?void 0:s.type)!==P&&Object(J.jsx)(h.a,{to:z(null===s||void 0===s?void 0:s.type),replace:!0}),"true"===localStorage.getItem("isSignedIn")?r||!i?Object(J.jsx)(X,{}):Object(J.jsx)(h.b,{}):Object(J.jsx)(h.a,{to:"/",replace:!0})]})})})]})},na=(a.p,Object(w.a)("div")((function(e){return{backgroundColor:e.theme.palette.background.paper,display:"flex",height:"100%",overflow:"hidden",width:"100%"}})),Object(w.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64}),Object(w.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),Object(w.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"}),a(34)),ca=a(748),sa=a(747),ra=a(743),ia=a(744),oa=a(745),la=function(e){var t,a=Object(m.c)((function(e){return e.auth})).userData;return Object(J.jsxs)(ra.a,Object(K.a)(Object(K.a)({},e),{},{children:[Object(J.jsx)(ia.a,{children:Object(J.jsxs)(re.a,{sx:{alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(J.jsx)(lt.a,{src:(null===(t=a.profileImage)||void 0===t?void 0:t.fileLink)?a.profileImage.fileLink:null,sx:{height:100,width:100}}),Object(J.jsx)(yt.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:a.name}),Object(J.jsx)(yt.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:a.email}),Object(J.jsx)(yt.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:a.phoneNo||a.mobile}),Object(J.jsx)(yt.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:a.location})]})}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(oa.a,{children:Object(J.jsx)(ot.a,{color:"primary",fullWidth:!0,variant:"text",children:"Upload picture"})})]}))},da=a(746),ja=[{value:"alabama",label:"Alabama"},{value:"new-york",label:"New York"},{value:"san-francisco",label:"San Francisco"}],ua=function(e){var t=Object(u.useState)({firstName:"Katarina",lastName:"Smith",email:"demo@devias.io",phone:"",state:"Alabama",country:"USA"}),a=Object(y.a)(t,2),n=a[0],c=a[1],s=function(e){c(Object(K.a)(Object(K.a)({},n),{},Object(N.a)({},e.target.name,e.target.value)))};return Object(J.jsx)("form",Object(K.a)(Object(K.a)({autoComplete:"off",noValidate:!0},e),{},{children:Object(J.jsxs)(ra.a,{children:[Object(J.jsx)(da.a,{subheader:"The information can be edited",title:"Profile"}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(ia.a,{children:Object(J.jsxs)(sa.a,{container:!0,spacing:3,children:[Object(J.jsx)(sa.a,{item:!0,md:6,xs:12,children:Object(J.jsx)(ie.a,{fullWidth:!0,helperText:"Please specify the first name",label:"First name",name:"firstName",onChange:s,required:!0,value:n.firstName,variant:"outlined"})}),Object(J.jsx)(sa.a,{item:!0,md:6,xs:12,children:Object(J.jsx)(ie.a,{fullWidth:!0,label:"Last name",name:"lastName",onChange:s,required:!0,value:n.lastName,variant:"outlined"})}),Object(J.jsx)(sa.a,{item:!0,md:6,xs:12,children:Object(J.jsx)(ie.a,{fullWidth:!0,label:"Email Address",name:"email",onChange:s,required:!0,value:n.email,variant:"outlined"})}),Object(J.jsx)(sa.a,{item:!0,md:6,xs:12,children:Object(J.jsx)(ie.a,{fullWidth:!0,label:"Phone Number",name:"phone",onChange:s,type:"number",value:n.phone,variant:"outlined"})}),Object(J.jsx)(sa.a,{item:!0,md:6,xs:12,children:Object(J.jsx)(ie.a,{fullWidth:!0,label:"Country",name:"country",onChange:s,required:!0,value:n.country,variant:"outlined"})}),Object(J.jsx)(sa.a,{item:!0,md:6,xs:12,children:Object(J.jsx)(ie.a,{id:"select-state",fullWidth:!0,label:"Select State",name:"state",onChange:s,required:!0,select:!0,SelectProps:{native:!0},value:n.state,variant:"outlined",children:ja.map((function(e){return Object(J.jsx)("option",{value:e.value,children:e.label},e.value)}))})})]})}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(re.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:Object(J.jsx)(ot.a,{color:"primary",variant:"contained",children:"Save details"})})]})}))},ba=function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Account | Material Kit"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsx)(ca.a,{maxWidth:"lg",children:Object(J.jsxs)(sa.a,{container:!0,spacing:3,children:[Object(J.jsx)(sa.a,{item:!0,lg:4,md:6,xs:12,children:Object(J.jsx)(la,{})}),Object(J.jsx)(sa.a,{item:!0,lg:8,md:6,xs:12,children:Object(J.jsx)(ua,{})})]})})})]})},ma=a(45),ha=a.n(ma),xa=a(749),Oa=a(750),pa=a(751),fa=a(752),va=a(716),ga=a(753),ya=a(754),Na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map((function(e){return e&&e[0].toUpperCase()})).join("")},wa=function(e){var t=e.customers,a=Object($.a)(e,["customers"]),n=Object(u.useState)([]),c=Object(y.a)(n,2),s=c[0],r=c[1],i=Object(u.useState)(10),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(u.useState)(0),b=Object(y.a)(j,2),m=b[0],h=b[1];return Object(J.jsxs)(ra.a,Object(K.a)(Object(K.a)({},a),{},{children:[Object(J.jsx)(ha.a,{children:Object(J.jsx)(re.a,{sx:{minWidth:1050},children:Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(Oa.a,{children:Object(J.jsxs)(pa.a,{children:[Object(J.jsx)(fa.a,{padding:"checkbox",children:Object(J.jsx)(va.a,{checked:s.length===t.length,color:"primary",indeterminate:s.length>0&&s.length<t.length,onChange:function(e){var a;a=e.target.checked?t.map((function(e){return e.id})):[],r(a)}})}),Object(J.jsx)(fa.a,{children:"Name"}),Object(J.jsx)(fa.a,{children:"Email"}),Object(J.jsx)(fa.a,{children:"Location"}),Object(J.jsx)(fa.a,{children:"Phone"}),Object(J.jsx)(fa.a,{children:"Registration date"})]})}),Object(J.jsx)(ga.a,{children:t.slice(0,l).map((function(e){return Object(J.jsxs)(pa.a,{hover:!0,selected:-1!==s.indexOf(e.id),children:[Object(J.jsx)(fa.a,{padding:"checkbox",children:Object(J.jsx)(va.a,{checked:-1!==s.indexOf(e.id),onChange:function(t){return function(e,t){var a=s.indexOf(t),n=[];-1===a?n=n.concat(s,t):0===a?n=n.concat(s.slice(1)):a===s.length-1?n=n.concat(s.slice(0,-1)):a>0&&(n=n.concat(s.slice(0,a),s.slice(a+1))),r(n)}(0,e.id)},value:"true"})}),Object(J.jsx)(fa.a,{children:Object(J.jsxs)(re.a,{sx:{alignItems:"center",display:"flex"},children:[Object(J.jsx)(lt.a,{src:e.avatarUrl,sx:{mr:2},children:Na(e.name)}),Object(J.jsx)(yt.a,{color:"textPrimary",variant:"body1",children:e.name})]})}),Object(J.jsx)(fa.a,{children:e.email}),Object(J.jsx)(fa.a,{children:"".concat(e.address.city,", ").concat(e.address.state,", ").concat(e.address.country)}),Object(J.jsx)(fa.a,{children:e.phone}),Object(J.jsx)(fa.a,{children:et()(e.createdAt).format("DD/MM/YYYY")})]},e.id)}))})]})})}),Object(J.jsx)(ya.a,{component:"div",count:t.length,onPageChange:function(e,t){h(t)},onRowsPerPageChange:function(e){d(e.target.value)},page:m,rowsPerPage:l,rowsPerPageOptions:[5,10,25]})]}))},ka=function(e){return Object(J.jsxs)(re.a,Object(K.a)(Object(K.a)({},e),{},{children:[Object(J.jsxs)(re.a,{sx:{display:"flex",justifyContent:"flex-end"},children:[Object(J.jsx)(ot.a,{children:"Import"}),Object(J.jsx)(ot.a,{sx:{mx:1},children:"Export"}),Object(J.jsx)(ot.a,{color:"primary",variant:"contained",children:"Add customer"})]}),Object(J.jsx)(re.a,{sx:{mt:3},children:Object(J.jsx)(ra.a,{children:Object(J.jsx)(ia.a,{children:Object(J.jsx)(re.a,{sx:{maxWidth:500},children:Object(J.jsx)(ie.a,{fullWidth:!0,InputProps:{startAdornment:Object(J.jsx)(oe.a,{position:"start",children:Object(J.jsx)(le.a,{fontSize:"small",color:"action",children:Object(J.jsx)(de.a,{})})})},placeholder:"Search customer",variant:"outlined"})})})})})]}))},Ca=a(890),Sa=[{id:Object(Ca.a)(),Task:"Fitness for duty policy",address:{country:"USA",state:"West Virginia",city:"Parkersburg",street:"2849 Fulton Street"},avatarUrl:"/static/images/avatars/avatar_3.png",createdAt:15550164e5,email:"ekaterina.tankova@devias.io",name:"Ekaterina Tankova",phone:"304-428-3097"},{id:Object(Ca.a)(),Task:"Fitness for duty policy",address:{country:"USA",state:"Bristow",city:"Iowa",street:"1865  Pleasant Hill Road"},avatarUrl:"/static/images/avatars/avatar_4.png",createdAt:15550164e5,email:"cao.yu@devias.io",name:"Cao Yu",phone:"712-351-5711"},{id:Object(Ca.a)(),Task:"Fitness for duty policy",address:{country:"USA",state:"Georgia",city:"Atlanta",street:"4894  Lakeland Park Drive"},avatarUrl:"/static/images/avatars/avatar_2.png",createdAt:15550164e5,email:"alexa.richardson@devias.io",name:"Alexa Richardson",phone:"770-635-2682"},{id:Object(Ca.a)(),Task:"Fitness for duty policy",address:{country:"USA",state:"Ohio",city:"Dover",street:"4158  Hedge Street"},avatarUrl:"/static/images/avatars/avatar_5.png",createdAt:155493e7,email:"anje.keizer@devias.io",name:"Anje Keizer",phone:"908-691-3242"},{id:Object(Ca.a)(),Task:"Fitness for duty policy",address:{country:"USA",state:"Texas",city:"Dallas",street:"75247"},avatarUrl:"/static/images/avatars/avatar_6.png",createdAt:15547572e5,email:"clarke.gillebert@devias.io",name:"Clarke Gillebert",phone:"972-333-4106"},{id:Object(Ca.a)(),Task:"Fitness for duty policy",address:{country:"USA",state:"California",city:"Bakerfield",street:"317 Angus Road"},avatarUrl:"/static/images/avatars/avatar_1.png",createdAt:15546708e5,email:"adam.denisov@devias.io",name:"Adam Denisov",phone:"858-602-3409"},{id:Object(Ca.a)(),Task:"Fitness for duty policy",address:{country:"USA",state:"California",city:"Redondo Beach",street:"2188  Armbrester Drive"},avatarUrl:"/static/images/avatars/avatar_7.png",createdAt:15543252e5,email:"ava.gregoraci@devias.io",name:"Ava Gregoraci",phone:"415-907-2647"},{id:Object(Ca.a)(),Task:"Fitness for duty policy",address:{country:"USA",state:"Nevada",city:"Las Vegas",street:"1798  Hickory Ridge Drive"},avatarUrl:"/static/images/avatars/avatar_8.png",createdAt:15230484e5,email:"emilee.simchenko@devias.io",name:"Emilee Simchenko",phone:"702-661-1654"},{id:Object(Ca.a)(),Task:"Fitness for duty policy",address:{country:"USA",state:"Michigan",city:"Detroit",street:"3934  Wildrose Lane"},avatarUrl:"/static/images/avatars/avatar_9.png",createdAt:15547028e5,email:"kwak.seong.min@devias.io",name:"Kwak Seong-Min",phone:"313-812-8947"},{id:Object(Ca.a)(),Task:"Fitness for duty policy",address:{country:"USA",state:"Utah",city:"Salt Lake City",street:"368 Lamberts Branch Road"},avatarUrl:"/static/images/avatars/avatar_10.png",createdAt:15227028e5,email:"merrile.burgett@devias.io",name:"Merrile Burgett",phone:"801-301-7894"}],Aa=function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Customers | Material Kit"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsx)(ka,{}),Object(J.jsx)(re.a,{sx:{pt:3},children:Object(J.jsx)(wa,{customers:Sa})})]})})]})},Ea=a(47),Da=a.n(Ea),Ta=a(39),Ia=a.n(Ta),qa=a(20),Fa=a(258),Ba=a(259),La=function(){function e(){Object(Fa.a)(this,e)}return Object(Ba.a)(e,null,[{key:"createCompany",value:function(e){return j.a.post("company/createCompany",e)}},{key:"fetchCompanyById",value:function(e){return j.a.post("company/getCompanyById",e)}},{key:"getAllCompanies",value:function(e){return j.a.post("company/getAllCompanies",e)}},{key:"editCompany",value:function(e){return j.a.post("company/editCompany",e)}},{key:"deleteCompany",value:function(e){return j.a.post("company/deleteCompany",e)}},{key:"companyCheckCodeExists",value:function(e){return j.a.post("company/checkCodeExists",e)}},{key:"companyCheckEmailExists",value:function(e){return j.a.post("company/checkEmailExists",e)}},{key:"companyCheckNameExists",value:function(e){return j.a.post("company/checkNameExists",e)}},{key:"companyCheckPhoneNumberExists",value:function(e){return j.a.post("company/checkPhoneNumberExists",e)}},{key:"createContractor",value:function(e){return j.a.post("contractor/createContractor",e)}},{key:"deleteContractor",value:function(e){return j.a.post("contractor/deleteContractor",e)}},{key:"statusContractori",value:function(e){return j.a.post("contractor/changeContractorAccStatus",e)}},{key:"fetchContractorById",value:function(e){return j.a.post("contractor/getContractorById",e)}},{key:"changeContractorAccStatus",value:function(e){return j.a.post("contractor/changeContractorAccStatus",e)}},{key:"getAllContractors",value:function(){return j.a.get("contractor/getAllContractors")}},{key:"getAllContractorsByID",value:function(e){return j.a.post("contractor/getContractorsByCompanyId",e)}},{key:"contractorCheckNameExists",value:function(e){return j.a.post("contractor/checkNameExists",e)}},{key:"editContractor",value:function(e){return j.a.post("contractor/editContractor",e)}},{key:"contractorCheckEmailExists",value:function(e){return j.a.post("contractor/checkEmailExists",e)}},{key:"contractorCheckCodeExists",value:function(e){return j.a.post("contractor/checkCodeExists",e)}},{key:"contractorCheckPhoneNumberExists",value:function(e){return j.a.post("contractor/checkPhoneNumberExists",e)}},{key:"createTpi",value:function(e){return j.a.post("tpi/createTpi",e)}},{key:"editTpi",value:function(e){return j.a.post("tpi/editTpi",e)}},{key:"statusTpi",value:function(e){return j.a.post("tpi/changeTpiAccStatus",e)}},{key:"fetchTpiById",value:function(e){return j.a.post("tpi/getTpiById",e)}},{key:"deleteTpi",value:function(e){return j.a.post("tpi/deleteTpi",e)}},{key:"getAllTpis",value:function(){return j.a.get("tpi/getAllTpis")}},{key:"tpiCheckPhoneNumberExists",value:function(e){return j.a.post("/tpi/checkPhoneNumberExists",e)}},{key:"getTpisByCmpID",value:function(e){return j.a.post("tpi/getTpisByCompanyId",e)}},{key:"tpiCheckCodeExists",value:function(e){return j.a.post("/tpi/checkCodeExists",e)}},{key:"tpiCheckEmailExists",value:function(e){return j.a.post("/tpi/checkEmailExists",e)}},{key:"tpiCheckNameExists",value:function(e){return j.a.post("/tpi/checkNameExists",e)}},{key:"deleteFeedback",value:function(e){return j.a.post("/feedback/deleteFeedback",e)}},{key:"getAllFeedback",value:function(){return j.a.get("/feedback/getAllFeedbacks")}},{key:"getFeedbacksByCompanyId",value:function(e){return j.a.post("/feedback/getFeedbacksByCompanyId",e)}},{key:"getAssessmentsByCompanyIds",value:function(e){return j.a.post("/assessment/getAssessmentsByCompanyIds",e)}},{key:"getAssessmentById",value:function(e){return j.a.post("/assessment/getAssessmentById",e)}},{key:"getResponsesByCompanyIds",value:function(e){return j.a.post("assessment/responses/getResponsesByCompanyIds",e)}},{key:"getResponseById",value:function(e){return j.a.post("assessment/responses/getResponseById",e)}},{key:"getResponsesByAssessmentId",value:function(e){return j.a.post("assessment/responses/getResponsesByAssessmentId",e)}},{key:"editResponse",value:function(e){return j.a.post("assessment/responses/editResponse",e)}},{key:"changeResponseStatus",value:function(e){return j.a.post("assessment/responses/changeResponseStatus",e)}},{key:"getResponsesByContractorId",value:function(e){return j.a.post("assessment/responses/getResponsesByContractorId",e)}},{key:"createResponseForContractor",value:function(e){return j.a.post("assessment/responses/createResponseForContractor",e)}},{key:"updateSectionInResponse",value:function(e){return j.a.post("assessment/responses/updateSectionInResponse",e)}},{key:"getTotalScoreForContractor",value:function(e){return j.a.post("assessment/responses/getTotalScoreForContractor",e)}},{key:"getTotalScoresOfContrsInCompany",value:function(e){return j.a.post("assessment/responses/getTotalScoresOfContrsInCompany",e)}},{key:"createAssessment",value:function(e){return j.a.post("/assessment/createAssessment",e)}},{key:"editAssessment",value:function(e){return j.a.post("/assessment/editAssessment",e)}},{key:"deleteAssessment",value:function(e){return j.a.post("/assessment/deleteAssessment",e)}},{key:"getAllAssessment",value:function(e){return j.a.post("/assessment/getAllAssessments",e)}},{key:"getAllAssessmentByCmpID",value:function(e){return j.a.post("/assessment/getAssessmentsByCompanyIds",e)}},{key:"getAssessmentsByContractorId",value:function(e){return j.a.post("/assessment/getAssessmentsByContractorId",e)}},{key:"createQuestion",value:function(e){return j.a.post("/assessment/questions/createQuestion",e)}},{key:"editQuestion",value:function(e){return j.a.post("/assessment/questions/editQuestion",e)}},{key:"createBulkQuestions",value:function(e){return j.a.post("/assessment/questions/createBulkQuestions",e)}},{key:"getQuestionByCmpId",value:function(e){return j.a.post("/assessment/questions/getQuestionsByCompanyId",e)}},{key:"createAssessCategory",value:function(e){return j.a.post("/assessment/categories/createAssessCategory",e)}},{key:"editAssessCategory",value:function(e){return j.a.post("/assessment/categories/editAssessCategoryById",e)}},{key:"getAssessmentCategories",value:function(e){return j.a.post("/assessment/categories/getAssessCategoriesByCompanyId",e)}},{key:"getAllNotices",value:function(e){return j.a.get("/notice/getAllNotices?viewers=".concat(e))}},{key:"getAllNoticesByCompanyId",value:function(e,t){return j.a.post("/notice/getNoticesByCompanyId?viewers=".concat(t),e)}},{key:"createNotice",value:function(e){return j.a.post("/notice/createNotice",e)}},{key:"recordNoticeView",value:function(e){return j.a.post("/notice/recordNoticeView",e)}},{key:"createFeedback",value:function(e){return j.a.post("/feedback/createFeedback",e)}},{key:"getObservationReportTable",value:function(e){return j.a.post("/company/reporttable",e)}},{key:"getObservationReportGraphCompany",value:function(e){return j.a.post("/company/reportgraph",e)}},{key:"getObservationReportGraphContractor",value:function(e){return j.a.post("/contractor/reportgraph",e)}},{key:"getViewObservationRCAStatus",value:function(e){return j.a.post("/admin/rcastatus",e)}},{key:"uploadLearning",value:function(e){return j.a.post("/company/uploadLearning",e)}},{key:"fetchLearningTable",value:function(e,t,a){return j.a.get("/".concat(t,"/fetchLearningTable?cmp_id=").concat(e,"&contractor_id=").concat(a))}},{key:"fetchLearningGraph",value:function(e,t){return j.a.get("/company/fetchLearningGraph?cmp_id=".concat(e,"&year=").concat(t))}},{key:"getLearningTopicDocs",value:function(e,t){return j.a.post("/company/getLearningTopicDocs",{companyId:e,topic:t})}},{key:"fetchLeaderBoard",value:function(e){return j.a.get("/admin/leaderboard?cmp_id=".concat(e))}},{key:"fetchCapDetails",value:function(e){return j.a.post("/assessment/responses/getTotalScoresOfContrsInCompany",e)}},{key:"createDocuments",value:function(e){return j.a.post("/document/createDocument",e)}},{key:"editDocuments",value:function(e){return j.a.post("/document/editDocument",e)}},{key:"deleteDocuments",value:function(e){return j.a.post("/document/deleteDocument",e)}},{key:"getAllDocuments",value:function(e){return j.a.post("/document/getAllDocuments",e)}},{key:"getAllDocumentsByCmpID",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.values(t).length>0?j.a.post("/document/getDocumentsByCompanyId",e,t):j.a.post("/document/getDocumentsByCompanyId",e)}},{key:"recordDocView",value:function(e){return j.a.post("/document/recordDocView",e)}},{key:"getESGOForAllContractors",value:function(e){return j.a.post("/assessment/responses/getESGOForAllContractors",e)}},{key:"getESGOForContractor",value:function(e){return j.a.post("/assessment/responses/getESGOForContractor",e)}},{key:"forgotPassword",value:function(e){return j.a.post("/auth/forgotPassword",e)}},{key:"changePasswordWithEmail",value:function(e){return j.a.post("/auth/changePasswordWithEmail",e)}},{key:"getCapPerformanceData",value:function(e){return j.a.post("/assessment/responses/getCapPerformanceData",e)}},{key:"getEmployeeByIds",value:function(e){return j.a.post("/app/getUsersByIds",{userIds:e})}}]),e}(),Ra=(a(245),a(467),function(){return Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:Object(J.jsx)(G.a,{style:{width:"2rem",height:"2rem",color:"#2F3D64"}})})}),Pa=function(e){var t,a=Object(u.useState)(!1),n=Object(y.a)(a,2),c=n[0],s=n[1],r=Object(u.useState)([]),l=Object(y.a)(r,2),d=l[0],b=l[1],h=Object(u.useState)({}),x=Object(y.a)(h,2),O=x[0],p=x[1],f=Object(u.useState)({}),v=Object(y.a)(f,2),g=v[0],w=v[1],k=Object(u.useState)(!1),C=Object(y.a)(k,2),S=C[0],A=C[1],E=function(){return s(!1)},D=function(e){return Object(o.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=!1,(null===g||void 0===g?void 0:g[e._id])&&(a=!0),console.log(e.viewers),a||(a=e.viewers.some((function(e){return e.viewer.uid===(null===L||void 0===L?void 0:L.user)}))),p(e),s(!0),a){t.next=17;break}return t.prev=7,t.next=10,La.recordDocView({documentId:e._id,viewer:{type:null===L||void 0===L?void 0:L.type,name:null===L||void 0===L?void 0:L.name,uid:null===L||void 0===L?void 0:L.user}});case 10:w(null!==Object.values(g)?Object(K.a)(Object(K.a)({},g),{},Object(N.a)({},e._id,!0)):Object(N.a)({},e._id,!0)),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(7),F()("Error",t.t0.message,"error"),w(null!==Object.values(g)?Object(K.a)(Object(K.a)({},g),{},Object(N.a)({},e._id,!1)):Object(N.a)({},e._id,!1));case 17:case"end":return t.stop()}}),t,null,[[7,13]])})))},T=Object(u.useState)(!0),I=Object(y.a)(T,2),q=I[0],B=I[1],L=Object(m.c)((function(e){return e.auth})).userData,R=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B(!0),e.next=4,La.getAllDocumentsByCmpID({companyId:null!==(t=null===L||void 0===L?void 0:L.cmp_id)&&void 0!==t?t:L.assoc_companies[0]},{params:{viewers:!0}});case 4:if(!((a=e.sent.data).code>=400)){e.next=7;break}throw new Error(a.message);case 7:b(a.data.sort((function(e,t){return et()(t.createdAt).diff(et()(e.createdAt))}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),F()("Error",e.t0.message,"error");case 13:return e.prev=13,B(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){return(null===L||void 0===L?void 0:L.user)&&R()||L.assoc_companies[0]&&R(),function(){}}),[L]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(qa.a,{size:"lg",show:c,onHide:E,backdrop:"static",keyboard:"false",centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Document"}),Object(J.jsx)("label",{onClick:E,id:"feedback-btn",children:Object(J.jsx)(Ia.a,{})})]}),Object(J.jsxs)(qa.a.Body,{children:[Object(J.jsx)("div",{className:"text-center ",children:Object(J.jsx)("h5",{children:null===O||void 0===O?void 0:O.title})}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-md-6",children:[" ",Object(J.jsxs)("p",{className:"text-left",children:["Date: ",et()(null===O||void 0===O?void 0:O.createdAt).format("DD/MM/YYYY")]})]}),Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsxs)("p",{style:{float:"right"},children:["Time: ",et()(null===O||void 0===O?void 0:O.createdAt).format("hh:mm A")]})})]}),Object(J.jsx)("p",{children:null===O||void 0===O?void 0:O.description}),Object(J.jsxs)("p",{children:[Object(J.jsx)("br",{}),null===O||void 0===O?void 0:O.creatorName]}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)("br",{}),(null!==(t=null===O||void 0===O?void 0:O.attachments)&&void 0!==t?t:[]).map((function(e){return Object(J.jsxs)("div",{className:"mb-2 d-flex align-items-center",children:[Object(J.jsx)(ot.a,{className:"view-btn",color:"primary",size:"small",variant:"text",onClick:function(){var t,a;t=e.fileLink,a=e.fileName,j()({url:t,method:"GET",responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=t,n.setAttribute("download",a),document.body.appendChild(n),n.click()}))},children:"Download"}),Object(J.jsxs)("p",{children:["\xa0\xa0(",e.fileName,")"]})]})}))]})]}),Object(J.jsxs)(ra.a,Object(K.a)(Object(K.a)({},e),{},{children:[Object(J.jsx)(da.a,{title:Object(J.jsx)("h2",{children:"Documents"})}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(ha.a,{children:Object(J.jsx)(re.a,{children:q?Object(J.jsx)("div",{className:"w-100 h-100 p-5",children:Object(J.jsx)(Ra,{})}):Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(Oa.a,{children:Object(J.jsxs)(pa.a,{children:[Object(J.jsx)(fa.a,{className:"text-center",children:"Date"}),Object(J.jsx)(fa.a,{className:"text-center",children:"Title"})]})}),Object(J.jsx)(ga.a,{children:d.slice(0,S?d.length:5).map((function(e){return Object(J.jsxs)(pa.a,{hover:!0,children:[Object(J.jsx)(fa.a,{children:et()(e.createdAt).format("DD/MM/YYYY")}),Object(J.jsx)(fa.a,{onClick:D(e),className:"",children:Object(J.jsx)("u",{children:e.title})})]},e._id)}))})]})})}),Object(J.jsx)(re.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:(null!==d&&void 0!==d?d:[]).length>5&&Object(J.jsx)(ot.a,{className:"view-btn",color:"primary",endIcon:Object(J.jsx)(Da.a,{}),size:"small",variant:"text",onClick:function(){return A((function(e){return!e}))},children:S?"View Less":"View all"})})]}))]})},Ma=a(48);a(166);function Wa(){var e=b.a.useState({columns:[{label:"Due Date",field:"date",sort:"disabled",width:150},{label:"Task",field:"Task",width:270}],rows:[]}),t=Object(y.a)(e,2),a=t[0],n=t[1],c=Object(u.useState)(!0),s=Object(y.a)(c,2),r=s[0],l=s[1],d=Object(m.c)((function(e){return e.auth})).userData,j=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,Promise.all([La.getAssessmentsByContractorId({contractorId:null===d||void 0===d?void 0:d.user,include:{sections_category:!1,sections_questions_question:!1}}),La.getResponsesByContractorId({contractorId:null===d||void 0===d?void 0:d.user,include:{assessment:!1,sections_category:!1,sections_questions_question:!1}})]);case 4:if(!((t=e.sent)[0].data.code>=400)){e.next=7;break}throw new Error(t[0].data.message);case 7:if(!(t[1].data.code>=400)){e.next=9;break}throw new Error(t[1].data.message);case 9:n(Object(K.a)(Object(K.a)({},a),{},{rows:t[0].data.data.map((function(e){var a=e.dueDate,n=t[1].data.data.find((function(t){return t.assessment===e._id}));return n&&n.isDueDateExtended&&et()(n.newDueDate).isSameOrAfter(a)&&(a=n.newDueDate),{Task:e.name,date:et()(a).format("DD/MM/YYYY")}})).sort((function(e,t){return et()(e.date,"DD/MM/YYYY").diff(et()(t.date,"DD/MM/YYYY"))}))})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),F()("Error",e.t0.message,"error");case 15:return e.prev=15,l(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){return(null===d||void 0===d?void 0:d.user)&&j(),function(){}}),[d]),r?Object(J.jsx)("div",{className:"w-100 h-100 p-5",children:Object(J.jsx)(Ra,{})}):Object(J.jsx)(Ma.c,{hover:!0,entries:10,pagesAmount:4,data:a,pagingBottom:!0,searchTop:!0,searchBottom:!1})}a.p;var Va=function(e){var t=Object(u.useState)(!0),a=Object(y.a)(t,2),n=a[0],c=a[1],s=Object(u.useState)({}),r=Object(y.a)(s,2),l=r[0],d=r[1],j=Object(m.c)((function(e){return e.auth})).userData,b=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,La.getTotalScoreForContractor({contractorId:j.user});case 4:if(!((t=e.sent.data).code>=400)){e.next=7;break}throw new Error(t.message);case 7:(a=t.data).length>0&&(n=a.reduce((function(e,t){return e.scored=e.scored+t.scored,e.total=e.total+t.total,e}),{scored:0,total:0}),s=n.scored/n.total*100,d(U(s))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),F()("Error",e.t0.message,"error");case 14:return e.prev=14,c(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){return(null===j||void 0===j?void 0:j.user)&&b(),function(){}}),[j]),Object(J.jsxs)(ra.a,Object(K.a)(Object(K.a)({},e),{},{id:"CapDetails",children:[Object(J.jsx)(da.a,{title:Object(J.jsx)("h2",{children:"Cap Details"})}),Object(J.jsx)(Nt.a,{}),n?Object(J.jsx)("div",{className:"h-100",style:{marginTop:"-2em"},children:Object(J.jsx)(Ra,{})}):(null===l||void 0===l?void 0:l.score)?Object(J.jsx)(ha.a,{children:Object(J.jsx)(re.a,{children:Object(J.jsx)("div",{className:"container",children:Object(J.jsxs)("div",{className:" row",children:[Object(J.jsxs)("div",{className:"col-md-6 score text-center",children:[Object(J.jsx)("img",{src:null===l||void 0===l?void 0:l.avatarUrl,alt:"cap",id:"cap"}),Object(J.jsx)("h5",{className:null===l||void 0===l?void 0:l.color,children:null===l||void 0===l?void 0:l.type})]}),Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsxs)("div",{className:"my-auto text-center score",children:[Object(J.jsx)("h3",{children:"Your Score"}),Object(J.jsx)("h1",{className:null===l||void 0===l?void 0:l.color,id:"score-size",children:null===l||void 0===l?void 0:l.score})]})})]})})})}):Object(J.jsx)("div",{className:"h-100 w-100 d-flex justify-content-center align-items-center",style:{marginTop:"-2em"},children:"No Data Available"})]}))},Ya=a(71),Ua=a(35),za=a(878),Ha=a(293),Qa=(a(687),function(e){if(isNaN(e))return"";var t=(e/1024).toFixed(2),a=(t/1024).toFixed(2);return t>1e3?a+" MB":t+" KB"}),_a=function(e){var t=e.file,a=e.handleDelete,n=e.mode,c=e.disableIcon,s=void 0!==c&&c,r=e.style,i=void 0===r?{}:r,o=Object(u.useState)(),l=Object(y.a)(o,2),d=l[0],b=l[1],m=function(){j()({url:d,method:"GET",responseType:"blob"}).then((function(e){var a=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",t.value.fileName),document.body.appendChild(n),n.click()}))};return Object(u.useEffect)((function(){var e;(console.log({file:t}),null===t||void 0===t?void 0:t.value)&&T.ref(null===t||void 0===t||null===(e=t.value)||void 0===e?void 0:e.filePath).getDownloadURL({action:"read",promptSaveAs:t.value.fileName}).then((function(e){console.log("getFileUrl",e),b(e)})).catch((function(e){var a;console.log("getFileUrl err",e,null===t||void 0===t||null===(a=t.value)||void 0===a?void 0:a.filePath),b()}))}),[]),"view"===n?Object(J.jsxs)("div",{style:{margin:".5rem .5rem .5rem 0",padding:".5rem .7rem",border:"1px solid #808080ab",borderRadius:"5px",display:"flex",justifyContent:"space-between",boxShadow:"rgba(0, 0, 0, 0.16) 0px 1px 4px",width:"300px"},children:[Object(J.jsx)("div",{style:{width:"100%"},children:Object(J.jsxs)("div",{onClick:function(){m()},style:{cursor:"pointer"},className:"d-flex align-items-center",children:[Object(J.jsx)("i",{className:"fas fa-file-download",style:{marginRight:".5rem",fontSize:"1.5rem",color:"#8d8d8d"}}),Object(J.jsxs)("div",{children:[Object(J.jsx)("p",{style:{margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"200px"},"data-tip":t.value.fileName,children:t.value.fileName}),Object(J.jsx)(Ha.a,{className:"file-tooltip",effect:"solid",place:"bottom",backgroundColor:"rgba(105, 105, 105, 0.781)"}),Object(J.jsx)("small",{className:"text-muted",children:Qa(t.value.fileSize)})]})]})}),Object(J.jsx)("div",{onClick:function(){m()},className:"d-flex",children:Object(J.jsx)("i",{className:"fas fa-external-link-alt",style:{cursor:"pointer",fontSize:"1.1rem"}})})]}):"youtube-embed"===n?Object(J.jsx)("div",{style:{padding:".5rem",border:"1px solid #808080ab",borderRadius:"5px",boxShadow:"rgba(0, 0, 0, 0.16) 0px 1px 4px"},children:Object(J.jsx)("object",{width:"300px",data:t,children:t})}):"edit"===n?Object(J.jsxs)("div",{style:{margin:".5rem .5rem .5rem 0",padding:".5rem .7rem",border:"1px solid #808080ab",borderRadius:"5px",display:"flex",justifyContent:"space-between",boxShadow:"rgba(0, 0, 0, 0.16) 0px 1px 4px",width:"300px"},children:[Object(J.jsx)("div",{style:{width:"100%"},children:Object(J.jsxs)("div",{className:"d-flex align-items-center",children:[Object(J.jsx)("i",{className:"fas fa-file-download",style:{marginRight:".5rem",fontSize:"1.5rem",color:"#8d8d8d"}}),Object(J.jsxs)("div",{children:[Object(J.jsx)("p",{style:{margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"200px"},"data-tip":t.fileName,children:t.fileName}),Object(J.jsx)(Ha.a,{className:"file-tooltip",effect:"solid",place:"bottom",backgroundColor:"rgba(105, 105, 105, 0.781)"}),Object(J.jsx)("small",{className:"text-muted",children:Qa(t.fileSize)})]})]})}),Object(J.jsxs)("div",{className:"d-flex",children:[Object(J.jsx)("a",{href:t.fileLink,target:"blank",children:Object(J.jsx)("i",{className:"fas fa-external-link-alt",style:{cursor:"pointer",fontSize:"1.1rem"}})}),Object(J.jsx)("i",{className:"fas fa-trash-alt",style:{cursor:"pointer",paddingLeft:"1rem",fontSize:"1.1rem",color:"#8d8d8d"},onClick:function(){F()({title:"Warning",text:"Are you sure you want to delete the file ".concat(t.fileName,"?"),icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e&&a()}))}})]})]}):"edit-profile"===n?(console.log("FILE NAME>>",t.name),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{className:"d-flex flex-row justify-content-center",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)(lt.a,{src:t.fileLink?t.fileLink:URL.createObjectURL(t),sx:{height:100,width:100}}),Object(J.jsx)("span",{style:{fontSize:"12px"},children:t.name})]}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{children:s?null:Object(J.jsx)("i",{className:"fa fa-times",style:{cursor:"pointer",paddingLeft:"1rem",fontSize:"1.1rem",color:"#8d8d8d"},onClick:function(){F()({title:"Warning",text:"Are you sure you want to delete the file ".concat(t.name,"?"),icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e&&a()}))}})})]})})):Object(J.jsxs)("div",{style:Object(K.a)({margin:".5rem .5rem .5rem 0",padding:".5rem .7rem",border:"1px solid #808080ab",borderRadius:"5px",display:"flex",justifyContent:"space-between",boxShadow:"rgba(0, 0, 0, 0.16) 0px 1px 4px",width:"300px"},i),children:[Object(J.jsx)("div",{style:{width:"100%"},children:Object(J.jsxs)("div",{className:"d-flex align-items-center",children:[Object(J.jsx)("i",{className:"fas fa-file-upload",style:{marginRight:".5rem",fontSize:"1.5rem",color:"#8d8d8d"}}),Object(J.jsxs)("div",{children:[Object(J.jsx)("p",{style:{margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"220px"},"data-tip":t.name,children:t.name}),Object(J.jsx)(Ha.a,{className:"file-tooltip",effect:"solid",place:"bottom",backgroundColor:"rgba(105, 105, 105, 0.781)"}),Object(J.jsx)("small",{className:"text-muted",children:Qa(t.size)})]})]})}),Object(J.jsx)("div",{children:Object(J.jsx)("i",{className:"fas fa-times",style:{cursor:"pointer",paddingLeft:"1rem",fontSize:"1.1rem",color:"Red"},onClick:a})})]})},Ga=a(56),Ja=a.n(Ga),Za=function(e){var t=e.handleFileChanges,a=e.acceptExt,n=void 0===a?"*":a,c=e.defaultFiles,s=e.handleUploadedFilesDelete,r=e.disable,i=Object(u.useRef)(),o=Object(u.useState)([]),l=Object(y.a)(o,2),d=l[0],j=l[1];Object(u.useEffect)((function(){return t(d),i.current.value="",function(){}}),[d]);var b=function(e){return function(){var t=Object(ke.a)(d);t.splice(e,1),j(t)}};return Object(J.jsxs)("div",{children:[Object(J.jsx)(za.a,{className:"view-btn",disable:r,onClick:function(){return i.current.click()},children:Object(J.jsx)(Ja.a,{className:"response-file"})}),Object(J.jsx)("input",{disabled:r,type:"file",multiple:!0,style:{visibility:"hidden"},ref:i,onChange:function(e){if(console.log(e.target.files),e.target.files){var t=[],a=e.target.files;Array.prototype.forEach.call(a,(function(e){if("*"!==n){var a=n.split(",").map((function(e){return e.trim().substring(1)})),c=e.name.split(".");if(!a.includes(c[c.length-1]))return i.current.value="",F()({title:"Error",text:"Files with unsupported type found",icon:"error",button:"OK"})}t.push(e)})),a.length===t.length&&j((function(e){return[].concat(Object(ke.a)(e),t)}))}},accept:n}),Object(J.jsxs)("div",{style:{margin:".5rem 0 0 0",width:"100%",display:"flex",flexWrap:"wrap"},children:[d.map((function(e,t){return Object(J.jsx)(_a,{file:e,handleDelete:b(t)},t.toString())})),c&&c.map((function(e,t){return Object(J.jsx)(_a,{file:e,handleDelete:s(t),mode:"edit"},t.toString())}))]})]})},Xa=a(36),Ka=a(15),$a=function(){var e=Object(o.a)(i.a.mark((function e(t,a,n){var c,s,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name.trim().replace(/\s+/g,"_"),s="feedback/".concat(a,"/").concat(n,"/").concat(V(5),"-").concat(c),r=T.ref(s),e.next=5,r.put(t);case 5:return e.next=7,r.getDownloadURL();case 7:return o=e.sent,e.abrupt("return",{fileName:c,filePath:s,fileLink:o,fileSize:t.size,fileType:t.type});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),en=function(e,t){return function(){var a=Object(o.a)(i.a.mark((function a(n){var c,s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(Te(!0)),a.next=4,Promise.allSettled(t.map((function(t){return $a(t,e.userUid,"feedbacks")})));case 4:return c=a.sent,e.attachments=c,console.log("Feedback",e),a.next=9,La.createFeedback(e);case 9:s=a.sent,F()({title:"Feedback Added Successfully",icon:"success",button:"Ok"}),n(Te(!1)),console.log(s),a.next=20;break;case 15:a.prev=15,a.t0=a.catch(0),n(Te(!0)),F()({title:"Error",text:a.t0.message,icon:"error",button:"Ok"}),console.log(a.t0);case 20:case"end":return a.stop()}}),a,null,[[0,15]])})));return function(e){return a.apply(this,arguments)}}()},tn=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Te(!0)),n=[],t.next=5,La.getFeedbacksByCompanyId({companyId:e});case 5:n=t.sent,a(De(n.data.data)),a(Te(!1)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),a(Te(!1)),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},an=function(){var e=Object(u.useState)(!1),t=Object(y.a)(e,2),a=t[0],n=t[1],c=Object(m.c)((function(e){return e.auth})).userData,s=Object(m.c)((function(e){return e.feedback})).loading,r=Object(m.b)(),i=Object(u.useState)([]),o=Object(y.a)(i,2),l=o[0],d=o[1],j=function(){return n(!1)};return Object(J.jsxs)(J.Fragment,{children:[s&&Object(J.jsx)(X,{}),Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Home | Oren"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:Object(J.jsx)("ul",{class:"breadcrumb",children:Object(J.jsx)("li",{children:Object(J.jsx)("a",{href:"dashboard",children:"Dashboard"})})})})}),Object(J.jsxs)("div",{className:"col-md-6",children:[Object(J.jsx)(Ua.a,{style:{float:"right"},variant:"",className:"modal-submit-btn",onClick:function(){return n(!0)},children:"Give Feedback"}),Object(J.jsxs)(qa.a,{show:a,onHide:j,backdrop:"static",keyboard:"false",centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Feedback"}),Object(J.jsx)(Ua.a,{variant:"secondary",className:"feedback-btn",onClick:j,children:Object(J.jsx)(Ia.a,{})})]}),Object(J.jsx)(qa.a.Body,{children:Object(J.jsx)(Xa.a,{initialValues:{feedbackText:""},onSubmit:function(e){return function(e){console.log("Val>>",e);var t={userUid:c.user,userType:c.type,userInfo:{name:c.name,email:c.email},cmp_id:c.cmp_id,cmp_name:c.name,feedbackText:e.feedbackText,attachments:[]};j(),r(en(t,l))}(e)},validationSchema:Ka.e({}),children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.values,c=e.errors,s=e.touched,r=e.setFieldTouched;e.setFieldValue,e.setFieldError;return Object(J.jsxs)("form",{onSubmit:t,children:["Share your suggestions or feedback below:",Object(J.jsxs)("div",{className:"my-2",children:[Object(J.jsx)(Ya.a.Control,{as:"textarea",placeholder:"Leave a comment here",style:{height:"100px"},onChange:a("feedbackText"),value:n.feedbackText,onFocus:function(){return r("feedbackText")}}),Object(J.jsx)("small",{className:"text-danger form-text",children:s.feedbackText&&c.feedbackText}),Object(J.jsx)("br",{})]}),Object(J.jsxs)("div",{style:{display:"flex"},children:[Object(J.jsx)("div",{children:Object(J.jsx)(Za,{handleFileChanges:function(e){return d(e)},acceptExt:".jpeg, .jpg, .png, .pdf, .xls, .xlsx, .csv"})}),Object(J.jsx)("div",{children:Object(J.jsx)(Ua.a,{className:"modal-submit-btn",style:{float:"right"},disabled:""==n.feedbackText,onClick:function(){t()},children:"Submit"})})]})]})}})})]})]})]}),Object(J.jsx)("h2",{}),Object(J.jsxs)("div",{className:"row assessment-table-contractor",container:!0,spacing:3,children:[Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsx)(sa.a,{item:!0,lg:12,md:12,xl:12,xs:12,children:Object(J.jsx)(Va,{})}),Object(J.jsx)(sa.a,{className:"grid2",item:!0,lg:12,md:12,xl:12,xs:12,children:Object(J.jsx)(Pa,{})})]}),Object(J.jsxs)("div",{className:"col-md-7",children:[Object(J.jsxs)(ra.a,{children:[Object(J.jsx)(da.a,{title:Object(J.jsx)("h2",{children:"Assessments"})}),Object(J.jsx)(Nt.a,{})]}),Object(J.jsx)(ra.a,{id:"assessment-table",className:"text-center",children:Object(J.jsx)(sa.a,{item:!0,lg:12,md:12,xl:12,xs:12,children:Object(J.jsx)(Wa,{})})})]})]})]})})]})},nn=a(727),cn=a(728),sn=a(721),rn=a(756),on=a(879),ln=a(880),dn="/static/images/oren-logo.png",jn=function(){var e=b.a.useState(!0),t=Object(y.a)(e,2),a=(t[0],t[1],b.a.useState(!1)),n=Object(y.a)(a,2),c=n[0],r=n[1],l=Object(m.c)((function(e){return e.auth})),d=l.userData,j=l.isLoggedIn,x=Object(u.useState)(!1),O=Object(y.a)(x,2),p=O[0],f=O[1];Object(u.useEffect)((function(){var e=localStorage.getItem("rememberMe");return f(1===+e),function(){}}),[]);var v=function(){r(!c)},g=function(e){e.preventDefault()},N=(Object(h.i)(),Object(m.b)()),w=Object(m.c)((function(e){return e.auth})).loading,k=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("LOGIN>>>",t),e.next=3,N(Ke(t.email,t.password));case 3:p?(localStorage.setItem("email",t.email),localStorage.setItem("pass",t.password)):(localStorage.setItem("email",""),localStorage.setItem("pass","")),console.log("LOGIN");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!w&&j&&(null===d||void 0===d?void 0:d.type)?(console.log("redirecting",z(null===d||void 0===d?void 0:d.type),null===d||void 0===d?void 0:d.type,j),Object(J.jsx)(h.a,{to:z(null===d||void 0===d?void 0:d.type),replace:!0})):Object(J.jsxs)(J.Fragment,{children:[w&&Object(J.jsx)(X,{}),Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Login | ORENNOW"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(J.jsx)(ca.a,{maxWidth:"sm",children:Object(J.jsx)(Xa.a,{enableReinitialize:!0,initialValues:{email:p?localStorage.getItem("email"):"",password:p?localStorage.getItem("pass"):""},validationSchema:Ka.e().shape({email:Ka.g().email("Must be a valid email").max(255).required("Email is required"),password:Ka.g().max(255).required("Password is required")}),onSubmit:function(e){return k(e)},children:function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,r=e.handleSubmit,i=e.isSubmitting,o=e.touched,l=e.values;return Object(J.jsx)("form",{onSubmit:r,children:Object(J.jsxs)(ra.a,{id:"login-card",children:[Object(J.jsx)(sa.a,{container:!0,spacing:3,children:Object(J.jsx)(sa.a,{className:"text-center",item:!0,xs:12,md:12,children:Object(J.jsx)("img",{src:dn,alt:"ORENNOW",id:"logo2"})})}),Object(J.jsx)(re.a,{sx:{pb:1,pt:3},children:Object(J.jsx)(yt.a,{align:"center",color:"textSecondary",variant:"body1",children:"Login with email address"})}),Object(J.jsxs)(nn.a,{sx:{mt:3,width:"46ch"},variant:"outlined",children:[Object(J.jsx)(cn.a,{htmlFor:"outlined-adornment-password",children:"Email address"}),Object(J.jsx)(sn.a,{error:Boolean(o.email&&t.email),fullWidth:!0,helperText:o.email&&t.email,margin:"normal",name:"email",onBlur:a,onChange:n,type:"email",value:l.email,variant:"outlined"}),Object(J.jsx)("span",{style:{fontSize:"12px",marginLeft:"12px",marginTop:"5px",color:"red"},children:o.email&&t.email})]}),Object(J.jsxs)(nn.a,{sx:{mt:3,width:"46ch"},variant:"outlined",children:[Object(J.jsx)(cn.a,{htmlFor:"outlined-adornment-password",children:"Password"}),Object(J.jsx)(sn.a,{style:{width:"100%"},error:Boolean(o.password&&t.password),fullWidth:!0,helperText:o.password&&t.password,label:"Password",type:c?"text":"password",margin:"normal",name:"password",onBlur:a,onChange:n,value:l.password,variant:"outlined",endAdornment:Object(J.jsx)(ne.a,{"aria-label":"toggle password visibility",onClick:v,onMouseDown:g,edge:"end",children:c?Object(J.jsx)(on.a,{}):Object(J.jsx)(ln.a,{})})}),Object(J.jsx)("span",{style:{fontSize:"12px",marginLeft:"12px",marginTop:"5px",color:"red"},children:o.password&&t.password})]}),Object(J.jsx)(re.a,{sx:{py:2},children:Object(J.jsx)(ot.a,{color:"primary",disabled:i,fullWidth:!0,size:"large",type:"submit",variant:"contained",className:"login-button",children:"Sign in"})}),Object(J.jsxs)(sa.a,{container:!0,spacing:3,children:[Object(J.jsx)(sa.a,{className:"pull-left",item:!0,xs:12,md:6,children:Object(J.jsxs)(yt.a,{color:"textSecondary",variant:"body1",children:[" ",Object(J.jsx)(va.a,{color:"primary",inputProps:{"aria-label":"secondary checkbox"},checked:p,onChange:function(e){e.target.checked?(f(!0),localStorage.setItem("rememberMe",1)):(f(!1),localStorage.setItem("rememberMe",0),localStorage.setItem("email",""),localStorage.setItem("pass",""))}})," ","Remember me"]})}),Object(J.jsx)(sa.a,{className:"float-right",item:!0,xs:12,md:6,children:Object(J.jsxs)(yt.a,{style:{float:"right"},color:"textSecondary",variant:"body1",className:"my-2",children:[" ",Object(J.jsx)(rn.a,{component:s.b,to:"/Forgot_Password",variant:"h6",children:"Forgot Password?"})]})})]})]})})}})})})]})},un=function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"404 | Material Kit"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(J.jsxs)(ca.a,{maxWidth:"md",children:[Object(J.jsx)(yt.a,{align:"center",color:"textPrimary",variant:"h1",children:"404: The page you are looking for isn\u2019t here"}),Object(J.jsx)(yt.a,{align:"center",color:"textPrimary",variant:"subtitle2",children:"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"}),Object(J.jsx)(re.a,{sx:{textAlign:"center"},children:Object(J.jsx)("img",{alt:"Under development",src:"/static/images/undraw_page_not_found_su7k.svg",style:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}})})]})})]})},bn=a(757),mn=function(e){return Object(J.jsxs)(re.a,Object(K.a)(Object(K.a)({},e),{},{children:[Object(J.jsxs)(re.a,{sx:{display:"flex",justifyContent:"flex-end"},children:[Object(J.jsx)(ot.a,{children:"Import"}),Object(J.jsx)(ot.a,{sx:{mx:1},children:"Export"}),Object(J.jsx)(ot.a,{color:"primary",variant:"contained",children:"Add product"})]}),Object(J.jsx)(re.a,{sx:{mt:3},children:Object(J.jsx)(ra.a,{children:Object(J.jsx)(ia.a,{children:Object(J.jsx)(re.a,{sx:{maxWidth:500},children:Object(J.jsx)(ie.a,{fullWidth:!0,InputProps:{startAdornment:Object(J.jsx)(oe.a,{position:"start",children:Object(J.jsx)(le.a,{fontSize:"small",color:"action",children:Object(J.jsx)(de.a,{})})})},placeholder:"Search product",variant:"outlined"})})})})})]}))},hn=a(506),xn=a.n(hn),On=a(507),pn=a.n(On),fn=function(e){var t=e.product,a=Object($.a)(e,["product"]);return Object(J.jsxs)(ra.a,Object(K.a)(Object(K.a)({sx:{display:"flex",flexDirection:"column",height:"100%"}},a),{},{children:[Object(J.jsxs)(ia.a,{children:[Object(J.jsx)(re.a,{sx:{display:"flex",justifyContent:"center",pb:3},children:Object(J.jsx)(lt.a,{alt:"Product",src:t.media,variant:"square"})}),Object(J.jsx)(yt.a,{align:"center",color:"textPrimary",gutterBottom:!0,variant:"h4",children:t.title}),Object(J.jsx)(yt.a,{align:"center",color:"textPrimary",variant:"body1",children:t.description})]}),Object(J.jsx)(re.a,{sx:{flexGrow:1}}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(re.a,{sx:{p:2},children:Object(J.jsxs)(sa.a,{container:!0,spacing:2,sx:{justifyContent:"space-between"},children:[Object(J.jsxs)(sa.a,{item:!0,sx:{alignItems:"center",display:"flex"},children:[Object(J.jsx)(xn.a,{color:"action"}),Object(J.jsx)(yt.a,{color:"textSecondary",display:"inline",sx:{pl:1},variant:"body2",children:"Updated 2hr ago"})]}),Object(J.jsxs)(sa.a,{item:!0,sx:{alignItems:"center",display:"flex"},children:[Object(J.jsx)(pn.a,{color:"action"}),Object(J.jsxs)(yt.a,{color:"textSecondary",display:"inline",sx:{pl:1},variant:"body2",children:[t.totalDownloads," ","Downloads"]})]})]})})]}))},vn=[{id:Object(Ca.a)(),createdAt:"27/03/2019",description:"Dropbox is a file hosting service that offers cloud storage, file synchronization, a personal cloud.",media:"/static/images/products/product_1.png",title:"Dropbox",totalDownloads:"594"},{id:Object(Ca.a)(),createdAt:"31/03/2019",description:"Medium is an online publishing platform developed by Evan Williams, and launched in August 2012.",media:"/static/images/products/product_2.png",title:"Medium Corporation",totalDownloads:"625"},{id:Object(Ca.a)(),createdAt:"03/04/2019",description:"Slack is a cloud-based set of team collaboration tools and services, founded by Stewart Butterfield.",media:"/static/images/products/product_3.png",title:"Slack",totalDownloads:"857"},{id:Object(Ca.a)(),createdAt:"04/04/2019",description:"Lyft is an on-demand transportation company based in San Francisco, California.",media:"/static/images/products/product_4.png",title:"Lyft",totalDownloads:"406"},{id:Object(Ca.a)(),createdAt:"04/04/2019",description:"GitHub is a web-based hosting service for version control of code using Git.",media:"/static/images/products/product_5.png",title:"GitHub",totalDownloads:"835"},{id:Object(Ca.a)(),createdAt:"04/04/2019",description:"Squarespace provides software as a service for website building and hosting. Headquartered in NYC.",media:"/static/images/products/product_6.png",title:"Squarespace",totalDownloads:"835"}],gn=function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Products | Material Kit"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsx)(mn,{}),Object(J.jsx)(re.a,{sx:{pt:3},children:Object(J.jsx)(sa.a,{container:!0,spacing:3,children:vn.map((function(e){return Object(J.jsx)(sa.a,{item:!0,lg:4,md:6,xs:12,children:Object(J.jsx)(fn,{product:e})},e.id)}))})}),Object(J.jsx)(re.a,{sx:{display:"flex",justifyContent:"center",pt:3},children:Object(J.jsx)(bn.a,{color:"primary",count:3,size:"small"})})]})})]})},yn=a(734),Nn=function(){var e=Object(h.i)();return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Register | Material Kit"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(J.jsx)(ca.a,{maxWidth:"sm",children:Object(J.jsx)(Xa.a,{initialValues:{email:"",firstName:"",lastName:"",password:"",policy:!1},validationSchema:Ka.e().shape({email:Ka.g().email("Must be a valid email").max(255).required("Email is required"),firstName:Ka.g().max(255).required("First name is required"),lastName:Ka.g().max(255).required("Last name is required"),password:Ka.g().max(255).required("password is required"),policy:Ka.b().oneOf([!0],"This field must be checked")}),onSubmit:function(){e("/app/dashboard",{replace:!0})},children:function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,c=e.handleSubmit,r=e.isSubmitting,i=e.touched,o=e.values;return Object(J.jsxs)("form",{onSubmit:c,children:[Object(J.jsxs)(re.a,{sx:{mb:3},children:[Object(J.jsx)(yt.a,{color:"textPrimary",variant:"h2",children:"Create new account"}),Object(J.jsx)(yt.a,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:"Use your email to create new account"})]}),Object(J.jsx)(ie.a,{error:Boolean(i.firstName&&t.firstName),fullWidth:!0,helperText:i.firstName&&t.firstName,label:"First name",margin:"normal",name:"firstName",onBlur:a,onChange:n,value:o.firstName,variant:"outlined"}),Object(J.jsx)(ie.a,{error:Boolean(i.lastName&&t.lastName),fullWidth:!0,helperText:i.lastName&&t.lastName,label:"Last name",margin:"normal",name:"lastName",onBlur:a,onChange:n,value:o.lastName,variant:"outlined"}),Object(J.jsx)(ie.a,{error:Boolean(i.email&&t.email),fullWidth:!0,helperText:i.email&&t.email,label:"Email Address",margin:"normal",name:"email",onBlur:a,onChange:n,type:"email",value:o.email,variant:"outlined"}),Object(J.jsx)(ie.a,{error:Boolean(i.password&&t.password),fullWidth:!0,helperText:i.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:a,onChange:n,type:"password",value:o.password,variant:"outlined"}),Object(J.jsxs)(re.a,{sx:{alignItems:"center",display:"flex",ml:-1},children:[Object(J.jsx)(va.a,{checked:o.policy,name:"policy",onChange:n}),Object(J.jsxs)(yt.a,{color:"textSecondary",variant:"body1",children:["I have read the"," ",Object(J.jsx)(rn.a,{color:"primary",component:s.b,to:"#",underline:"always",variant:"h6",children:"Terms and Conditions"})]})]}),Boolean(i.policy&&t.policy)&&Object(J.jsx)(yn.a,{error:!0,children:t.policy}),Object(J.jsx)(re.a,{sx:{py:2},children:Object(J.jsx)(ot.a,{color:"primary",disabled:r,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Sign up now"})}),Object(J.jsxs)(yt.a,{color:"textSecondary",variant:"body1",children:["Have an account?"," ",Object(J.jsx)(rn.a,{component:s.b,to:"/login",variant:"h6",children:"Sign in"})]})]})}})})})]})},wn=a(758),kn=function(e){return Object(J.jsx)("form",Object(K.a)(Object(K.a)({},e),{},{children:Object(J.jsxs)(ra.a,{children:[Object(J.jsx)(da.a,{subheader:"Manage the notifications",title:"Notifications"}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(ia.a,{children:Object(J.jsxs)(sa.a,{container:!0,spacing:6,wrap:"wrap",children:[Object(J.jsxs)(sa.a,{item:!0,md:4,sm:6,sx:{display:"flex",flexDirection:"column"},xs:12,children:[Object(J.jsx)(yt.a,{color:"textPrimary",gutterBottom:!0,variant:"h6",children:"Notifications"}),Object(J.jsx)(wn.a,{control:Object(J.jsx)(va.a,{color:"primary",defaultChecked:!0}),label:"Email"}),Object(J.jsx)(wn.a,{control:Object(J.jsx)(va.a,{color:"primary",defaultChecked:!0}),label:"Push Notifications"}),Object(J.jsx)(wn.a,{control:Object(J.jsx)(va.a,{}),label:"Text Messages"}),Object(J.jsx)(wn.a,{control:Object(J.jsx)(va.a,{color:"primary",defaultChecked:!0}),label:"Phone calls"})]}),Object(J.jsxs)(sa.a,{item:!0,md:4,sm:6,sx:{display:"flex",flexDirection:"column"},xs:12,children:[Object(J.jsx)(yt.a,{color:"textPrimary",gutterBottom:!0,variant:"h6",children:"Messages"}),Object(J.jsx)(wn.a,{control:Object(J.jsx)(va.a,{color:"primary",defaultChecked:!0}),label:"Email"}),Object(J.jsx)(wn.a,{control:Object(J.jsx)(va.a,{}),label:"Push Notifications"}),Object(J.jsx)(wn.a,{control:Object(J.jsx)(va.a,{color:"primary",defaultChecked:!0}),label:"Phone calls"})]})]})}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(re.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:Object(J.jsx)(ot.a,{color:"primary",variant:"contained",children:"Save"})})]})}))},Cn=function(e){var t=Object(u.useState)({password:"",confirm:""}),a=Object(y.a)(t,2),n=a[0],c=a[1],s=function(e){c(Object(K.a)(Object(K.a)({},n),{},Object(N.a)({},e.target.name,e.target.value)))};return Object(J.jsx)("form",Object(K.a)(Object(K.a)({},e),{},{children:Object(J.jsxs)(ra.a,{children:[Object(J.jsx)(da.a,{subheader:"Update password",title:"Password"}),Object(J.jsx)(Nt.a,{}),Object(J.jsxs)(ia.a,{children:[Object(J.jsx)(ie.a,{fullWidth:!0,label:"Password",margin:"normal",name:"password",onChange:s,type:"password",value:n.password,variant:"outlined"}),Object(J.jsx)(ie.a,{fullWidth:!0,label:"Confirm password",margin:"normal",name:"confirm",onChange:s,type:"password",value:n.confirm,variant:"outlined"})]}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(re.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:Object(J.jsx)(ot.a,{color:"primary",variant:"contained",children:"Update"})})]})}))},Sn=function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Settings | Material Kit"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:"lg",children:[Object(J.jsx)(kn,{}),Object(J.jsx)(re.a,{sx:{pt:3},children:Object(J.jsx)(Cn,{})})]})})]})},An=a(759),En=a(729),Dn=a(755),Tn=a(881),In=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Qe(!0)),t.next=4,La.createAssessment(e);case 4:n=t.sent,F()({title:"Assessment Added Successfully",icon:"success",button:"Ok"}),a(Qe(!1)),console.log(n),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),a(Qe(!1)),F()({title:"Error",text:t.t0.message,icon:"error",button:"Ok"}),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},qn=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Qe(!0)),n=[],t.next=5,La.getAssessmentCategories({companyId:e});case 5:n=t.sent,a(Ue(n.data.data)),a(Qe(!1)),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("errr"),console.error(t.t0),a(Qe(!1)),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},Fn=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Qe(!0)),n=[],t.next=5,La.getQuestionByCmpId({companyId:e});case 5:n=t.sent,a(Ge(n.data.data)),a(Qe(!1)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),a(Qe(!1)),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},Bn=function(e){var t=e.response,a=(e.status,t.sections.reduce((function(e,t){return t.questions.every((function(e){return"ANSWERED"===e.answerStatus}))&&e.completed++,e}),{completed:0,total:t.sections.length})),n=a.total?Y(a.completed/a.total*100):0;return Object(J.jsx)("div",{class:"col-lg-3 col-12 text-center",children:Object(J.jsxs)("div",{class:"box-column",children:[Object(J.jsxs)("div",{class:"box-top "+t.status.toLowerCase(),children:[Object(J.jsx)("h5",{className:"assess-title",children:t.assessment.name}),Object(J.jsx)("br",{}),Object(J.jsxs)("h5",{className:"assess-title",children:["Score:"," ",t.sections.reduce((function(e,t){return e+t.scoredMarks}),0)," ","/"," ",t.sections.reduce((function(e,t){return e+t.totalMarks}),0)]})]}),Object(J.jsxs)("div",{class:"box-bottom",children:[Object(J.jsx)("div",{class:"box-title facebook-title",children:t.contractorName}),Object(J.jsxs)("div",{class:"box-text",children:["Last Updated: ",et()(t.lastAccessTime).format("DD/MM/YYYY"),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-10",children:Object(J.jsx)(An.a,{className:"category-progress-bar catbar ",value:n,variant:"determinate"})}),Object(J.jsx)("div",{className:"col-md-2",children:Object(J.jsxs)("p",{className:" catper ",children:[n,"%"]})})]}),Object(J.jsx)(s.b,{to:"/atgl/Contractor/assessment/"+t._id+"/categories",children:Object(J.jsx)(Ua.a,{className:"view-btn",color:"primary",endIcon:Object(J.jsx)(Da.a,{}),size:"small",variant:"text",children:"View"})})]})]})]})})},Ln=function(e){var t=e.assessment,a=e.onClick,n=e.companyName;return Object(J.jsx)("div",{class:"col-lg-3 col-12 text-center",children:Object(J.jsxs)("div",{class:"box-column",children:[Object(J.jsxs)("div",{class:"box-top "+t.status.toLowerCase(),children:[Object(J.jsx)("h5",{className:"assess-title",children:t.name}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{})]}),Object(J.jsxs)("div",{class:"box-bottom",children:[Object(J.jsx)("div",{class:"box-title facebook-title",children:n}),Object(J.jsxs)("div",{class:"box-text",children:["Created At: ",et()(t.createdAt).format("DD/MM/YYYY"),Object(J.jsx)("div",{className:"row",children:Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-10",children:Object(J.jsx)(An.a,{className:"category-progress-bar catbar ",value:0,variant:"determinate"})}),Object(J.jsx)("div",{className:"col-md-2",children:Object(J.jsxs)("p",{className:" catper ",children:[0,"%"]})})]})})]}),Object(J.jsx)(Ua.a,{onClick:a,className:"view-btn",color:"primary",endIcon:Object(J.jsx)(Da.a,{}),size:"small",variant:"text",children:"Start Assessment"})]})]})})},Rn="NTO",Pn="OTN",Mn=function(e,t,a){var n=e;("ALL"!==t&&(n=n.filter((function(e){return e.status===t}))),a===Rn)&&(n=Object(ke.a)(n).sort((function(e,t){return et()(t.lastAccessTime).diff(et()(e.lastAccessTime))})));a===Pn&&(n=Object(ke.a)(n).sort((function(e,t){return et()(e.lastAccessTime).diff(et()(t.lastAccessTime))})));return n.map((function(e){return Object(J.jsx)(Bn,{status:e.status,response:e})}))},Wn=function(e,t,a,n,c){var s=e;("ALL"!==t&&"NEW"!==t&&(s=[]),c===Rn)&&(s=Object(ke.a)(s).sort((function(e,t){return et()(t.createdAt).diff(et()(e.createdAt))})));c===Pn&&(s=Object(ke.a)(s).sort((function(e,t){return et()(e.createdAt).diff(et()(t.createdAt))})));return s.map((function(e){return Object(J.jsx)(Ln,{assessment:e,companyName:n,onClick:function(){return a(e._id)}})}))},Vn=function(e){var t=Object(m.c)((function(e){return e.assessment})),a=t.responses,n=t.assessments,c=t.filter,s=t.loading,r=Object(m.c)((function(e){return e.auth})).userData,l=Object(m.b)(),d=Object(h.i)(),j=Object(u.useState)(Rn),b=Object(y.a)(j,2),x=b[0],O=b[1];Object(u.useEffect)((function(){var e;return r&&r.user&&l((e=r.user,function(){var t=Object(o.a)(i.a.mark((function t(a){var n,c,s,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Qe(!0)),n={contractorId:e,include:{sections_category:!1,sections_questions_question:!1}},c={contractorId:e,include:{assessment:!0,sections_category:!1,sections_questions_question:!1}},t.next=6,Promise.all([La.getAssessmentsByContractorId(n),La.getResponsesByContractorId(c)]);case 6:if(200===(s=t.sent)[0].status&&200===s[1].status){t.next=9;break}throw new Error("Error in fetching assessments!");case 9:r=s[0].data.data.sort((function(e,t){return et()(t.createdAt).diff(et()(e.createdAt))})),o=s[1].data.data.sort((function(e,t){return et()(t.lastAccessTime).diff(et()(e.lastAccessTime))})),r=r.filter((function(e){var t="undefined"===typeof o.find((function(t){return t.assessment._id===e._id}));return console.log(e._id,t),t})),a(_e(r)),a(He(o)),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),F()({title:"Error",text:t.t0.message,icon:"error",button:"OK"});case 19:return t.prev=19,a(Qe(!1)),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[0,16,19,22]])})));return function(e){return t.apply(this,arguments)}}())),function(){}}),[r]);return Object(J.jsxs)(re.a,Object(K.a)(Object(K.a)({},e),{},{children:[s&&Object(J.jsx)(X,{}),Object(J.jsx)(re.a,{sx:{mt:3},children:Object(J.jsx)(ra.a,{children:Object(J.jsxs)(ia.a,{children:[Object(J.jsxs)("div",{className:"d-flex w-100 justify-content-between align-items-center",children:[Object(J.jsx)("div",{className:"Button",children:["All","New","Pending","Submitted","Reassessment","Completed"].map((function(e){return Object(J.jsx)("button",{type:"button",className:"btn btn-"+e.toLowerCase(),style:c===e.toUpperCase()?{boxShadow:"0 0 0 0.25rem rgb(13 110 253 / 25%)"}:{},onClick:function(){return t=e.toUpperCase(),void l(ze(t));var t},children:e})}))}),Object(J.jsxs)(En.a,{startAdornment:Object(J.jsx)(Tn.a,{}),value:x,onChange:function(e){return O(e.target.value)},defaultValue:"",variant:"outlined",style:{marginRight:"1rem",transform:"translateY(.6rem)"},children:[Object(J.jsx)(Dn.a,{value:Rn,children:"Newest To Oldest"}),Object(J.jsx)(Dn.a,{value:Pn,children:"Oldest To Newest"})]})]}),Object(J.jsx)("div",{className:"category-container",children:Object(J.jsx)("div",{class:"box",children:Object(J.jsx)("div",{class:"pl-24 pr-24",children:Object(J.jsxs)("div",{class:"row",children:[Wn(n,c,(function(e){var t={contractorId:null===r||void 0===r?void 0:r.user,contractorName:null===r||void 0===r?void 0:r.name,companyId:null===r||void 0===r?void 0:r.cmp_id,contractorLocation:null===r||void 0===r?void 0:r.location};l(function(e,t,a){return function(){var n=Object(o.a)(i.a.mark((function n(c){var s,r,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c(Qe(!0)),s={assessmentId:t,contractor:e},n.next=5,La.createResponseForContractor(s);case 5:if(!((r=n.sent).status>=400)){n.next=8;break}throw new Error("Error in creating response!");case 8:o=r.data.data,a("/atgl/Contractor/assessment/".concat(o._id,"/categories"),{replace:!0}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),F()({title:"Error",text:n.t0.message,icon:"error",button:"OK"});case 15:return n.prev=15,c(Qe(!1)),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[0,12,15,18]])})));return function(e){return n.apply(this,arguments)}}()}(t,e,d))}),null===r||void 0===r?void 0:r.name,x),Mn(a,c,x)]})})})})]})})})]}))},Yn=function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Assessment | Oren"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsx)("h2",{children:Object(J.jsx)("ul",{class:"breadcrumb",children:Object(J.jsx)("li",{children:Object(J.jsx)("a",{href:"Assessment",children:"Assessment"})})})}),Object(J.jsx)(Vn,{}),Object(J.jsx)(re.a,{sx:{pt:3}})]})})]})},Un=a(223),zn=a.n(Un),Hn=(a(760),a(761),Object(Ca.a)(),Object(Ca.a)(),Object(Ca.a)(),Object(Ca.a)(),Object(Ca.a)(),Object(Ca.a)(),Object(Ca.a)(),Object(Ca.a)(),Object(Ca.a)(),Object(Ca.a)(),Object(Ca.a)(),Object(Ca.a)(),a(73)),Qn=a.n(Hn),_n=a(270),Gn=a.n(_n),Jn=(a(508),Qn.a.defaultOptions.title.style&&Qn.a.defaultOptions.title.style.color,Qn.a.defaultOptions.legend.backgroundColor,Qn.a.defaultOptions.legend.backgroundColor,Qn.a.defaultOptions.legend.backgroundColor,Qn.a.defaultOptions.legend.backgroundColor,a(52)),Zn=a(19),Xn=a(69),Kn=function(e){return Object(J.jsx)(ia.a,{children:Object(J.jsx)(re.a,{sx:{pt:3},children:Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-md-2",children:["  ",Object(J.jsx)(yt.a,{color:"textPrimary",variant:"h3",children:e.count})]}),Object(J.jsx)("div",{class:"col-md-10",children:Object(J.jsx)(An.a,{value:(null===e||void 0===e?void 0:e.total)?100*(null===e||void 0===e?void 0:e.count)/(null===e||void 0===e?void 0:e.total)>100?100:100*(null===e||void 0===e?void 0:e.count)/(null===e||void 0===e?void 0:e.total):0,variant:"determinate"})})]})})})},$n=(a(167),Object(x.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,width:"100%"},selectEmpty:{marginTop:e.spacing(2)}}}))),ec=function(e){var t,a,n,c,s,r,l,d,j,b,h,x,O,p,f,v,g,N,w,k,C,S,A,E,D,I,q=e.handleClose,B=e.show,L=e.onAddNotice,R=void 0===L?Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))):L,P=$n(),M=Object(u.useState)(!1),W=Object(y.a)(M,2),V=W[0],Y=W[1],U=Object(m.c)((function(e){return e.auth})).userData,z=U.cmp_id,Q=U.companyId,_=function(){var e=Object(o.a)(i.a.mark((function e(t,a){var n,c,s,r,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c={}).cmp_id=null!==z&&void 0!==z?z:Q,c.topic="Notices",c.document={desc:t.description,rewards:Number(t.rewards),title:t.title,totaltime:Number(t.totalTime),type:4===Number(t.docType)?1:Number(t.docType),subcat:"Notice",filename:4===Number(t.docType)?t.embedLink:null===(n=t.selectedFile)||void 0===n?void 0:n.name,item_url:4===Number(t.docType)?t.embedLink:""},console.log("submitHandler",{data:c}),Y(!0),e.prev=6,e.next=9,La.uploadLearning(c);case 9:if(s=e.sent,console.log("uploadLearning",{data:c,response:s}),4===t.docType){e.next=17;break}return r=t.selectedFile,o=s.data.data,l=T.ref(o),e.next=17,l.put(r);case 17:return a.resetForm(),q(),e.next=21,R();case 21:F()({title:"Success",text:"Notice created successfully!",icon:"success",button:"Ok"}),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(6),console.log("createNotice err",{err:e.t0}),F()({title:"Error",text:e.t0.message,icon:"error",button:"Ok"});case 28:return e.prev=28,Y(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[6,24,28,31]])})));return function(t,a){return e.apply(this,arguments)}}(),G=Object(Xa.b)({initialValues:{title:"",description:"",totalTime:"",rewards:"",docType:"",selectedFile:null,embedLink:""},validationSchema:Ka.e().shape({title:Ka.g().required().label("Title"),description:Ka.g().required().label("Description"),docType:Ka.d().required(),totalTime:Ka.d().typeError("Total time must be a number").test("isGT0","Time should be greater than 0",(function(e){return!!e&&e>0})).required().label("Total time"),rewards:Ka.d().typeError("Rewards must be a number").test("isGrT0","Rewards should be greater than 0",(function(e){return!!e&&e>0})).required().label("Total Rewards"),embedLink:Ka.g().when("docType",{is:function(e){return 4===Number(e)},then:Ka.g().required().matches(/^https:\/\/www.youtube.com\/embed\/.*$/,"Invalid Url"),otherwise:Ka.g()}).label("Embed Link"),selectedFile:Ka.c().when("docType",{is:function(e){return 4!==Number(e)},then:Ka.c().required("File is required"),otherwise:Ka.c().nullable()}).label("File")}),onSubmit:_});return Object(J.jsxs)(J.Fragment,{children:[V&&Object(J.jsx)(X,{}),Object(J.jsxs)(qa.a,{show:B,onHide:q,size:"xl",backdrop:"static",keyboard:"false",centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Upload Notice"}),Object(J.jsx)("h5",{className:"add-document-close",onClick:function(){q(),G.resetForm()},children:Object(J.jsx)(Ia.a,{})})]}),Object(J.jsxs)(qa.a.Body,{children:[Object(J.jsx)("div",{className:"col-12 my-3",children:Object(J.jsx)(nn.a,{variant:"outlined",className:P.formControl,children:Object(J.jsx)(ie.a,{value:G.values.title,onChange:G.handleChange("title"),onBlur:G.handleBlur("title"),id:"title",label:"Title",className:"form-control title-learning",variant:"outlined",error:(null===(t=G.touched)||void 0===t?void 0:t.title)&&(null===(a=G.errors)||void 0===a?void 0:a.title),helperText:(null===(n=G.touched)||void 0===n?void 0:n.title)?null===(c=G.errors)||void 0===c?void 0:c.title:""})})}),Object(J.jsx)("div",{className:"col-md-12 my-4",children:Object(J.jsx)(nn.a,{variant:"outlined",className:P.formControl,children:Object(J.jsx)(ie.a,{value:G.values.description,onChange:G.handleChange("description"),onBlur:G.handleBlur("description"),id:"Description",label:"Description",multiline:!0,rows:3,className:P.selectEmpty+P.formControl,variant:"outlined",error:(null===(s=G.touched)||void 0===s?void 0:s.description)&&(null===(r=G.errors)||void 0===r?void 0:r.description),helperText:(null===(l=G.touched)||void 0===l?void 0:l.description)?null===(d=G.errors)||void 0===d?void 0:d.description:""})})}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-3 my-3",children:Object(J.jsx)(nn.a,{variant:"outlined",className:P.formControl,children:Object(J.jsx)(ie.a,{value:G.values.totalTime,onChange:G.handleChange("totalTime"),onBlur:G.handleBlur("totalTime"),type:"number",id:"totaltime",label:"Time in seconds",multiline:!0,className:P.selectEmpty+P.formControl,variant:"outlined",error:(null===(j=G.touched)||void 0===j?void 0:j.totalTime)&&(null===(b=G.errors)||void 0===b?void 0:b.totalTime),helperText:(null===(h=G.touched)||void 0===h?void 0:h.totalTime)?null===(x=G.errors)||void 0===x?void 0:x.totalTime:""})})}),Object(J.jsx)("div",{className:"col-3 my-3",children:Object(J.jsx)(nn.a,{variant:"outlined",className:P.formControl,children:Object(J.jsx)(ie.a,{value:G.values.rewards,onChange:G.handleChange("rewards"),onBlur:G.handleBlur("rewards"),type:"number",id:"rewards",label:"Rewards",multiline:!0,className:P.selectEmpty,variant:"outlined",error:(null===(O=G.touched)||void 0===O?void 0:O.rewards)&&(null===(p=G.errors)||void 0===p?void 0:p.rewards),helperText:(null===(f=G.touched)||void 0===f?void 0:f.rewards)?null===(v=G.errors)||void 0===v?void 0:v.rewards:""})})}),Object(J.jsx)("div",{className:"col-2 my-3",children:Object(J.jsxs)(nn.a,{variant:"outlined",className:P.formControl,children:[Object(J.jsx)(cn.a,{variant:"outlined",children:"Document Type"}),Object(J.jsxs)(En.a,{value:G.values.docType,onChange:function(e){G.setFieldValue("docType",Number(e.target.value)),G.setFieldValue("selectedFile",null)},onBlur:G.handleBlur("docType"),displayEmpty:!0,className:P.selectEmpty+P.formControl,autoWidth:!0,id:"document-type",error:(null===(g=G.touched)||void 0===g?void 0:g.docType)&&(null===(N=G.errors)||void 0===N?void 0:N.docType),helperText:(null===(w=G.touched)||void 0===w?void 0:w.docType)?null===(k=G.errors)||void 0===k?void 0:k.docType:"",children:[Object(J.jsx)(Dn.a,{value:1,children:"Video"}),Object(J.jsx)(Dn.a,{value:2,children:"Image"}),Object(J.jsx)(Dn.a,{value:3,children:"PDF"}),Object(J.jsx)(Dn.a,{value:4,children:"Youtube Link"})]})]})}),4!==Number(G.values.docType)&&Object(J.jsx)(J.Fragment,{children:!G.values.selectedFile&&Object(J.jsx)("div",{className:"col-1 my-3",children:Object(J.jsxs)(za.a,{variant:"",className:" learning-buttons",children:[Object(J.jsx)("input",{id:"file-input",type:"file",color:"primary",className:"file-input-icon ",required:!0,onBlur:G.handleBlur("selectedFile"),onChange:function(e){console.log("fileHandler",e.target.files[0]);var t=e.target.files[0];if(t){if(!H(t,10)||!function(e,t){var a=/(jpg|jpeg|png|pdf|mp4|wmv|avi|mkv|flv|webm|gif|m4p|svi)$/;if(t){switch(t){case"1":a=/(jpg|jpeg|png)$/;break;case"2":a=/(mp4|wmv|avi|mkv|flv|webm|gif|m4p|svi)$/;break;case"3":a=/(pdf)$/}return!!e.type.toLowerCase().match(a)||(F()({title:e.name,text:"Please select Image, PDF and Excel files only!",icon:"error",button:"Ok"}),!1)}return F()({title:"Error",text:"Please select document type!",icon:"error",button:"Ok"}),!1}(t,G.values.docType))return G.setFieldValue("selectedFile",null);G.setFieldValue("selectedFile",t)}},accept:G.values.docType?2===Number(G.values.docType)?"image/*":1===Number(G.values.docType)?"video/*":"application/pdf":"image/*, video/*, application/pdf"}),Object(J.jsx)("label",{for:"file-input",className:"file response-file",children:Object(J.jsx)(Ja.a,{})})]})})}),Object(J.jsxs)("div",{className:"col-2 my-3",children:[G.values.selectedFile?Object(J.jsx)(_a,{file:G.values.selectedFile,handleDelete:function(){G.setFieldValue("selectedFile",null)},style:{margin:"-.25rem .5rem 0rem 0",padding:".4rem .7rem"}}):null,Object(J.jsx)("p",{className:"text-danger",children:(null===(C=G.touched)||void 0===C?void 0:C.selectedFile)&&(null===(S=G.errors)||void 0===S?void 0:S.selectedFile)})]}),Object(J.jsx)("div",{className:"col-6 my-3",children:4===Number(G.values.docType)&&Object(J.jsx)(nn.a,{variant:"outlined",className:P.formControl,children:Object(J.jsx)(ie.a,{value:G.values.embedLink,onChange:G.handleChange("embedLink"),onBlur:G.handleBlur("embedLink"),type:"number",id:"embedLink",label:"Embed Link",multiline:!0,className:P.selectEmpty,variant:"outlined",error:(null===(A=G.touched)||void 0===A?void 0:A.embedLink)&&(null===(E=G.errors)||void 0===E?void 0:E.embedLink),helperText:(null===(D=G.touched)||void 0===D?void 0:D.embedLink)?null===(I=G.errors)||void 0===I?void 0:I.embedLink:""})})})]}),Object(J.jsx)("div",{className:"d-flex justify-content-center",children:Object(J.jsx)(za.a,{type:"button",className:"modal-submit-btn",onClick:G.handleSubmit,color:"primary",children:"Submit"})})]})]})]})},tc=function(e){var t,a,n,c,s,r,l,d=Object(m.c)((function(e){return e.auth})).userData,j=Object(u.useState)(!1),b=Object(y.a)(j,2),h=b[0],x=b[1],O=Object(u.useState)(!1),p=Object(y.a)(O,2),f=p[0],v=p[1],g=Object(u.useState)([]),N=Object(y.a)(g,2),w=N[0],k=N[1],C=Object(u.useState)(),S=Object(y.a)(C,2),A=S[0],E=S[1],D=Object(u.useState)(0),T=Object(y.a)(D,2),I=T[0],q=T[1],B=Object(u.useState)(),L=Object(y.a)(B,2),R=(L[0],L[1]),P=Object(u.useState)(),M=Object(y.a)(P,2),W=(M[0],M[1]),V=Object(u.useState)({}),Y=Object(y.a)(V,2),U=Y[0],z=Y[1],H=Object(u.useState)(!1),Q=Object(y.a)(H,2),_=(Q[0],Q[1]),G=Object(u.useState)(!1),Z=Object(y.a)(G,2),$=Z[0],ee=Z[1],te=Object(u.useState)(!1),ae=Object(y.a)(te,2),ne=ae[0],ce=ae[1],se=Object(u.useState)([]),ie=Object(y.a)(se,2),oe=ie[0],le=ie[1],de=Object(u.useState)(!1),je=Object(y.a)(de,2),ue=je[0],be=je[1],me=function(){x(!1),E()};Object(u.useEffect)((function(){d&&(console.log({userData:d}),he(d.cmp_id))}),[d]);var he=function(e){ee(!0),La.getLearningTopicDocs(e,"Notices").then((function(e){console.log("fetchAllNotices res",e.data.data),k(e.data.data.docs.sort((function(e,t){var a,n,c,s;return et()(new Xn.a.firestore.Timestamp(null===t||void 0===t||null===(a=t.created_time)||void 0===a?void 0:a._seconds,null===t||void 0===t||null===(n=t.created_time)||void 0===n?void 0:n._nanoseconds).toDate()).diff(et()(new Xn.a.firestore.Timestamp(null===e||void 0===e||null===(c=e.created_time)||void 0===c?void 0:c._seconds,null===e||void 0===e||null===(s=e.created_time)||void 0===s?void 0:s._nanoseconds).toDate()))}))),q(e.data.data.usersCount),ee(!1)})).catch((function(e){console.log("fetchAllNotices err",{err:e}),F()({title:"Error",text:e.message,icon:"error",button:"Ok"}),ee(!1)}))},xe=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,be(!0),e.next=4,La.getEmployeeByIds(null===A||void 0===A?void 0:A.viewers.map((function(e){return e.uid})));case 4:t=e.sent,le(t.data.data),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.prev=10,be(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,8,10,13]])})));return function(){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){if(Object.keys(U).length)for(var e=0,t=Object.keys(U);e<t.length;e++){var a=t[e];pe(U[a])&&fe(U[a])||z({})}}),[U]),Object(u.useEffect)((function(){var e;return(null!==(e=null===A||void 0===A?void 0:A.viewers)&&void 0!==e?e:[]).length>0&&xe(),function(){}}),[A]);var Oe=function(){R(),W(),z({}),_(!1)},pe=function(e){return!(e.size/1024/1024>10)||(F()({title:e.name,text:"Sorry, Max file size allowed is 10MB",icon:"error",button:"Ok"}),!1)},fe=function(e){return!!e.type.toLowerCase().match(/(jpg|jpeg|png|pdf|xlsx|xlsm|xlsb|xltx|xltm|xls|xlt|xls|xml|xlam|xla|xlw|xlr|csv)$/)||(F()({title:e.name,text:"Please select Image, PDF and Excel files only!",icon:"error",button:"Ok"}),!1)};return Object(J.jsxs)(J.Fragment,{children:[$?Object(J.jsx)(X,{}):null,Object(J.jsxs)(qa.a,{size:"lg",show:h,onHide:me,backdrop:"static",keyboard:"false",centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Notice"}),Object(J.jsx)("span",{onClick:me,style:{cursor:"pointer"},children:Object(J.jsx)(Ia.a,{color:"error"})})]}),Object(J.jsx)(qa.a.Body,{children:A?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("div",{className:"text-center",children:Object(J.jsx)("h5",{children:null===A||void 0===A?void 0:A.title})}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-md-6",children:[" ",Object(J.jsxs)("p",{className:"text-left",children:["Date:"," ",et()(new Xn.a.firestore.Timestamp(null===A||void 0===A||null===(t=A.created_time)||void 0===t?void 0:t._seconds,null===A||void 0===A||null===(a=A.created_time)||void 0===a?void 0:a._nanoseconds).toDate()).format("DD/MM/YYYY")]})]}),Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsxs)("p",{style:{float:"right"},children:["Time:"," ",et()(new Xn.a.firestore.Timestamp(null===A||void 0===A||null===(n=A.created_time)||void 0===n?void 0:n._seconds,null===A||void 0===A||null===(c=A.created_time)||void 0===c?void 0:c._nanoseconds).toDate()).format("hh:mm A")]})})]}),Object(J.jsx)("p",{children:null===A||void 0===A?void 0:A.desc}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)("br",{}),Object(J.jsx)("h5",{children:"Attachments:"}),Object(J.jsx)("div",{className:"d-flex flex-wrap my-1",children:(null===A||void 0===A?void 0:A.item_url.includes("youtube.com"))?Object(J.jsx)(_a,{mode:"youtube-embed",file:null===A||void 0===A?void 0:A.item_url}):Object(J.jsx)(_a,{mode:"view",file:{value:{fileName:null===A||void 0===A?void 0:A.filename,filePath:null===A||void 0===A?void 0:A.item_url}}})}),Object(J.jsx)("br",{}),Object(J.jsxs)("h5",{children:[" Completed By: ",null===(s=null!==(r=null===A||void 0===A?void 0:A.viewers)&&void 0!==r?r:[])||void 0===s?void 0:s.length]}),Object(J.jsx)(Nt.a,{}),ue?Object(J.jsx)("div",{className:"my-4",children:Object(J.jsx)(Ra,{})}):Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(Oa.a,{children:Object(J.jsxs)(pa.a,{children:[Object(J.jsx)(fa.a,{children:"Date"}),Object(J.jsx)(fa.a,{children:"Time"}),Object(J.jsx)(fa.a,{children:"Name"})]})}),Object(J.jsx)(ga.a,{children:null===A||void 0===A||null===(l=A.viewers)||void 0===l?void 0:l.map((function(e){var t;return Object(J.jsxs)(pa.a,{hover:!0,children:[Object(J.jsx)(fa.a,{children:et()(e.viewed_at).format("DD/MM/YYYY")}),Object(J.jsx)(fa.a,{children:et()(e.viewed_at).format("hh:mm A")}),Object(J.jsx)(fa.a,{children:null===(t=oe.find((function(t){return t.user===e.uid})))||void 0===t?void 0:t.fullName})]},e._id)}))})]})]}):null})]}),Object(J.jsx)(ec,{handleClose:function(){Oe(),v(!1)},show:f,onAddNotice:function(){return he(null===d||void 0===d?void 0:d.cmp_id)}}),Object(J.jsxs)(ra.a,Object(K.a)(Object(K.a)({},e),{},{children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-9",children:Object(J.jsx)(da.a,{title:"Noticeboard"})}),Object(J.jsx)("div",{className:"col-md-3 ",children:Object(J.jsx)(da.a,{onClick:function(){return v(!0)},className:"hover",title:" + Add Notice"})})]}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(ha.a,{children:Object(J.jsxs)(re.a,{children:[Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(Oa.a,{children:Object(J.jsxs)(pa.a,{children:[Object(J.jsx)(fa.a,{children:"Uploaded On"}),Object(J.jsx)(fa.a,{children:"Title"}),Object(J.jsx)(fa.a,{children:"Completed by"})]})}),Object(J.jsx)(ga.a,{children:w.slice(0,ne?w.length:5).map((function(e){var t,a,n;return Object(J.jsxs)(pa.a,{hover:!0,children:[Object(J.jsx)(fa.a,{children:et()(new Xn.a.firestore.Timestamp(null===e||void 0===e||null===(t=e.created_time)||void 0===t?void 0:t._seconds,null===e||void 0===e||null===(a=e.created_time)||void 0===a?void 0:a._nanoseconds).toDate()).format("DD/MM/YYYY")}),Object(J.jsx)(fa.a,{onClick:function(){return function(e){x(!0),E(e)}(e)},children:Object(J.jsxs)("u",{children:[" ",e.title]})}),Object(J.jsx)(fa.a,{children:Object(J.jsx)(Kn,{total:I,count:(null!==(n=e.viewers)&&void 0!==n?n:[]).length})})]})}))})]}),Object(J.jsx)(re.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:w.length>5&&Object(J.jsx)(ot.a,{className:"view-btn",color:"primary",endIcon:Object(J.jsx)(Da.a,{}),size:"small",variant:"text",onClick:function(){return ce((function(e){return!e}))},children:ne?"View Less":"View all"})})]})})]}))]})},ac=function(e){return Object(J.jsx)(ia.a,{children:Object(J.jsx)(re.a,{sx:{pt:3},children:Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-md-2",children:["  ",Object(J.jsx)(yt.a,{color:"textPrimary",variant:"h3",children:e.count})]}),Object(J.jsx)("div",{class:"col-md-10",children:Object(J.jsx)(An.a,{value:(null===e||void 0===e?void 0:e.total)?100*(null===e||void 0===e?void 0:e.count)/(null===e||void 0===e?void 0:e.total)>100?100:100*(null===e||void 0===e?void 0:e.count)/(null===e||void 0===e?void 0:e.total):0,variant:"determinate"})})]})})})},nc=[{label:"Sr.No.",field:"no",width:10},{label:"Employee",field:"Employee",width:50},{label:"Learning Units",field:"units",width:50},{label:"Completion",field:"Completion",width:370}];function cc(){var e=Object(u.useState)({columns:nc}),t=Object(y.a)(e,2),a=t[0],n=t[1],c=Object(u.useState)(!1),s=Object(y.a)(c,2),r=s[0],l=s[1],d=Object(m.c)((function(e){return e.auth})).userData;Object(u.useEffect)((function(){d&&j()}),[d]);var j=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,La.fetchLearningTable(d.cmp_id,"contractor",d.user);case 4:t=e.sent,a=t.data.data.map((function(e,a){return{no:a+1,Employee:e.name,units:"".concat((e.completed_hrs/3600).toFixed(2),"hrs"),Completion:Object(J.jsx)(ac,{total:t.data.total_learning_module,count:e.completed_modules})}})),n({columns:nc,rows:a}),console.log("fetchLearningTable",{response:t}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("createNotice err",{err:e.t0}),F()({title:"Error",text:e.t0.message,icon:"error",button:"Ok"});case 14:return e.prev=14,l(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return r?Object(J.jsx)(X,{}):Object(J.jsx)(Ma.c,{hover:!0,entriesOptions:[10,20,30],entries:10,pagesAmount:4,data:a,searchTop:!0,searchBottom:!1})}var sc=function(e){var t=Object(Jn.a)(),a=Object(m.c)((function(e){return e.auth})).userData,n=Object(u.useState)({}),c=Object(y.a)(n,2),s=c[0],r=c[1],l=Object(u.useState)(!1),d=Object(y.a)(l,2),j=d[0],b=d[1];Object(u.useEffect)((function(){a&&h()}),[a]);var h=function(){var e=Object(o.a)(i.a.mark((function e(){var t,n,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),t=et()().format("YYYY"),e.next=4,La.fetchLearningGraph(a.cmp_id,t);case 4:n=e.sent,c=Object(ke.a)(n.data.data).map((function(e){return e[a.user]?e.month:""})),s=Object(ke.a)(n.data.data).map((function(e){return e[a.user]?(e[a.user]/3600).toFixed(2):0})),console.log("fetchLearningGraph",{response:n,data:s,labels:c}),r({datasets:[{backgroundColor:"#1e2b56",data:s,label:"Learning in hours"}],labels:c}),b(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x={animation:!1,cornerRadius:0,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{barThickness:40,maxBarThickness:50,barPercentage:.5,categoryPercentage:.5,ticks:{fontColor:t.palette.text.secondary},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:t.palette.text.secondary,beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:t.palette.divider,drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:t.palette.divider}}]},tooltips:{backgroundColor:t.palette.background.paper,bodyFontColor:t.palette.text.secondary,borderColor:t.palette.divider,borderWidth:1,enabled:!0,footerFontColor:t.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:t.palette.text.primary}};return j?Object(J.jsx)(X,{}):Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(ra.a,Object(K.a)(Object(K.a)({},e),{},{children:[Object(J.jsx)(da.a,{title:"Monthly Learning"}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(ia.a,{children:Object(J.jsx)(re.a,{sx:{height:200,position:"relative"},children:Object(J.jsx)(v.Bar,{data:s,options:x})})}),Object(J.jsx)(Nt.a,{})]}))})},rc=(a(693),a(87)),ic=a.n(rc),oc=Object(x.a)((function(e){return{formControl:{display:"flex",flexDirection:"row !important",justifyContent:"space-between",alignItems:"center",flexWrap:"nowrap",width:"100%"},selectEmpty:{width:"100%",height:"100% !important",padding:"11px 5px !important"},selectWrap:{marginRight:"1rem !important",width:"100%",height:"100% !important"}}})),lc=Object(x.a)((function(e){return{root:{whiteSpace:"unset !important",wordBreak:"break-word"}}})),dc=function(e){Object(m.c)((function(e){return e.auth})).userData;var t=oc(),a=lc(),n=Object(u.useState)(),c=Object(y.a)(n,2),s=c[0],r=c[1],l=Object(u.useState)(),d=Object(y.a)(l,2),j=d[0],b=d[1],h=Object(u.useState)(["Corona Virus","Safety","Environment"]),x=Object(y.a)(h,2),O=x[0],p=x[1],f=Object(u.useState)(["Tablet","Testing","Pollution"]),v=Object(y.a)(f,2),g=v[0],N=v[1],w=Object(u.useState)(),k=Object(y.a)(w,2),C=(k[0],k[1],Object(u.useState)()),S=Object(y.a)(C,2),A=(S[0],S[1],Object(u.useState)("")),E=Object(y.a)(A,2),D=E[0],I=E[1],q=Object(u.useState)(),B=Object(y.a)(q,2),L=(B[0],B[1],Object(u.useState)()),R=Object(y.a)(L,2),P=(R[0],R[1],Object(u.useState)()),M=Object(y.a)(P,2),W=M[0],V=M[1],Y=Object(u.useState)(),U=Object(y.a)(Y,2),z=U[0],H=U[1],Q=Object(u.useState)(!1),_=Object(y.a)(Q,2),G=_[0],Z=_[1],K=Object(u.useState)(!1),$=Object(y.a)(K,2),ee=$[0],te=$[1],ae=Object(u.useState)(),ne=Object(y.a)(ae,2),ce=(ne[0],ne[1],Object(u.useState)("cat")),se=Object(y.a)(ce,2),re=se[0],oe=se[1],le=Object(u.useState)(!1),de=Object(y.a)(le,2),je=de[0],ue=de[1],be=Object(u.useState)(""),me=Object(y.a)(be,2),he=me[0],xe=me[1],Oe=Object(u.useState)(!1),pe=Object(y.a)(Oe,2);pe[0],pe[1];Object(u.useEffect)((function(){z&&(ye(z)&&we(z)||H())}),[z]),Object(u.useEffect)((function(){var e=!0;Z(e=s&&j&&(z||D)&&e)}),[z,s,j,D,W]);var fe=function(){var t=Object(o.a)(i.a.mark((function t(a,n){var c,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r={}).cmp_id=e.company_id,r.topic=s,r.document={desc:a.description,rewards:Number(a.rewards),title:a.title,totaltime:Number(a.time),type:Number(W),subcat:j,filename:4===Number(a.docType)?D:null===(c=a.selectedFile)||void 0===c?void 0:c.name,item_url:4===Number(a.docType)?D:""},console.log("submitHandler",{data:r}),t.next=7,ve(r);case 7:n.resetForm();case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),ve=function(){var t=Object(o.a)(i.a.mark((function t(a){var n,c,s,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ue(!0),t.prev=1,t.next=4,La.uploadLearning(a);case 4:return n=t.sent,console.log("uploadLearning",{data:a,response:n}),c=z,s=n.data.data,r=T.ref(s),t.next=11,r.put(c);case 11:ge(),e.handleClose(),F()({title:"Success",text:" Learning uploaded Successfully ",icon:"success",button:"Ok"}),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(1),console.log("createNotice err",{err:t.t0}),F()({title:"Error",text:t.t0.message,icon:"error",button:"Ok"});case 20:return t.prev=20,ue(!1),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[1,16,20,23]])})));return function(e){return t.apply(this,arguments)}}(),ge=function(){r(),b(),p(["Corona Virus","Safety","Environment"]),N(["Tablet","Testing","Pollution"]),V(),H(),Z(!1),te(!1),xe(""),I(),oe("cat")},ye=function(e){return!(e.size/1024/1024>10)||(F()({title:e.name,text:"Sorry, Max file size allowed is 10MB",icon:"error",button:"Ok"}),!1)},Ne=function(e){te(!ee),e&&oe(e),Se.resetForm()},we=function(e){var t=/(jpg|jpeg|png|pdf|mp4|wmv|avi|mkv|flv|webm|gif|m4p|svi)$/;if(W){switch(W){case"1":t=/(jpg|jpeg|png)$/;break;case"2":t=/(mp4|wmv|avi|mkv|flv|webm|gif|m4p|svi)$/;break;case"3":t=/(pdf)$/}return!!e.type.toLowerCase().match(t)||(F()({title:e.name,text:"Please select Image, PDF and Excel files only!",icon:"error",button:"Ok"}),!1)}return F()({title:"Error",text:"Please select document type!",icon:"error",button:"Ok"}),!1},Ce=Object(Xa.b)({initialValues:{title:"",description:"",time:"",rewards:"",docType:""},onSubmit:fe,validationSchema:Ka.e({title:Ka.g().min(2,"Title must be at least 2 characters").trim("Title is required").required("Title is required"),description:Ka.g().min(2,"Description must be at least 2 characters").trim("Description is required").required("Description is required"),time:Ka.d().typeError("Time must be a number").test("isGT0","Time should be greater than 0",(function(e){return!!e&&e>0})).required().label("Time"),rewards:Ka.d().typeError("Rewards must be a number").test("isGrT0","Rewards should be greater than 0",(function(e){return!!e&&e>0})).required().label("Rewards")})}),Se=Object(Xa.b)({initialValues:{text:""},onSubmit:function(){"cat"===re?p([].concat(Object(ke.a)(O),[Se.values.text])):N([].concat(Object(ke.a)(g),[Se.values.text])),Se.resetForm()},validationSchema:Ka.e({text:Ka.g().matches(/^[a-zA-Z0-9\s]+$/,"Special characters are not allowed").test("isAlreadyUsed","".concat("cat"===re?"Category":"Sub Category"," already exists"),(function(e){return!e||("cat"===re?!O.some((function(t){return e===t})):!g.some((function(t){return e===t})))})).min(3,"Category must be at least 3 characters").trim("Category is required").required("Category is required")})});return Object(J.jsxs)(J.Fragment,{children:[je?Object(J.jsx)(X,{}):null,Object(J.jsxs)(qa.a,{show:e.show,onHide:function(){e.handleClose(),ge(),Se.resetForm()},backdrop:"static",keyboard:"false",size:"xl",centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Upload Learning "}),Object(J.jsx)(ot.a,{variant:"primary",className:"add-document-close",onClick:function(){e.handleClose(),Ce.resetForm(),ge()}}),Object(J.jsx)("h5",{className:"add-document-close",onClick:function(){e.handleClose(),Ce.resetForm(),ge()},children:Object(J.jsx)(Ia.a,{})})]}),Object(J.jsxs)(qa.a.Body,{children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-4 my-3",children:Object(J.jsxs)("div",{className:t.formControl,children:[Object(J.jsx)(nn.a,{variant:"outlined",className:t.selectWrap,children:Object(J.jsxs)(En.a,{style:{width:"100%"},value:s,onChange:function(e){return r(e.target.value)},displayEmpty:!0,fullWidth:!0,defaultValue:"",className:t.selectEmpty,id:"Category",children:[Object(J.jsx)(Dn.a,{style:{maxWidth:"400px"},classes:{root:a.root},value:"",children:"Select Category"}),O.map((function(e){return Object(J.jsx)(Dn.a,{style:{maxWidth:"400px"},classes:{root:a.root},value:e,children:e})}))]})}),Object(J.jsx)(ot.a,{type:"button",className:" modal-submit-btn",onClick:function(){return Ne("cat")},style:{textTransform:"none"},color:"primary",children:"Add"})]})}),Object(J.jsx)("div",{className:"col-4 my-3",children:Object(J.jsxs)("div",{className:t.formControl,children:[Object(J.jsx)(nn.a,{variant:"outlined",className:t.selectWrap,children:Object(J.jsxs)(En.a,{style:{width:"100%"},value:j,onChange:function(e){return b(e.target.value)},displayEmpty:!0,fullWidth:!0,defaultValue:"",className:t.selectEmpty,id:"Sub-Category",children:[Object(J.jsx)(Dn.a,{style:{maxWidth:"400px"},classes:{root:a.root},value:"",children:"Select Sub Category"}),g.map((function(e){return Object(J.jsx)(Dn.a,{style:{maxWidth:"400px"},classes:{root:a.root},value:e,children:e})}))]})}),Object(J.jsx)(ot.a,{type:"button",className:"modal-submit-btn",onClick:function(){return Ne("sub-cat")},style:{textTransform:"none"},color:"primary",children:"Add"})]})}),Object(J.jsxs)("div",{className:"col-4 my-3",children:[Object(J.jsx)(nn.a,{variant:"outlined",className:"w-100",children:Object(J.jsx)(ie.a,{value:Ce.values.title,fullWidth:!0,onChange:Ce.handleChange("title"),onBlur:Ce.handleBlur("title"),id:"title",label:"Title",variant:"outlined"})}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:Ce.touched.title&&Ce.errors.title}),Object(J.jsx)("br",{})]})]})]}),Object(J.jsx)("div",{className:"col-md-12 my-4",children:Object(J.jsxs)(nn.a,{variant:"outlined",className:"w-100",children:[Object(J.jsx)(ie.a,{value:Ce.values.description,onChange:Ce.handleChange("description"),onBlur:Ce.handleBlur("description"),id:"Description",label:"Description",multiline:!0,rows:3,className:t.selectEmpty+t.formControl,variant:"outlined"}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:Ce.touched.description&&Ce.errors.description}),Object(J.jsx)("br",{})]})]})}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-3 my-3",children:Object(J.jsxs)(nn.a,{variant:"outlined",className:"w-100",children:[Object(J.jsx)(ie.a,{value:Ce.values.time,onChange:Ce.handleChange("time"),onBlur:Ce.handleBlur("time"),type:"number",id:"totaltime",label:"Time in seconds",multiline:!0,className:t.selectEmpty+t.formControl,variant:"outlined"}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:Ce.touched.time&&Ce.errors.time}),Object(J.jsx)("br",{})]})]})}),Object(J.jsx)("div",{className:"col-3 my-3",children:Object(J.jsxs)(nn.a,{variant:"outlined",className:"w-100",children:[Object(J.jsx)(ie.a,{value:Ce.values.rewards,onChange:Ce.handleChange("rewards"),onBlur:Ce.handleBlur("rewards"),type:"number",id:"rewards",label:"Rewards",multiline:!0,className:t.selectEmpty+t.formControl,variant:"outlined"}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:Ce.touched.rewards&&Ce.errors.rewards}),Object(J.jsx)("br",{})]})]})}),Object(J.jsx)("div",{className:"col-2 my-3",children:Object(J.jsxs)(nn.a,{variant:"outlined",className:"w-100",children:[Object(J.jsx)(cn.a,{variant:"outlined",children:"Document Type"}),Object(J.jsxs)(En.a,{value:W,onChange:function(e){H(),V(e.target.value)},displayEmpty:!0,className:t.selectEmpty+t.formControl,fullWidth:!0,id:"document-type",children:[Object(J.jsx)(Dn.a,{style:{maxWidth:"400px"},classes:{root:a.root},value:1,children:"Image"}),Object(J.jsx)(Dn.a,{style:{maxWidth:"400px"},classes:{root:a.root},value:2,children:"Video"}),Object(J.jsx)(Dn.a,{style:{maxWidth:"400px"},classes:{root:a.root},value:3,children:"PDF"}),Object(J.jsx)(Dn.a,{style:{maxWidth:"400px"},classes:{root:a.root},value:4,children:"Youtube link"})]})]})}),"4"!=W?Object(J.jsx)("div",{className:"col-4 my-3",children:Object(J.jsxs)("div",{className:"d-flex justify-content-start align-items-start",children:[!z&&Object(J.jsxs)(ot.a,{variant:"",className:"modal-submit-btn",children:[Object(J.jsx)("input",{id:"file-input",type:"file",color:"primary",className:"file-input-icon",multiple:!0,required:!0,onChange:function(e){console.log("fileHandler",e.target.files[0]),H(e.target.files[0])},accept:W?1===Number(W)?"image/*":2===Number(W)?"video/*":"application/pdf":"image/*, video/*, application/pdf"}),Object(J.jsx)("label",{for:"file-input",className:"file response-file",children:Object(J.jsx)(Ja.a,{})})]}),z&&Object(J.jsx)(_a,{file:z,handleDelete:function(){H()},style:{margin:"0rem .5rem 0rem 0"}})]})}):null]}),"4"==W?Object(J.jsx)("div",{className:"col-5 my-3",children:Object(J.jsx)(nn.a,{variant:"outlined",className:"w-100",children:Object(J.jsx)(ie.a,{value:D,onChange:function(e){/^https:\/\/www.youtube.com\/embed\/.*$/.test(e.target.value)?(I(e.target.value),xe("")):xe("Link is not valid")},type:"text",id:"embedLink",error:he,helperText:he,label:"Youtube Embed link",className:t.selectEmpty+t.formControl,variant:"outlined"})})}):null,Object(J.jsx)("div",{className:"d-flex justify-content-center",children:Object(J.jsx)(ot.a,{type:"button",className:"modal-submit-btn",onClick:Ce.handleSubmit,color:"primary",disabled:!G||Object.values(Ce.errors).length>0,children:"Submit"})})]})]}),Object(J.jsxs)(qa.a,{show:ee,onHide:Ne,backdrop:"static",keyboard:"false",size:"xl",centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsxs)(qa.a.Title,{children:["Add ","cat"===re?"Category":"Sub-Category"]}),Object(J.jsx)(ot.a,{variant:"primary",className:"add-document-close",onClick:function(){Ne()}}),Object(J.jsx)("h6",{className:"add-document-close",onClick:function(){Ne()},children:Object(J.jsx)(Ia.a,{})})]}),Object(J.jsx)(qa.a.Body,{children:Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-6 d-flex justify-content-center align-items-center flex-column",children:[Object(J.jsxs)(nn.a,{variant:"outlined",className:"w-100",children:[Object(J.jsx)(ie.a,{value:Se.values.text,onChange:Se.handleChange("text"),onBlur:Se.handleBlur("text"),id:"Category",label:"Category",className:t.selectEmpty+t.formControl,variant:"outlined"}),Object(J.jsx)("small",{className:"text-danger form-text",children:Se.touched.text&&Se.errors.text})]}),Object(J.jsx)(ot.a,{type:"button",className:"modal-submit-btn mt-3 mx-auto",style:{width:"10%"},value:Se.values.text,onClick:Se.handleSubmit,color:"primary",disabled:!Se.values.text,children:"Add"})]}),Object(J.jsxs)("div",{className:"col-6",children:[Object(J.jsxs)("span",{style:{fontSize:"18px",fontWeight:"bolder"},children:["All ","cat"===re?"Categories":"Sub-Categories"]}),Object(J.jsx)("ul",{style:{listStyle:"none",padding:0},children:"cat"===re?O.map((function(e){return Object(J.jsxs)("li",{className:"d-flex justify-content-between align-items-center my-1",children:[e,Object(J.jsx)(ot.a,{variant:"",style:{color:"red",padding:"2px"},className:"modal-submit-btn",onClick:function(){var t=Object(ke.a)(O),a=t.indexOf(e);t.splice(a,1),p(t)},children:Object(J.jsx)(Ia.a,{style:{fontSize:"15px"}})})]})})):g.map((function(e){return Object(J.jsxs)("li",{className:"d-flex justify-content-between align-items-center my-1",children:[e,Object(J.jsx)(ot.a,{variant:"",style:{color:"red",padding:"2px"},className:"modal-submit-btn",onClick:function(){var t=Object(ke.a)(g),a=t.indexOf(e);t.splice(a,1),N(t)},children:Object(J.jsx)(Ia.a,{style:{fontSize:"15px"}})})]})}))})]})]})})]})]})},jc=function(){var e,t=Object(u.useState)(!1),a=Object(y.a)(t,2),n=a[0],c=a[1],s=Object(m.c)((function(e){return e.auth})).userData,r=function(){return c(!0)};return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Learning | Oren"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:Object(J.jsx)("ul",{class:"breadcrumb",children:Object(J.jsx)("li",{children:Object(J.jsx)("a",{href:"Learning",children:"Learning"})})})})}),Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)(ot.a,(e={style:{float:"right"},className:"modal-submit-btn"},Object(N.a)(e,"className","view-btn"),Object(N.a)(e,"color","primary"),Object(N.a)(e,"startIcon",Object(J.jsx)(ic.a,{})),Object(N.a)(e,"size","small"),Object(N.a)(e,"variant","text"),Object(N.a)(e,"onClick",r),Object(N.a)(e,"children","Upload Learning"),e))})]}),Object(J.jsxs)("div",{className:"row",container:!0,spacing:3,children:[Object(J.jsxs)("div",{className:"col-md-6",children:[Object(J.jsx)(sa.a,{item:!0,lg:12,md:12,xl:12,xs:12,children:Object(J.jsx)(sc,{})}),Object(J.jsx)(sa.a,{id:"grid2",className:"grid2",item:!0,lg:12,md:12,xl:12,xs:12,children:Object(J.jsx)(tc,{})})]}),Object(J.jsxs)("div",{className:"col-md-6",id:"assesments-card",children:[Object(J.jsx)(da.a,{title:"Employee Learning"}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(sa.a,{style:{marginTop:"3%"},item:!0,lg:12,md:12,xl:12,xs:12,children:Object(J.jsx)(cc,{})})]})]})]})}),s?Object(J.jsx)(dc,{show:n,handleClose:function(){c(!1)},handleShow:r,company_id:s.cmp_id}):null]})},uc=a(882),bc=(a(694),function(e){var t,a=e.category,n=e.responseId;return Object(J.jsxs)(J.Fragment,{children:[" ",Object(J.jsx)("h4",{children:Object(J.jsxs)(s.b,{to:"/atgl/Contractor/assessment/".concat(n,"/categories/").concat(a._id),className:"link-title d-flex align-items-center",children:[null===a||void 0===a||null===(t=a.category)||void 0===t?void 0:t.name,a.questions.some((function(e){return"REJECTED"===(null===e||void 0===e?void 0:e.assessStatus)}))&&Object(J.jsx)(uc.a,{style:{marginLeft:".5rem"},color:"error"})]})}),Object(J.jsx)(An.a,{className:"category-progress-bar",value:a.questions.filter((function(e){return"ANSWERED"===(null===e||void 0===e?void 0:e.answerStatus)})).length/a.questions.length*100,variant:"determinate"}),Object(J.jsxs)("p",{className:"category-progress-percentage",children:[Y(a.questions.filter((function(e){return"ANSWERED"===(null===e||void 0===e?void 0:e.answerStatus)})).length/a.questions.length*100),"%"]}),Object(J.jsxs)("h5",{className:"status",children:["Status :"," ",a.questions.filter((function(e){return"ANSWERED"===(null===e||void 0===e?void 0:e.answerStatus)})).length===a.questions.length?Object(J.jsx)("span",{className:"status-title",children:"Complete"}):Object(J.jsx)("span",{className:"primary-red",children:"Incomplete"})]})]})}),mc=function(e){var t=e.categories,a=e.responseId,n=e.setLoading,c=e.status,s=e.fetchAssessmentResponseById,r=Object(m.c)((function(e){return e.auth})).userData,l=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!0),t={responseId:a,status:"SUBMITTED",updatedBy:{name:null===r||void 0===r?void 0:r.name,userType:null===r||void 0===r?void 0:r.type,uid:D.currentUser.uid}},e.next=5,La.changeResponseStatus(t);case 5:if(!(e.sent.status>=400)){e.next=8;break}throw new Error("Error in submitting response!");case 8:return e.next=10,s();case 10:F()("Success","Response submitted for assessment","success"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),F()({title:"Error",text:e.t0.message,icon:"error",button:"OK"});case 16:return e.prev=16,n(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(){return e.apply(this,arguments)}}();return Object(J.jsx)(re.a,{children:Object(J.jsx)(re.a,{sx:{mt:3},children:Object(J.jsx)(ra.a,{children:Object(J.jsxs)(ia.a,{children:[Object(J.jsxs)("div",{className:"Category",children:[Object(J.jsx)("h2",{children:"Categories"}),Object(J.jsx)("hr",{})]}),Object(J.jsx)("div",{className:"category-container",children:Object(J.jsx)("div",{className:"row",children:t.map((function(e){return Object(J.jsx)("div",{className:"col-md-6 col-12 pr-4",children:Object(J.jsx)("div",{className:"row",children:Object(J.jsx)("div",{className:"col-md-10 col-12",children:Object(J.jsx)(bc,{category:e,responseId:a})})})})}))})}),Object(J.jsx)("div",{className:"d-flex w-100 justify-content-center py-2",children:Object(J.jsx)("button",{className:"btn btn-submit",onClick:l,disabled:"SUBMITTED"===c||"COMPLETED"===c||t.some((function(e){return e.questions.some((function(e){return"UNANSWERED"===e.answerStatus}))})),children:"Submit"})})]})})})})},hc=function(){var e=Object(h.j)().responseId,t=Object(u.useState)(null),a=Object(y.a)(t,2),n=a[0],c=a[1],r=Object(u.useState)(!1),l=Object(y.a)(r,2),d=l[0],j=l[1],b=function(){var t=Object(o.a)(i.a.mark((function t(){var a,n,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(!0),a={responseId:e,include:{assessment:!1,sections_category:!0,sections_questions_question:!1}},t.next=5,La.getResponseById(a);case 5:n=t.sent,s=n.data.data,c(s),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",F()({title:"Error",text:"Error in fetching assessment",icon:"error",button:"OK"}));case 14:return t.prev=14,j(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,10,14,17]])})));return function(){return t.apply(this,arguments)}}();return Object(u.useEffect)((function(){return b(),function(){}}),[e]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Categories | Oren"})}),d&&Object(J.jsx)(X,{}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsx)("h5",{children:Object(J.jsxs)("ul",{class:"breadcrumb",children:[Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/atgl/Contractor/Assessment",children:"Assessment"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"atgl/Contractor/assessment/".concat(e,"/categories"),children:"Categories"})})]})}),(null===n||void 0===n?void 0:n.sections)&&Object(J.jsx)(mc,{categories:null===n||void 0===n?void 0:n.sections,responseId:e,setLoading:j,status:null===n||void 0===n?void 0:n.status,fetchAssessmentResponseById:b}),Object(J.jsx)(re.a,{sx:{pt:3}})]})})]})},xc=(Object(Ca.a)(),Object(Ca.a)(),Object(Ca.a)(),Object(Ca.a)(),Object(Ca.a)(),Object(Ca.a)(),function(e){var t=e.CapList,a=Object(u.useState)(!1),n=Object(y.a)(a,2),c=n[0],s=n[1],r=Object(u.useState)(t),i=Object(y.a)(r,2),o=i[0],l=i[1];return Object(u.useEffect)((function(){l(t)}),[t]),Object(J.jsxs)(ra.a,{children:[Object(J.jsx)(da.a,{title:"Cap Details"}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(ha.a,{children:Object(J.jsx)(re.a,{children:Object(J.jsxs)(xa.a,{className:"text-center",TableRow:5,children:[Object(J.jsx)(Oa.a,{children:Object(J.jsxs)(pa.a,{id:"table-row",children:[Object(J.jsx)(fa.a,{className:"text-center",children:"Sr.no"}),Object(J.jsx)(fa.a,{className:"text-center",children:"Company"}),Object(J.jsx)(fa.a,{className:"text-center",children:"Score"})]})}),Object(J.jsx)(ga.a,{children:(c?o:o.slice(0,4)).map((function(e,t){return Object(J.jsxs)(pa.a,{hover:!0,className:"light-".concat(U(e.scored/e.total*100).color.toLowerCase()),children:[Object(J.jsx)(fa.a,{className:"text-center",children:t+1}),Object(J.jsx)(fa.a,{className:"text-center",children:e._id.contractorName}),Object(J.jsxs)(fa.a,{className:"text-center",children:[Y(e.scored/e.total*100)," %"]})]},e._id.contractorId)}))})]})})}),Object(J.jsx)(re.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:o.length>=5?Object(J.jsx)(ot.a,{className:"view-btn",color:"primary",endIcon:Object(J.jsx)(Da.a,{}),size:"small",variant:"text",onClick:function(){return s(!c)},children:c?"View Less":"View All"}):null})]})});function Oc(){var e=Object(m.c)((function(e){return e.auth})).userData,t=Object(u.useState)(!1),a=Object(y.a)(t,2),n=a[0],c=a[1],s=Object(u.useState)([]),r=Object(y.a)(s,2),l=r[0],d=r[1];Object(u.useEffect)((function(){e&&j()}),[e]);var j=function(){var t=Object(o.a)(i.a.mark((function t(){var a,n,s,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),s=null!==(a=null!==(n=e.cmp_id)&&void 0!==n?n:e.companyId)&&void 0!==a?a:e.assoc_companies[0],t.next=4,La.fetchLeaderBoard(s);case 4:r=t.sent,console.log("fetchleaderboard",r.data.result),d(r.data.result),c(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return n?Object(J.jsx)(X,{}):Object(J.jsx)(Ma.c,{searchBottom:!1,searchTop:!1,hover:!0,entriesOptions:[10,20,30],entries:10,pagesAmount:4,data:{columns:[{label:"Sr. No",field:"ref",sort:"enable",width:150},{label:"Company",field:"Company",width:270},{label:"Score",field:"Score",width:270}],rows:l?l.map((function(e,t){return{ref:t+1,Company:null===e||void 0===e?void 0:e.name,Score:null===e||void 0===e?void 0:e.points}})):null}})}a(330);var pc="/static/images/caps/Vector.png",fc=function(e){var t=e.RedCap,a=e.viewDetails;return Object(J.jsx)("div",{className:"",children:Object(J.jsx)("div",{className:"",children:Object(J.jsx)("div",{className:"col-lg-12 col-sm-12",children:Object(J.jsxs)("div",{className:"card hovercard",children:[Object(J.jsx)("div",{className:"cardheader",children:Object(J.jsx)("div",{className:"title1",children:Object(J.jsxs)("a",{target:"_blank",children:[t.length," ",Object(J.jsx)("br",{})," Red Cap"]})})}),Object(J.jsx)("div",{className:"avatar",children:Object(J.jsx)("img",{alt:"",src:pc})}),Object(J.jsx)("div",{className:"info",children:Object(J.jsx)("div",{className:"title",onClick:function(){return a()},children:Object(J.jsx)("a",{target:"_blank",children:"View"})})})]})})})})},vc="/static/images/caps/Vector.png",gc=function(e){var t=e.OrangeCap,a=e.viewDetails;return Object(J.jsx)("div",{className:"",children:Object(J.jsx)("div",{className:"",children:Object(J.jsx)("div",{className:"col-lg-12 col-sm-12",children:Object(J.jsxs)("div",{className:"card hovercard card2 hovercard2",children:[Object(J.jsx)("div",{className:"cardheader cardheader2",children:Object(J.jsx)("div",{className:"title1 title12",children:Object(J.jsxs)("a",{target:"_blank",children:[t.length," ",Object(J.jsx)("br",{})," Orange Cap"]})})}),Object(J.jsx)("div",{className:"avatar avatar2",children:Object(J.jsx)("img",{alt:"",src:vc})}),Object(J.jsx)("div",{className:"info info2",children:Object(J.jsx)("div",{className:"title title2",onClick:function(){return a()},children:Object(J.jsx)("a",{target:"_blank",children:"View"})})})]})})})})},yc="/static/images/caps/Vector.png",Nc=function(e){var t=e.GreenCap,a=e.viewDetails;return Object(J.jsx)("div",{className:"",children:Object(J.jsx)("div",{className:"",children:Object(J.jsx)("div",{className:"col-lg-12 col-sm-12",children:Object(J.jsxs)("div",{className:"card hovercard card3 hovercard3",children:[Object(J.jsx)("div",{className:"cardheader cardheader3",children:Object(J.jsx)("div",{className:"title1 title13",children:Object(J.jsxs)("a",{target:"_blank",children:[t.length," ",Object(J.jsx)("br",{}),"Green Cap"]})})}),Object(J.jsx)("div",{className:"avatar avatar3",children:Object(J.jsx)("img",{alt:"",src:yc})}),Object(J.jsx)("div",{className:"info info3",children:Object(J.jsx)("div",{className:"title title3",onClick:function(){return a()},children:Object(J.jsx)("a",{target:"_blank",children:"View"})})})]})})})})},wc=(a(695),function(){var e=Object(m.c)((function(e){return e.auth})).userData,t=Object(u.useState)([]),a=Object(y.a)(t,2),n=a[0],c=a[1],s=Object(u.useState)([]),r=Object(y.a)(s,2),l=r[0],d=r[1],j=Object(u.useState)([]),b=Object(y.a)(j,2),h=b[0],x=b[1],O=Object(u.useState)([]),p=Object(y.a)(O,2),f=p[0],v=p[1],g=Object(u.useState)(!1),N=Object(y.a)(g,2),w=N[0],k=N[1];Object(u.useEffect)((function(){e&&C()}),[e]);var C=function(){var t=Object(o.a)(i.a.mark((function t(){var a,n,s,r,o,l,j,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(!0),s=null!==(a=null!==(n=e.cmp_id)&&void 0!==n?n:e.companyId)&&void 0!==a?a:e.assoc_companies[0],(r={}).companyId=s,t.next=6,La.fetchCapDetails(r);case 6:o=t.sent,console.log("fetchCapDetails",o.data.data),c(o.data.data),l=[],j=[],u=[],o.data.data.map((function(e){Y(e.scored/e.total*100)>=70?u.push(e):Y(e.scored/e.total*100)>=40&&Y(e.scored/e.total*100)<70?j.push(e):l.push(e)})),d(l),v(j),x(u),k(!1);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return w?Object(J.jsx)(X,{}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Engagement | Oren"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsx)("h2",{children:Object(J.jsx)("ul",{class:"breadcrumb",children:Object(J.jsx)("li",{children:Object(J.jsx)("a",{href:"Engagement",children:"Engagement"})})})}),Object(J.jsxs)("div",{className:"row",container:!0,spacing:3,children:[Object(J.jsx)("div",{className:"col-md-7",children:Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-4",children:Object(J.jsx)(sa.a,{className:"text-center",children:Object(J.jsx)(fc,{RedCap:l,viewDetails:function(){return c(l)}})})}),Object(J.jsx)("div",{className:"col-md-4",children:Object(J.jsx)(sa.a,{className:"text-center",children:Object(J.jsx)(gc,{OrangeCap:f,viewDetails:function(){return c(f)}})})}),Object(J.jsx)("div",{className:"col-md-4 text-center",children:Object(J.jsx)(sa.a,{className:"text-center",children:Object(J.jsx)(Nc,{GreenCap:h,viewDetails:function(){return c(h)}})})}),Object(J.jsx)(sa.a,{children:Object(J.jsx)(xc,{CapList:n})})]})}),Object(J.jsxs)("div",{className:"col-md-5 ",id:"leader-board",children:[Object(J.jsx)(da.a,{title:"Leaderboard"}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(sa.a,{className:"text-center",children:Object(J.jsx)(Oc,{customers:Sa})})]})]})]})})]})}),kc=a(340),Cc=(a(477),a(271)),Sc=a.n(Cc),Ac=a(157),Ec=a.n(Ac),Dc=a(175),Tc=a(178),Ic=a(104),qc=a.n(Ic),Fc=a(101),Bc=a.n(Fc),Lc=a(884),Rc=a(883),Pc=a(509),Mc=function(e){var t=Object(u.useRef)(null),a=Object(u.useRef)(null),n=Object(u.useRef)(),c=Object(u.useState)(),s=Object(y.a)(c,2),r=s[0],l=s[1],d=Object(u.useState)([]),j=Object(y.a)(d,2),b=j[0],h=j[1],x=Object(u.useState)(!1),O=Object(y.a)(x,2),p=O[0],f=O[1],v=Object(u.useState)(""),g=Object(y.a)(v,2),N=g[0],w=g[1],k=Object(u.useState)(!1),C=Object(y.a)(k,2),S=C[0],A=C[1],E=Object(u.useState)({}),q=Object(y.a)(E,2),F=q[0],B=q[1],M=Object(m.c)((function(e){return e.auth})).userData,W=(M.type,M.profileImage),V=function(){var e=Object(o.a)(i.a.mark((function e(t,a){var n,c,s,r,o,l,d,j,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===F||void 0===F?void 0:F[t])){e.next=2;break}return e.abrupt("return",{uid:t,link:F[t]});case 2:if(t!==D.currentUser.uid){e.next=4;break}return e.abrupt("return",{uid:t,link:null===W||void 0===W?void 0:W.fileLink});case 4:e.t0=a,e.next=e.t0===L?7:e.t0===R?11:e.t0===P?15:19;break;case 7:return e.next=9,I.collection("company").doc(t).get();case 9:return d=e.sent,e.abrupt("return",{uid:t,link:null===(n=d.data())||void 0===n||null===(c=n.profileImage)||void 0===c?void 0:c.fileLink});case 11:return e.next=13,I.collection("managers").doc(t).get();case 13:return j=e.sent,e.abrupt("return",{uid:t,link:null===(s=j.data())||void 0===s||null===(r=s.profileImage)||void 0===r?void 0:r.fileLink});case 15:return e.next=17,I.collection("tpis").doc(t).get();case 17:return u=e.sent,e.abrupt("return",{uid:t,link:null===(o=u.data())||void 0===o||null===(l=o.profileImage)||void 0===l?void 0:l.fileLink});case 19:return e.abrupt("return",{uid:t,link:""});case 21:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Y=function(){e.handleClose(),e.setSendFile(!1),l(),w(""),A(!1)};Object(u.useEffect)((function(){e.question&&e.response&&I.collection("chat_rooms").doc("".concat(e.response.contractorId,"-").concat(e.question._id)).collection("messages").orderBy("created_at").onSnapshot((function(e){var t=[];e.docs.forEach((function(e){var a=e.data();t.push(a)})),h(t),console.log("internal chat ",{comments:t})})),e.sendFile&&!S&&(A(!0),t.current.click())}),[e,S]),Object(u.useEffect)((function(){var e=[],t=Object(K.a)({},F);return b.forEach((function(a){Object.keys(t).includes(a.from_id)||(t[a.from_id]="",e.push(V(a.from_id,a.from_type)))})),e.length>0&&Promise.all(e).then((function(e){var t={};e.forEach((function(e){return t[e.uid]=e.link})),B((function(e){return 0!==Object.values(e).length?Object(K.a)(Object(K.a)({},e),t):t}))})),function(){}}),[b]);var U=function(){var t=Object(o.a)(i.a.mark((function t(c){var s,o,d,j,u,b;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,c.preventDefault(),f(!0),s=I.collection("chat_rooms").doc("".concat(e.response.contractorId,"-").concat(e.question._id)).collection("messages").doc().id,console.log("message id",s),o={message:N,from_id:e.uid,from_type:e.type,from_name:e.name,created_at:Date.parse(new Date)},!r){t.next=14;break}return d=T.ref(),j={contentType:r.type},u="chat_rooms/".concat(e.response.contractorId,"-").concat(e.question._id,"/messages/").concat(s,"/attachments/").concat(r.name),b={document:{filePath:u,metadata:{contentType:r.type},fileName:r.name,fileSize:r.size}},t.next=13,d.child(u).put(r,j);case 13:o.document=b.document;case 14:return t.next=16,I.collection("chat_rooms").doc("".concat(e.response.contractorId,"-").concat(e.question._id)).collection("messages").doc(s).set(o);case 16:t.sent,l(null),w(""),f(!1),a.current.focus(),n.current.scrollIntoView({behavior:"smooth"}),t.next=28;break;case 24:t.prev=24,t.t0=t.catch(0),console.log("handleMessage err",{err:t.t0}),f(!1);case 28:case"end":return t.stop()}}),t,null,[[0,24]])})));return function(e){return t.apply(this,arguments)}}();Object(u.useEffect)((function(){n.current&&n.current.scrollIntoView({behavior:"smooth"})}),[b,r]);var z=function(e){switch(e){case R:return"COMPANY";case P:return"AUDITOR";case L:return"ORGANIZATION";default:return""}};return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(qa.a,{show:e.show,onHide:Y,size:"lg",backdrop:"static",keyboard:"false",centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Response"}),Object(J.jsx)(Ia.a,{fontSize:"medium",onClick:Y,style:{color:"red",cursor:"pointer"}})]}),Object(J.jsxs)(qa.a.Body,{style:{padding:0},children:[r&&Object(J.jsxs)("div",{className:"d-flex justify-content-between flex-column w-100 h-100 position-absolute",style:{zIndex:1e3,background:"white",height:"69vh"},children:[Object(J.jsxs)("div",{className:"d-flex py-1",children:[Object(J.jsx)("div",{className:"",style:{paddingLeft:"1rem"},children:Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:Object(J.jsx)(ne.a,{onClick:function(){return l(null)},children:Object(J.jsx)(Ia.a,{})})})}),Object(J.jsx)("div",{className:"",style:{flexGrow:1},children:Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:null===r||void 0===r?void 0:r.name})})]}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)("div",{className:"d-flex w-100 justify-content-center align-items-center",style:{height:"100%"},children:(null===r||void 0===r?void 0:r.type.includes("image/"))?Object(J.jsx)("img",{style:{maxHeight:"60vh"},className:"img-thumbnail",src:URL.createObjectURL(r)}):Object(J.jsx)("object",{data:URL.createObjectURL(r),type:r.type,width:"90%",height:"100%",children:Object(J.jsxs)("div",{className:"d-flex flex-column h-100 justify-content-center align-items-center img-thumbnail",children:[Object(J.jsx)(Rc.a,{style:{width:"10rem",height:"10rem",color:"grey"}}),Qa(r.size)," - ",null===r||void 0===r?void 0:r.name]})})})]}),Object(J.jsxs)("div",{class:"card-body msg_card_body",style:{height:"69vh"},children:[b.map((function(t){return t.from_id===e.uid?Object(J.jsx)("div",{class:"d-flex flex-column justify-content-end my-2",children:Object(J.jsxs)("div",{class:"d-flex justify-content-end",children:[Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{class:"msg_cotainer_send",children:[Object(J.jsxs)("div",{className:"d-flex w-100 justify-content-end align-items-center",style:{fontSize:".7rem",fontWeight:"bold"},children:[t.from_name,Object(J.jsx)("div",{className:"px-1",style:{background:"grey",letterSpacing:"1px",fontSize:".5rem",color:"white",height:"auto",display:"inline",marginLeft:".4rem"},children:z(t.from_type)})]}),t.document?Object(J.jsx)(_a,{mode:"view",file:{value:t.document}},t.created_at):null,t.message]}),Object(J.jsxs)("span",{className:"d-flex w-100 justify-content-end",style:{color:" #32434c !important",fontSize:"10px"},children:[et()(t.created_at).format("hh:mm A"),","," ",et()(t.created_at).fromNow()]})]}),Object(J.jsx)("div",{class:"img_cont_msg",children:Object(J.jsx)(lt.a,{alt:t.from_name,src:null===F||void 0===F?void 0:F[t.from_id]})})]})}):Object(J.jsxs)("div",{class:"d-flex justify-content-start my-2",children:[Object(J.jsx)("div",{class:"img_cont_msg",children:Object(J.jsx)(lt.a,{alt:t.from_name,src:null===F||void 0===F?void 0:F[t.from_id]})}),Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{class:"msg_cotainer",children:[Object(J.jsxs)("div",{className:"d-flex w-100 justify-content-start align-items-center",style:{fontSize:".7rem",fontWeight:"bold"},children:[t.from_name,Object(J.jsx)("div",{className:"px-1",style:{background:"grey",letterSpacing:"1px",fontSize:".5rem",color:"white",height:"auto",display:"inline",marginLeft:".4rem"},children:z(t.from_type)})]}),t.document?Object(J.jsx)(_a,{mode:"view",file:{value:t.document}},t.created_at):null,t.message]}),Object(J.jsxs)("span",{style:{color:" #32434c !important",fontSize:"10px"},children:[et()(t.created_at).format("hh:mm A"),","," ",et()(t.created_at).fromNow()]})]})]})})),Object(J.jsx)("span",{ref:n})]})]}),Object(J.jsx)(qa.a.Footer,{children:Object(J.jsxs)(Ya.a,{className:"w-100 d-flex align-items-center",children:[Object(J.jsx)(Ya.a.Control,{onSubmit:U,placeholder:"Type a message.....",style:{height:"50px",flexGrow:1},value:N,disabled:p,onChange:function(e){return w(e.target.value)},ref:a}),Object(J.jsx)("label",{style:{marginLeft:"20px"},for:"file-input",className:"response-file",children:Object(J.jsx)(Ja.a,{fontSize:"large"})}),Object(J.jsx)("input",{id:"file-input",type:"file",ref:t,onChange:function(e){return l(e.target.files[0])},accept:"image/*, .doc, .docx, application/pdf, application/msword, application/vnd.ms-powerpoint,.ppt, .pptx, .csv, .xlsv"}),Object(J.jsx)(Ua.a,{style:{marginLeft:"20px"},type:"submit",className:"modal-submit-btn",onClick:U,disabled:p||!N&&!r,children:p?Object(J.jsx)(Pc.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Send"})]})})]})})},Wc=function(){var e=Object(o.a)(i.a.mark((function e(t,a,n){var c,s,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name.trim().replace(/\s+/g,"_"),s="assessment/".concat(a,"/").concat(n,"/").concat(V(5),"-").concat(c),r=T.ref(s),e.next=5,r.put(t);case 5:return e.next=7,r.getDownloadURL();case 7:return o=e.sent,e.abrupt("return",{fileName:c,filePath:s,fileLink:o,fileSize:t.size,fileType:t.type});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Vc=function(e){var t,a,n,c,s,r,i,o,l,d,j,h=e.question,x=e.index,O=e.formik,p=e.response,f="questions.".concat(x,"."),v=[Q.COMPLETED,Q.SUBMITTED].includes(p.status),g=b.a.useState(null),N=Object(y.a)(g,2),w=N[0],k=N[1],C=Object(u.useState)(!1),S=Object(y.a)(C,2),A=S[0],E=S[1],D=Object(u.useState)(!1),T=Object(y.a)(D,2),I=T[0],q=T[1],F=Object(m.c)((function(e){return e.auth})).userData,B=function(){k(null)};return Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-1 table-title border-end d-flex justify-content-center align-items-center",children:Object(J.jsxs)("div",{className:"my-3",children:["REJECTED"===(null===h||void 0===h?void 0:h.assessStatus)&&Object(J.jsx)(Ec.a,{className:"wrong",style:{color:Dc.a[500]}}),"ACCEPTED"===(null===h||void 0===h?void 0:h.assessStatus)&&Object(J.jsx)(qc.a,{className:"correct",style:{color:Tc.a[500]}})]})}),Object(J.jsx)("div",{className:"col-5  border-end d-flex justify-content-start align-items-center",children:Object(J.jsx)("div",{className:"my-3",children:Object(J.jsxs)("h2",{children:[x+1,". ",h.question.questText]})})}),Object(J.jsx)("div",{className:"col-4  table-title border-end",children:Object(J.jsxs)("div",{className:"h-100  d-flex justify-content-center align-items-center",children:[(null===h||void 0===h||null===(t=h.questType)||void 0===t?void 0:t.yesNo)&&Object(J.jsx)("div",{className:"btn-group btn-group-toggle",style:{flexWrap:"nowrap"},"data-toggle":"buttons",children:Object(J.jsxs)("div",{style:{marginRight:15},children:[Object(J.jsxs)("label",{style:{marginRight:"10px"},className:"btn btn-outline-success ".concat(!0===h.answer.yesNo&&"active"),children:[Object(J.jsx)("input",{disabled:v,type:"radio",hidden:!0,onChange:function(){O.setFieldValue(f+"answerStatus","ANSWERED"),O.setFieldValue(f+"answer.yesNo",!0)},name:"options",id:"option1"})," ",Object(J.jsx)("div",{style:{marginTop:4},children:"Yes"})]}),Object(J.jsxs)("label",{className:"btn btn-outline-danger ".concat(!1===h.answer.yesNo&&"active"),children:[Object(J.jsx)("input",{type:"radio",hidden:!0,disabled:v,onChange:function(){O.setFieldValue(f+"answerStatus","ANSWERED"),O.setFieldValue(f+"answer.yesNo",!1)},name:"options",id:"option2"})," ",Object(J.jsx)("div",{style:{marginTop:4},children:"No"})]})]})}),(null===h||void 0===h||null===(a=h.questType)||void 0===a?void 0:a.text)&&Object(J.jsx)("div",{className:"pl-2",style:{width:"70%"},children:Object(J.jsx)(Lc.a,{value:null===(n=O.values)||void 0===n||null===(c=n.questions[x])||void 0===c||null===(s=c.answer)||void 0===s?void 0:s.text,invalid:(null===O||void 0===O||null===(r=O.errors)||void 0===r?void 0:r.questions)&&(null===O||void 0===O||null===(i=O.errors)||void 0===i?void 0:i.questions.hasOwnProperty(x))&&(null===O||void 0===O||null===(o=O.errors.questions[x])||void 0===o||null===(l=o.answer)||void 0===l?void 0:l.text),disabled:"UNANSWERED"===(null===(d=O.values)||void 0===d||null===(j=d.questions[x])||void 0===j?void 0:j.answerStatus)||v,onChange:function(e){e.target.value?O.setFieldValue(f+"answerStatus","ANSWERED"):O.setFieldValue(f+"answerStatus","UNANSWERED"),O.setFieldValue(f+"answer.text",e.target.value)},placeholder:"Your response..."})})]})}),Object(J.jsxs)("div",{className:"col-2 d-flex justify-content-center align-items-center",children:[" ",Object(J.jsxs)("div",{className:"my-3 d-flex",children:[Object(J.jsx)(Ua.a,{variant:"",className:"chat-btn",onClick:function(){return E(!0)},children:Object(J.jsx)(Bc.a,{})}),Object(J.jsx)(Ua.a,{disabled:v,variant:"",className:"attach-btn",children:Object(J.jsx)("label",{for:"file-input-".concat(x),className:"file response-file",children:Object(J.jsx)(Ja.a,{})})}),Object(J.jsxs)("div",{children:[Object(J.jsx)(Ua.a,{style:{marginLeft:"10px"},variant:"",className:"attach-btn",onClick:function(e){return k(e.currentTarget)},children:Object(J.jsx)("label",{className:"file",children:Object(J.jsx)(Sc.a,{})})}),Object(J.jsxs)(kc.a,{id:"simple-menu",anchorEl:w,keepMounted:!0,open:Boolean(w),onClose:B,children:[0==(null===O||void 0===O?void 0:O.values.questions[x].answer.attachment.length)&&Object(J.jsx)(Dn.a,{children:Object(J.jsx)("p",{children:"No files available"})}),null===O||void 0===O?void 0:O.values.questions[x].answer.attachment.map((function(e,t){return Object(J.jsx)(Dn.a,{onClick:B,children:Object(J.jsx)("p",{className:"file-name mx-2 my-2",children:(null===e||void 0===e?void 0:e.name)||Object(J.jsx)("a",{href:null===e||void 0===e?void 0:e.fileLink,target:"blank",children:null===e||void 0===e?void 0:e.fileName})})},t)}))]})]}),Object(J.jsx)("input",{id:"file-input-".concat(x),type:"file",style:{display:"none"},required:!0,onChange:function(e){console.log(typeof e.target.files[0]),O.setFieldValue(f+"answer.attachment.".concat(null===O||void 0===O?void 0:O.values.questions[x].answer.attachment.length),e.target.files[0])},accept:"image/*, .doc, .csv,.xls, .xlsx, .docx, application/pdf, application/msword, application/vnd.ms-powerpoint,.ppt, .pptx"})]})]}),h&&p?Object(J.jsx)(Mc,{sendFile:I,setSendFile:q,show:A,handleClose:function(){return E(!1)},question:h,response:p,uid:F.user,type:F.type,name:F.name}):null]})},Yc=function(e){var t=e.section,a=e.setLoading,n=e.responseId,c=e.response,s=Object(h.i)(),r=function(){var e=Object(o.a)(i.a.mark((function e(c){var r,o,l,d,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a(!0),r={assesRespId:n,responseData:c,sectionId:t._id},o=0;case 4:if(!(o<c.questions.length)){e.next=19;break}l=c.questions[o],d=0;case 7:if(!(d<l.answer.attachment.length)){e.next=16;break}if(!(null===(j=l.answer.attachment[d])||void 0===j?void 0:j.arrayBuffer)){e.next=13;break}return e.next=12,Wc(j,n,t._id);case 12:c.questions[o].answer.attachment[d]=e.sent;case 13:d++,e.next=7;break;case 16:o++,e.next=4;break;case 19:return e.next=21,La.updateSectionInResponse(r);case 21:if(!(e.sent.data.code>=400)){e.next=24;break}throw new Error("Error in saving response!");case 24:F()("Saved","Your response is saved","success").then((function(){return s("/atgl/Contractor/assessment/".concat(n,"/categories"))})),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),F()({title:"Error",text:e.t0.message,icon:"error",button:"OK"});case 30:return e.prev=30,a(!1),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[0,27,30,33]])})));return function(t){return e.apply(this,arguments)}}(),l=Object(Xa.b)({initialValues:t,validationSchema:Ka.e().shape({questions:Ka.a().of(Ka.e({questType:Ka.e().shape({text:Ka.b()}),answerStatus:Ka.g(),answer:Ka.e().when(["questType","answerStatus"],{is:function(e,t){return e.text&&"ANSWERED"===t},then:Ka.e().shape({text:Ka.g().required()}),otherwise:Ka.e().shape({text:Ka.g().optional()})})}))}),onSubmit:r});return Object(J.jsx)(re.a,{children:Object(J.jsxs)(re.a,{sx:{mt:3},children:[Object(J.jsx)(ra.a,{children:Object(J.jsx)(ia.a,{children:Object(J.jsx)("div",{className:"checklist-container",children:Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("div",{className:"row",children:Object(J.jsx)("div",{className:"category-title",children:Object(J.jsx)("h4",{children:t.category.name})})})}),Object(J.jsxs)("div",{className:"col-md-6",children:[Object(J.jsx)(An.a,{className:"checklist-progress-bar",value:Y(l.values.questions.filter((function(e){return"ANSWERED"===(null===e||void 0===e?void 0:e.answerStatus)})).length/l.values.questions.length*100),variant:"determinate"}),Object(J.jsxs)("p",{className:"checklist-progress-percentage",children:[Y(l.values.questions.filter((function(e){return"ANSWERED"===(null===e||void 0===e?void 0:e.answerStatus)})).length/l.values.questions.length*100),"%"]})]}),Object(J.jsx)("hr",{}),Object(J.jsxs)("div",{className:"Checklist-container2",children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-1 table-title border-end ",children:Object(J.jsx)("div",{className:"",children:"Status"})}),Object(J.jsx)("div",{className:"col-md-5 table-title border-end ",children:Object(J.jsx)("div",{className:"",children:"Topic"})}),Object(J.jsx)("div",{className:"col-md-3 table-title border-end ",children:Object(J.jsx)("div",{className:"",children:"Response"})}),Object(J.jsx)("div",{className:"col-md-3 table-title text-center",children:Object(J.jsx)("div",{className:"",children:"Confirmation"})})]}),l.values.questions.map((function(e,a){return Object(J.jsx)(Vc,{section:t,response:c,question:e,index:a,formik:l},a.toString())}))]})]})})})}),Object(J.jsx)("div",{children:Object(J.jsx)("div",{className:"d-flex w-100 justify-content-center py-4",children:![Q.COMPLETED,Q.SUBMITTED].includes(c.status)&&Object(J.jsx)("button",{type:"button",className:"btn",style:{backgroundColor:"white",border:"1px solid #1e2b56"},onClick:l.handleSubmit,children:"Save"})})})]})})},Uc=function(){var e=Object(h.j)(),t=e.responseId,a=e.categoryId,n=Object(u.useState)(null),c=Object(y.a)(n,2),r=c[0],l=c[1],d=Object(u.useState)(null),j=Object(y.a)(d,2),b=j[0],m=j[1],x=Object(u.useState)(!1),O=Object(y.a)(x,2),p=O[0],f=O[1],v=function(){var e=Object(o.a)(i.a.mark((function e(){var n,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),n={responseId:t,include:{assessment:!1,sections_category:!0,sections_questions_question:!0}},e.next=5,La.getResponseById(n);case 5:c=e.sent,s=c.data.data,console.log("getResponseById",{response:s,query:n}),l(s),m(s.sections.find((function(e){return e._id===a}))),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",F()({title:"Error",text:"Error in fetching assessment",icon:"error",button:"OK"}));case 16:return e.prev=16,f(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,12,16,19]])})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){return t&&a&&v(),function(){}}),[t,a]),Object(J.jsxs)(J.Fragment,{children:[p&&Object(J.jsx)(X,{}),Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Checklist | Oren"})}),b&&Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsx)("h2",{children:Object(J.jsxs)("ul",{class:"breadcrumb",children:[Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/atgl/Contractor/Assessment",children:"Assessment"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/atgl/Contractor/assessment/".concat(t,"/categories"),children:"Categories"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/atgl/Contractor/assessment/".concat(t,"/categories/").concat(a),children:"Checklist"})})]})}),b&&Object(J.jsx)(Yc,{section:b,setLoading:f,responseId:t,response:r}),Object(J.jsx)(re.a,{sx:{pt:3}})]})})]})},zc="/static/images/oren-logo.png",Hc=function(){var e=b.a.useState(!0),t=Object(y.a)(e,2),a=(t[0],t[1],Object(h.i)()),n=(Object(m.b)(),Object(u.useState)(!1)),c=Object(y.a)(n,2),r=c[0],l=c[1],d=function(){var e=Object(o.a)(i.a.mark((function e(t,n){var c,s,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),s=t.email,e.next=5,La.forgotPassword({email:s});case 5:if(400!==(c=e.sent).data.code){e.next=13;break}r=c.data.authErrCode,e.t0=r,e.next="auth/internal-error"===e.t0?11:12;break;case 11:return e.abrupt("return",F()("Error","Email not found","error"));case 12:return e.abrupt("return",F()("Error","Technical problem. Please try again later"));case 13:F()("Success","Please check your email for password reset link","success").then((function(){return a("/")})),e.next=20;break;case 16:return e.prev=16,e.t1=e.catch(0),console.log("Forgot password error",c),e.abrupt("return",F()("Error","Technical problem. Please try again later").then((function(){return a("/",{replace:!0})})));case 20:return e.prev=20,l(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[0,16,20,23]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(J.jsxs)(J.Fragment,{children:[r&&Object(J.jsx)(X,{}),Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:" Forgot Password| ORENNOW"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(J.jsx)(ca.a,{maxWidth:"sm",children:Object(J.jsx)(Xa.a,{initialValues:{email:""},validationSchema:Ka.e().shape({email:Ka.g().email("Must be a valid email").max(255).required("Email is required")}),onSubmit:d,children:function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,c=e.handleSubmit,r=(e.isSubmitting,e.touched),i=e.values;return Object(J.jsx)("form",{children:Object(J.jsxs)(ra.a,{id:"login-card",children:[Object(J.jsx)(sa.a,{container:!0,spacing:3,children:Object(J.jsxs)(sa.a,{className:"text-center",item:!0,xs:12,md:12,children:[Object(J.jsx)("img",{src:zc,alt:"ORENNOW",id:"logo2"}),Object(J.jsx)("h2",{className:"forgot-password",children:"Forgot your password ?"})]})}),Object(J.jsx)(re.a,{sx:{pb:1,pt:3},children:Object(J.jsx)(yt.a,{align:"center",color:"textSecondary",variant:"body1",children:"Enter your email address to receive Reset Password email"})}),Object(J.jsx)(ie.a,{error:Boolean(r.email&&t.email),fullWidth:!0,helperText:r.email&&t.email,label:"Email Address",margin:"normal",name:"email",onBlur:a("email"),onChange:n("email"),type:"email",value:i.email,variant:"outlined"}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-6"}),Object(J.jsx)("div",{className:"col-md-6"})]}),Object(J.jsx)(re.a,{sx:{py:2},children:Object(J.jsx)(ot.a,{color:"primary",onClick:c,fullWidth:!0,size:"large",type:"submit",variant:"contained",className:"login-button",children:"Send Email"})}),Object(J.jsxs)(sa.a,{container:!0,spacing:3,children:[Object(J.jsx)(sa.a,{className:"pull-left",item:!0,xs:12,md:6}),Object(J.jsx)(sa.a,{className:"float-right",item:!0,xs:12,md:6,children:Object(J.jsxs)(yt.a,{style:{float:"right"},color:"textSecondary",variant:"body1",children:[" ",Object(J.jsx)(rn.a,{component:s.b,to:"/",variant:"h6",children:"Sign In"})]})})]})]})})}})})})]})},Qc=function(e){var t=Object(m.c)((function(e){return e.auth})).userData,a=Object(u.useState)([]),n=Object(y.a)(a,2),c=n[0],s=n[1],r=Object(u.useState)(!1),l=Object(y.a)(r,2),d=l[0],j=l[1],b=function(){var e=Object(o.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={companyId:null===t||void 0===t?void 0:t.companyId},e.next=4,La.getTotalScoresOfContrsInCompany(a);case 4:if(!((n=e.sent).data.data.code>=400)){e.next=7;break}throw new Error("Error in fetching scores!");case 7:s(n.data.data.map((function(e){return Object(K.a)(Object(K.a)({},e._id),{},{scored:e.scored,total:e.total,perc:e.scored/e.total*100})}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),F()({title:"Error",text:e.t0.message,icon:"error",button:"OK"});case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}}),e,null,[[0,10,13,15]])})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){return(null===t||void 0===t?void 0:t.companyId)&&b(),function(){}}),[t]),Object(J.jsxs)(ra.a,Object(K.a)(Object(K.a)({},e),{},{children:[Object(J.jsx)(da.a,{title:Object(J.jsx)("h2",{children:"Cap Details"})}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(ha.a,{children:Object(J.jsx)(re.a,{children:Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(Oa.a,{children:Object(J.jsxs)(pa.a,{children:[Object(J.jsx)(fa.a,{className:"text-center",children:"Companies"}),Object(J.jsx)(fa.a,{className:"text-center",children:"Score"})]})}),Object(J.jsx)(ga.a,{children:c.slice(0,d?c.length:5).map((function(e,t){if(!d&&t>4)return null;var a=Y(e.perc),n=a>=70?"green":a>=40?"orange":"red";return console.log(a,n),Object(J.jsxs)(pa.a,{hover:!0,children:[Object(J.jsx)(fa.a,{className:"light-"+n+" text-center",children:Object(J.jsx)("u",{children:e.contractorName})}),Object(J.jsx)(fa.a,{className:"light-"+n+" text-center",children:a})]},e.contractorId)}))})]})})}),Object(J.jsx)(re.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:c.length>5&&Object(J.jsx)(ot.a,{className:"view-btn",color:"primary",endIcon:Object(J.jsx)(Da.a,{}),size:"small",variant:"text",onClick:function(){return j((function(e){return!e}))},children:d?"View Less":"View all"})})]}))},_c=a(730),Gc=a(272),Jc=a.n(Gc),Zc=Object(x.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},typography:{padding:e.spacing(2)}}})),Xc=function(e,t,a){var n=et()();return a&&n.set("year",a),t&&n.set("month",t),e?(n.set("date",e),n.format("DD MMM YYYY")):n.format("MMM YYYY")},Kc=function(e){var t,a,n,c,s,r,l,d,j,b,h,x,O,p,f,g,w,k=Object(u.useState)(null),C=Object(y.a)(k,2),S=C[0],A=C[1],E=Object(u.useState)(!1),D=Object(y.a)(E,2),T=D[0],I=D[1],q=Object(u.useState)(!1),B=Object(y.a)(q,2),L=B[0],R=B[1],P=Object(u.useState)(!1),M=Object(y.a)(P,2),W=M[0],V=M[1],Y=Object(Xa.b)({initialValues:{location:"",graphMonth:et()().month()}}),z=Object(m.c)((function(e){return e.auth})).userData.companyId,H="GRAPH",Q="COMPARE",_=Object(u.useState)(H),G=Object(y.a)(_,2),X=G[0],$=G[1],ee=Object(u.useState)([0,0,0]),te=Object(y.a)(ee,2),ae=te[0],ne=te[1],ce=Object(u.useState)([0,0,0]),se=Object(y.a)(ce,2),ie=se[0],oe=se[1],le=Object(Jn.a)(),de=function(e,t,a,n){var c={from:"",to:"",companyId:z};e?(c.from=et()().set({date:e,month:t,year:a}).startOf("day").toISOString(),c.to=et()().set({date:e,month:t,year:a}).endOf("day").toISOString()):(c.from=et()().set({month:t,year:a}).startOf("month").toISOString(),c.to=et()().set({month:t,year:a}).endOf("month").toISOString()),Ce(c.from,c.to,Y.values.location,(function(e){var t=0,a=0,c=0;e.forEach((function(e){var n=U(e.scored/e.total*100);"Red"===n.color?t++:"Green"===n.color?a++:c++})),n([a,c,t])}))},je=function(e){$(Q),A(null),R(!0),V(!0),de(e.compare1.date,e.compare1.month,e.compare1.year,(function(e){ne(e),R(!1)})),de(e.compare2.date,e.compare2.month,e.compare2.year,(function(e){oe(e),V(!1)}))},ue=Boolean(S),be=ue?"simple-popover":void 0,me={animation:!1,cutoutPercentage:70,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,tooltips:{backgroundColor:le.palette.background.paper,bodyFontColor:le.palette.text.secondary,borderColor:le.palette.divider,borderWidth:1,enabled:!0,footerFontColor:le.palette.text.secondary,intersect:!0,mode:"index",titleFontColor:le.palette.text.primary}},he=Zc(),xe=Object(u.useState)([]),Oe=Object(y.a)(xe,2),pe=Oe[0],fe=Oe[1],ve=Object(u.useState)([0,0,0]),ge=Object(y.a)(ve,2),ye=ge[0],Ne=ge[1],we=Object(Xa.b)({initialValues:{compare1:{date:"",month:"",year:""},compare2:{date:"",month:"",year:""}},validationSchema:Ka.e().shape({compare1:Ka.e().shape({month:Ka.d().required(),year:Ka.d().required()}),compare2:Ka.e().shape({month:Ka.d().required(),year:Ka.d().required()})}),onSubmit:je}),Ce=function(){var e=Object(o.a)(i.a.mark((function e(t,a,n,c){var s,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={from:t,to:a,companyId:z},n&&(s.location=n),e.next=5,La.getCapPerformanceData(s);case 5:return r=e.sent.data.data,e.abrupt("return",c(r));case 9:e.prev=9,e.t0=e.catch(0),F()("Error",e.t0.message,"error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n,c){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){if(X===H){I(!0);var e=et()().set("month",Y.values.graphMonth).startOf("month"),t=et()().set("month",Y.values.graphMonth).endOf("month"),a=Y.values.location;Ce(e,t,a,(function(e){var t=0,a=0,n=0;e.forEach((function(e){var c=U(e.scored/e.total*100);"Red"===c.color?t++:"Green"===c.color?a++:n++})),Ne([a,n,t]),I(!1)}))}return X===Q&&we.isValid&&je(we.values),function(){}}),[Y.values.graphMonth,Y.values.location,X]);var Se=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.getAllContractorsByID({companyId:z});case 2:t=e.sent,fe(Object(ke.a)(new Set(t.data.data.map((function(e){return e.location})))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){return z&&Se(),function(){}}),[z]),Object(J.jsx)(ra.a,Object(K.a)(Object(K.a)({},e),{},{children:Object(J.jsxs)(ia.a,{style:{height:"100%"},children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-4",children:Object(J.jsx)("h2",{children:"Cap Performance"})}),Object(J.jsxs)("div",{className:"col-md-8",children:[Object(J.jsx)(ot.a,{"aria-describedby":be,className:"view-btn  my-2  pull-right",color:"primary",startIcon:Object(J.jsx)(Jc.a,{}),size:"small",variant:"text",onClick:function(e){A(e.currentTarget)},children:"Compare"}),Object(J.jsx)("div",{children:Object(J.jsxs)(_c.a,{id:be,open:ue,anchorEl:S,onClose:function(){A(null)},anchorOrigin:{vertical:"bottom"},transformOrigin:{vertical:"top"},className:"compare-box",children:[Object(J.jsx)(yt.a,{style:{padding:"0px"},className:he.typography,id:"comparison-heading",children:"Comparison"}),Object(J.jsxs)("div",{className:"container",children:[Object(J.jsxs)("div",{className:"row",id:"popover-box",children:[Object(J.jsxs)("div",{className:"col-md-4",children:[" ",Object(J.jsx)(nn.a,(a={variant:"outlined",className:he.formControl},Object(N.a)(a,"className","select2 pull-right"),Object(N.a)(a,"children",Object(J.jsxs)(En.a,(t={value:we.values.compare1.date,onChange:we.handleChange("compare1.date"),displayEmpty:!0,className:"form-control"},Object(N.a)(t,"className",(he.selectEmpty,he.formControl)),Object(N.a)(t,"inputProps",{"aria-label":"Without label"}),Object(N.a)(t,"children",[Object(J.jsx)(Dn.a,{value:"",children:Object(J.jsx)("p",{children:"Date"})}),we.values.compare1.month&&we.values.compare1.year&&Array.apply(null,Array(et()().set({month:we.values.compare1.month,year:we.values.compare1.year}).daysInMonth())).map((function(e,t){return Object(J.jsx)(Dn.a,{value:(t+1).toString(),children:t+1})}))]),t))),a))]}),Object(J.jsx)("div",{className:"col-md-4",children:Object(J.jsx)(nn.a,(s={variant:"outlined",className:he.formControl},Object(N.a)(s,"className","select2 pull-right"),Object(N.a)(s,"children",Object(J.jsxs)(En.a,{value:we.values.compare1.month,error:(null===(n=we.touched.compare1)||void 0===n?void 0:n.month)&&(null===(c=we.errors.compare1)||void 0===c?void 0:c.month),onBlur:we.handleBlur("compare1.month"),onChange:function(e){we.setFieldValue("compare1.month",e.target.value),we.setFieldValue("compare1.date","")},displayEmpty:!0,className:(he.selectEmpty,he.formControl),inputProps:{"aria-label":"Without label"},children:[Object(J.jsx)(Dn.a,{value:"",children:Object(J.jsx)("p",{children:"Month"})}),Array.apply(null,Array(12)).map((function(e,t){var a=et()().set("month",t).format("MMMM");return Object(J.jsx)(Dn.a,{value:t,children:a})}))]})),s))}),Object(J.jsx)("div",{className:"col-md-4",children:Object(J.jsx)(nn.a,(d={variant:"outlined",className:he.formControl},Object(N.a)(d,"className","select2 pull-right"),Object(N.a)(d,"children",Object(J.jsxs)(En.a,{value:we.values.compare1.year,error:(null===(r=we.touched.compare1)||void 0===r?void 0:r.year)&&(null===(l=we.errors.compare1)||void 0===l?void 0:l.year),onBlur:we.handleBlur("compare1.year"),onChange:function(e){we.setFieldValue("compare1.year",e.target.value),we.setFieldValue("compare1.date","")},displayEmpty:!0,className:(he.selectEmpty,he.formControl),inputProps:{"aria-label":"Without label"},children:[Object(J.jsx)(Dn.a,{value:"",children:Object(J.jsx)("p",{children:"Year"})}),Object(J.jsx)(Dn.a,{value:"2018",children:"2018"}),Object(J.jsx)(Dn.a,{value:"2019",children:"2019"}),Object(J.jsx)(Dn.a,{value:"2020",children:"2020"}),Object(J.jsx)(Dn.a,{value:"2021",children:"2021"})]})),d))}),Object(J.jsx)("div",{className:"col-md-12 text-center",children:Object(J.jsxs)(yt.a,{className:"to",children:["To",Object(J.jsx)("br",{}),Object(J.jsx)("br",{})]})})]}),Object(J.jsxs)("div",{className:"row",id:"popover-box",children:[Object(J.jsxs)("div",{className:"col-md-4",children:[" ",Object(J.jsx)(nn.a,(j={variant:"outlined",className:he.formControl},Object(N.a)(j,"className","select2 pull-right"),Object(N.a)(j,"children",Object(J.jsxs)(En.a,{value:we.values.compare2.date,onChange:we.handleChange("compare2.date"),displayEmpty:!0,className:(he.selectEmpty,he.formControl),inputProps:{"aria-label":"Without label"},children:[Object(J.jsx)(Dn.a,{value:"",children:Object(J.jsx)("p",{children:"Date"})}),we.values.compare2.month&&we.values.compare2.year&&Array.apply(null,Array(et()().set({month:we.values.compare2.month,year:we.values.compare2.year}).daysInMonth())).map((function(e,t){return Object(J.jsx)(Dn.a,{value:(t+1).toString(),children:t+1})}))]})),j))]}),Object(J.jsx)("div",{className:"col-md-4",children:Object(J.jsx)(nn.a,(x={variant:"outlined",className:he.formControl},Object(N.a)(x,"className","select2 pull-right"),Object(N.a)(x,"children",Object(J.jsxs)(En.a,{value:we.values.compare2.month,error:(null===(b=we.touched.compare2)||void 0===b?void 0:b.month)&&(null===(h=we.errors.compare2)||void 0===h?void 0:h.month),onBlur:we.handleBlur("compare2.month"),onChange:function(e){we.setFieldValue("compare2.month",e.target.value),we.setFieldValue("compare2.date","")},displayEmpty:!0,className:(he.selectEmpty,he.formControl),inputProps:{"aria-label":"Without label"},children:[Object(J.jsx)(Dn.a,{value:"",children:Object(J.jsx)("p",{children:"Month"})}),Array.apply(null,Array(12)).map((function(e,t){var a=et()().set("month",t).format("MMMM");return Object(J.jsx)(Dn.a,{value:t,children:a})}))]})),x))}),Object(J.jsx)("div",{className:"col-md-4",children:Object(J.jsx)(nn.a,(f={variant:"outlined",className:he.formControl},Object(N.a)(f,"className","select2 pull-right"),Object(N.a)(f,"children",Object(J.jsxs)(En.a,{value:we.values.compare2.year,error:(null===(O=we.touched.compare2)||void 0===O?void 0:O.year)&&(null===(p=we.errors.compare2)||void 0===p?void 0:p.year),onBlur:we.handleBlur("compare2.year"),onChange:function(e){we.setFieldValue("compare2.year",e.target.value),we.setFieldValue("compare2.date","")},displayEmpty:!0,className:(he.selectEmpty,he.formControl),inputProps:{"aria-label":"Without label"},children:[Object(J.jsx)(Dn.a,{value:"",children:Object(J.jsx)("p",{children:"Year"})}),Object(J.jsx)(Dn.a,{value:"2018",children:"2018"}),Object(J.jsx)(Dn.a,{value:"2019",children:"2019"}),Object(J.jsx)(Dn.a,{value:"2020",children:"2020"}),Object(J.jsx)(Dn.a,{value:"2021",children:"2021"})]})),f))}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{})]})]}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-4"}),Object(J.jsx)("div",{className:"col-md-4 text-center",children:Object(J.jsx)(ot.a,{className:"view-btn form-control  my-4  text-center",color:"primary",onClick:we.handleSubmit,size:"small",variant:"text",children:"Compare"})})]})]})}),Object(J.jsx)(nn.a,(g={variant:"outlined",className:he.formControl},Object(N.a)(g,"className","select2  pull-right"),Object(N.a)(g,"children",Object(J.jsxs)(En.a,{value:Y.values.location,onChange:Y.handleChange("location"),displayEmpty:!0,className:(he.selectEmpty,he.formControl),inputProps:{"aria-label":"Without label"},children:[Object(J.jsx)(Dn.a,{value:"",children:Object(J.jsx)("p",{children:"Location"})}),pe.map((function(e){return Object(J.jsx)(Dn.a,{value:e,children:e})}))]})),g)),Object(J.jsx)(nn.a,(w={variant:"outlined",className:he.formControl},Object(N.a)(w,"className","select2 pull-right"),Object(N.a)(w,"children",X===H&&Object(J.jsxs)(En.a,{value:Y.values.graphMonth,onChange:Y.handleChange("graphMonth"),displayEmpty:!0,className:(he.selectEmpty,he.formControl),inputProps:{"aria-label":"Without label"},children:[Object(J.jsx)(Dn.a,{value:"",children:Object(J.jsx)("p",{children:"Month"})}),Array.apply(null,Array(12)).map((function(e,t){var a=et()().set("month",t).format("MMMM");return Object(J.jsx)(Dn.a,{value:t,children:a})}))]})),w))]}),Object(J.jsx)(Nt.a,{})]}),X===Q?Object(J.jsxs)(J.Fragment,{children:[" ",Object(J.jsxs)("div",{className:"container",children:[Object(J.jsx)("div",{className:"d-flex w-100 justify-content-end align-items-center py-3",children:Object(J.jsx)(ot.a,{className:"view-btn",color:"primary",startIcon:Object(J.jsx)(Ia.a,{}),size:"small",variant:"text",onClick:function(){return $(H)},children:"Close"})}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsxs)(re.a,{sx:{height:200,position:"relative",top:20},children:[Object(J.jsx)("h5",{className:"text-center year-pie",children:"< "+Xc(we.values.compare1.date,we.values.compare1.month,we.values.compare1.year)+" >"}),L?Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:Object(J.jsx)(Z,{})}):ae.every((function(e){return 0===e}))?Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:Object(J.jsx)("div",{children:"No data available"})}):Object(J.jsx)(v.Doughnut,{redraw:ae,data:{datasets:[{data:ae,backgroundColor:["#0BA360","#FDA232","#F96E6E"],borderWidth:5,borderColor:Zn.a.common.white,hoverBorderColor:Zn.a.common.white}],labels:["Green Cap","Orange Cap","Red Cap"]},options:me})]})}),Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsxs)(re.a,{sx:{height:200,position:"relative",top:20},children:[Object(J.jsxs)("h5",{className:"text-center year-pie",children:[" ","< "+Xc(we.values.compare2.date,we.values.compare2.month,we.values.compare2.year)+" >"]}),W?Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:Object(J.jsx)(Z,{})}):ie.every((function(e){return 0===e}))?Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:Object(J.jsx)("div",{children:"No data available"})}):Object(J.jsx)(v.Doughnut,{redraw:ie,data:{datasets:[{data:ie,backgroundColor:["#0BA360","#FDA232","#F96E6E"],borderWidth:5,borderColor:Zn.a.common.white,hoverBorderColor:Zn.a.common.white}],labels:["Green Cap","Orange Cap","Red Cap"]},options:me})]})})]})]}),Object(J.jsx)(re.a,{sx:{justifyContent:"center",pt:5,pl:20},children:Object(J.jsxs)("div",{className:"row ",children:[Object(J.jsx)("div",{className:"col-md-4 dots",children:Object(J.jsx)("li",{className:"dot-green",children:"Green Cap"})}),Object(J.jsx)("div",{className:"col-md-4 dots",children:Object(J.jsx)("li",{className:"dot-orange",children:"Orange Cap"})}),Object(J.jsx)("div",{className:"col-md-4 dots",children:Object(J.jsx)("li",{className:"dot-red",children:"Red Cap"})})]})})]}):T?Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:Object(J.jsx)(Z,{})}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(re.a,{sx:{height:200,position:"relative",top:25},children:[Object(J.jsxs)("h5",{className:"dropddown-selection",children:["Month :"," ",et()().set("month",Y.values.graphMonth).format("MMMM")]}),ye.every((function(e){return 0===e}))?Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:Object(J.jsx)("div",{children:"No data available"})}):Object(J.jsx)(v.Doughnut,{redraw:ye,data:{datasets:[{data:ye,backgroundColor:["#0BA360","#FDA232","#F96E6E"],borderWidth:5,borderColor:Zn.a.common.white,hoverBorderColor:Zn.a.common.white}],labels:["Green Cap","Orange Cap","Red Cap"]},options:me})]}),Object(J.jsx)(re.a,{sx:{justifyContent:"center",pt:5,pl:20},children:Object(J.jsxs)("div",{className:"row ",children:[Object(J.jsx)("div",{className:"col-md-4 dots",children:Object(J.jsx)("li",{className:"dot-green",children:"Green Cap"})}),Object(J.jsx)("div",{className:"col-md-4 dots",children:Object(J.jsx)("li",{className:"dot-orange",children:"Orange Cap"})}),Object(J.jsx)("div",{className:"col-md-4 dots",children:Object(J.jsx)("li",{className:"dot-red",children:"Red Cap"})})]})})]})," "]})}))},$c=(Object(Ca.a)(),Object(Ca.a)(),Object(Ca.a)(),Object(Ca.a)(),Object(x.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}})),function(e){var t,a,n,c=Object(m.c)((function(e){return e.auth})).userData,s=Object(u.useState)(!1),r=Object(y.a)(s,2),l=r[0],d=r[1],j=Object(u.useState)(!1),b=Object(y.a)(j,2),h=b[0],x=b[1],O=Object(u.useState)([]),p=Object(y.a)(O,2),f=(p[0],p[1]),v=Object(u.useState)([]),g=Object(y.a)(v,2),N=g[0],w=g[1],k=Object(u.useState)(),C=Object(y.a)(k,2),S=C[0],A=C[1],E=Object(u.useState)(0),D=Object(y.a)(E,2),I=D[0],q=D[1],B=Object(u.useState)(),L=Object(y.a)(B,2),R=L[0],P=L[1],M=Object(u.useState)(),W=Object(y.a)(M,2),V=W[0],Y=W[1],U=Object(u.useState)({}),z=Object(y.a)(U,2),H=z[0],Q=z[1],_=Object(u.useState)(!1),G=Object(y.a)(_,2),Z=G[0],$=G[1],ee=Object(u.useState)(!1),te=Object(y.a)(ee,2),ae=te[0],ne=(te[1],Object(u.useState)(!1)),ce=Object(y.a)(ne,2),se=ce[0],ie=ce[1],oe=Object(u.useState)([]),le=Object(y.a)(oe,2),de=(le[0],le[1]),je=Object(u.useState)(!1),ue=Object(y.a)(je,2),be=ue[0],me=ue[1],he=function(){d(!1),A()},xe=function(){ve(),x(!1)};Object(u.useEffect)((function(){c&&(console.log({userData:c}),Oe(c.companyId))}),[c]);var Oe=function(e){ie(!0),La.getAllDocumentsByCmpID({companyId:e},{params:{viewers:!0}}).then((function(e){console.log("fetchAllDocuments res",e.data.data);var t;t=e.data.data.sort((function(e,t){return et()(t.createdAt).diff(et()(e.createdAt))})),w(t),de(t),q(e.data.employee_count),ie(!1)})).catch((function(e){console.log("fetchAllDocuments err",{err:e}),F()({title:"Error",text:e.message,icon:"error",button:"Ok"}),ie(!1)}))};Object(u.useEffect)((function(){if(Object.keys(H).length)for(var e=0,t=Object.keys(H);e<t.length;e++){var a=t[e];ge(H[a])&&ye(H[a])||Q({})}}),[H]),Object(u.useEffect)((function(){var e=!0;e=R&&V&&Object.keys(H).length&&e,$(e)}),[R,V,H]);var pe=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name.trim().replace(/\s+/g,"_"),n="attachments/documents/".concat(Object(Ca.a)().replaceAll("-",""),"/").concat(a),c=T.ref(n),e.next=5,c.put(t);case 5:return e.next=7,c.getDownloadURL();case 7:return s=e.sent,e.abrupt("return",{fileName:a,filePath:n,fileLink:s,fileSize:t.size,fileType:t.type});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(!0),e.prev=1,t.attachments=[],a=Object.keys(H).map((function(e){var t=H[e];return pe(t)})),e.next=6,Promise.all(a);case 6:return t.attachments=e.sent,e.next=9,La.createDocuments(t);case 9:Oe(c.companyId),xe(),F()({title:"Success",text:"Document created successfully!",icon:"success",button:"Ok"}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("createNotice err",{err:e.t0}),F()({title:"Error",text:e.t0.message,icon:"error",button:"Ok"});case 18:return e.prev=18,ie(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,14,18,21]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){P(),Y(),Q({}),$(!1)},ge=function(e){return!(e.size/1024/1024>10)||(F()({title:e.name,text:"Sorry, Max file size allowed is 10MB",icon:"error",button:"Ok"}),!1)},ye=function(e){return!!e.type.toLowerCase().match(/(jpg|jpeg|png|pdf|xlsx|xlsm|xlsb|xltx|xltm|xls|xlt|xls|xml|xlam|xla|xlw|xlr|csv)$/)||(F()({title:e.name,text:"Please select Image, PDF and Excel files only!",icon:"error",button:"Ok"}),!1)};return Object(u.useEffect)((function(){if(ae)f(N);else{var e=N.slice(0,3);f(e)}}),[ae]),Object(J.jsxs)(J.Fragment,{children:[se?Object(J.jsx)(X,{}):null,Object(J.jsxs)(qa.a,{size:"lg",show:l,onHide:he,backdrop:"static",keyboard:"false",centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Document"}),Object(J.jsx)("label",{onClick:he,id:"feedback-btn",children:Object(J.jsx)(Ia.a,{})})]}),Object(J.jsx)(qa.a.Body,{children:S?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("div",{className:"text-center",children:Object(J.jsx)("h5",{children:null===S||void 0===S?void 0:S.title})}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-md-6",children:[" ",Object(J.jsxs)("p",{className:"text-left",children:["Date:"," ",et()(null===S||void 0===S?void 0:S.createdAt).format("DD/MM/YYYY")]})]}),Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsxs)("p",{style:{float:"right"},children:["Time: ",et()(null===S||void 0===S?void 0:S.createdAt).format("hh:mm A")]})})]}),Object(J.jsx)("p",{children:null===S||void 0===S?void 0:S.description}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)("br",{}),Object(J.jsx)("h5",{children:"Attachments:"}),Object(J.jsx)("div",{className:"d-flex flex-wrap my-1",children:null===S||void 0===S||null===(t=S.attachments)||void 0===t?void 0:t.map((function(e){return Object(J.jsx)(_a,{mode:"view",file:{value:e}},e._id)}))}),Object(J.jsx)("br",{}),Object(J.jsxs)("h5",{children:[" Completed By: ",null===S||void 0===S||null===(a=S.viewers)||void 0===a?void 0:a.length]}),Object(J.jsx)(Nt.a,{}),Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(Oa.a,{children:Object(J.jsxs)(pa.a,{children:[Object(J.jsx)(fa.a,{children:"Date"}),Object(J.jsx)(fa.a,{children:"Time"}),Object(J.jsx)(fa.a,{children:"Name"})]})}),Object(J.jsx)(ga.a,{children:null===S||void 0===S||null===(n=S.viewers)||void 0===n?void 0:n.map((function(e){return Object(J.jsxs)(pa.a,{hover:!0,children:[Object(J.jsx)(fa.a,{children:et()(e.viewedAt).format("DD/MM/YYYY")}),Object(J.jsx)(fa.a,{children:et()(e.viewedAt).format("hh:mm A")}),Object(J.jsx)(fa.a,{children:e.viewer.name})]},e._id)}))})]})]}):null})]}),Object(J.jsxs)(qa.a,{show:h,onHide:he,backdrop:"static",keyboard:"false",centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Add Document"}),Object(J.jsx)(ot.a,{variant:"primary",className:"add-document-close",onClick:xe}),Object(J.jsx)("h5",{className:"add-document-close",onClick:xe,children:Object(J.jsx)(Ia.a,{})})]}),Object(J.jsxs)(qa.a.Body,{children:[Object(J.jsx)("input",{required:!0,type:"text",value:R,onChange:function(e){return P(e.target.value)},placeholder:"Enter Title",className:"form-control"}),Object(J.jsx)("div",{className:"my-2",children:Object(J.jsx)(Ya.a.Control,{required:!0,value:V,onChange:function(e){return Y(e.target.value)},as:"textarea",placeholder:"Enter Text",style:{height:"100px"}})}),Object(J.jsx)("ol",{children:Object.keys(H).map((function(e,t){return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("li",{children:[H[e].name,Object(J.jsx)("span",{style:{color:"red",cursor:"pointer"},onClick:function(){var t=Object(K.a)({},H);delete t[e],Q(t)},children:Object(J.jsx)(Ia.a,{})})]},t)})}))}),Object(J.jsxs)(ot.a,{variant:"",className:"modal-submit-btn",children:[Object(J.jsx)("input",{id:"file-input",type:"file",color:"primary",className:"file-input-icon",multiple:!0,required:!0,onChange:function(e){console.log("fileHandler",e.target.files),Q(e.target.files)},accept:"image/*, .doc, .docx, application/pdf, application/msword, application/vnd.ms-powerpoint,.ppt, .pptx"}),Object(J.jsx)("label",{for:"file-input",className:"file response-file",children:Object(J.jsx)(Ja.a,{})})]}),Object(J.jsx)(ot.a,{type:"button",className:"modal-submit-btn",onClick:function(e){e.preventDefault();var t={};if(t.creatorId=c.companyId,t.creatorType=c.type,t.creatorName=c.name,t.companyId=c.companyId,!Z)return console.log("INSIDE IF"),void F()("All fields are mandatory",{icon:"error"});t.title=R,t.description=V,console.log("submitHandler",{data:t}),fe(t)},style:{float:"right"},color:"primary",disabled:!Z,children:"Submit"})]})]}),Object(J.jsxs)(ra.a,Object(K.a)(Object(K.a)({},e),{},{children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-8",children:Object(J.jsx)(da.a,{title:Object(J.jsx)("h2",{children:"Documents"})})}),Object(J.jsx)("div",{className:"col-md-4 ",children:Object(J.jsx)(da.a,{onClick:function(){return x(!0)},className:"hover pull-right",title:" + Add Documents"})})]}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(ha.a,{children:Object(J.jsxs)(re.a,{children:[Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(Oa.a,{children:Object(J.jsxs)(pa.a,{children:[Object(J.jsx)(fa.a,{className:"text-center",children:"Uploaded On"}),Object(J.jsx)(fa.a,{className:"text-center",children:"Title"}),Object(J.jsx)(fa.a,{className:"text-center",children:"Views"})]})}),Object(J.jsx)(ga.a,{children:N.slice(0,be?N.length:5).map((function(e,t){return Object(J.jsxs)(pa.a,{hover:!0,children:[Object(J.jsx)(fa.a,{className:"text-center",children:et()(e.createdAt).format("DD/MM/YYYY")}),Object(J.jsx)(fa.a,{onClick:function(){return t=e,d(!0),console.log("DOCUMENT>>>",t),void A(t);var t},children:Object(J.jsxs)("u",{children:[" ",e.title]})}),Object(J.jsx)(fa.a,{className:"text-center",children:Object(J.jsx)(Kn,{total:I,count:e.viewers.length})})]},e._id)}))})]}),Object(J.jsx)(re.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:N.length>5&&Object(J.jsx)(ot.a,{className:"view-btn",color:"primary",endIcon:Object(J.jsx)(Da.a,{}),size:"small",variant:"text",onClick:function(){return me((function(e){return!e}))},children:be?"View Less":"View all"})})]})})]}))]})}),es=Object(x.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),ts=function(e){var t,a,n=Object(Jn.a)(),c=Object(u.useState)([]),s=Object(y.a)(c,2),r=s[0],l=s[1],d=Object(m.c)((function(e){return e.auth})).userData,j=(Object(m.b)(),Object(u.useState)({})),h=Object(y.a)(j,2),x=h[0],O=h[1],p=Object(u.useState)("ALL"),f=Object(y.a)(p,2),g=f[0],w=f[1],k=Object(u.useState)(!1),C=Object(y.a)(k,2),S=C[0],A=C[1],E=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(null===x||void 0===x?void 0:x[t])){e.next=3;break}return e.abrupt("return");case 3:if(A(!0),"ALL"!==t){e.next=19;break}return e.next=7,La.getESGOForAllContractors({companyId:d.companyId});case 7:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=11;break}e.t0=void 0===n;case 11:if(!e.t0){e.next=15;break}e.t2=void 0,e.next=16;break;case 15:e.t2=n.data;case 16:a=e.t2,e.next=31;break;case 19:return e.next=21,La.getESGOForContractor({contractorId:t});case 21:if(e.t4=c=e.sent,e.t3=null===e.t4,e.t3){e.next=25;break}e.t3=void 0===c;case 25:if(!e.t3){e.next=29;break}e.t5=void 0,e.next=30;break;case 29:e.t5=c.data;case 30:a=e.t5;case 31:O(Object(K.a)(Object(K.a)({},x),{},Object(N.a)({},t,[a.data.environment.scored,a.data.social.scored,a.data.governance.scored,a.data.others.scored]))),e.next=37;break;case 34:e.prev=34,e.t6=e.catch(0),F()("Error","Failed to fetch ESGO data","error");case 37:return e.prev=37,A(!1),e.finish(37);case 40:case"end":return e.stop()}}),e,null,[[0,34,37,40]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.getAllContractorsByID({companyId:null===d||void 0===d?void 0:d.companyId});case 2:t=e.sent,l(t.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){return(null===d||void 0===d?void 0:d.companyId)&&D(),function(){}}),[d]),Object(u.useEffect)((function(){return(null===d||void 0===d?void 0:d.companyId)&&E(g),function(){}}),[g]);var T={animation:!1,cutoutPercentage:70,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,tooltips:{backgroundColor:n.palette.background.paper,bodyFontColor:n.palette.text.secondary,borderColor:n.palette.divider,borderWidth:1,enabled:!0,footerFontColor:n.palette.text.secondary,intersect:!0,mode:"index",titleFontColor:n.palette.text.primary}},I=es(),q=b.a.useState(""),B=Object(y.a)(q,2);B[0],B[1];return Object(J.jsx)(ra.a,Object(K.a)(Object(K.a)({},e),{},{children:Object(J.jsxs)(ia.a,{children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-9",children:Object(J.jsx)("h2",{children:"E-S-G-O Performance"})}),Object(J.jsx)("div",{className:"col-md-3",children:Object(J.jsx)("div",{className:"",children:Object(J.jsx)(nn.a,(t={variant:"outlined",className:I.formControl},Object(N.a)(t,"className","select"),Object(N.a)(t,"children",Object(J.jsxs)(En.a,{value:g,onChange:function(e){w(e.target.value)},displayEmpty:!0,className:I.selectEmpty,inputProps:{"aria-label":"Without label"},autoWidth:!0,children:[Object(J.jsx)(Dn.a,{value:"ALL",children:Object(J.jsx)("span",{children:"All Companies"})}),r.map((function(e){return Object(J.jsx)(Dn.a,{value:e.user,children:e.name})}))]})),t))})})]}),Object(J.jsx)(Nt.a,{}),Object(J.jsxs)(re.a,{sx:{height:200,position:"relative",top:20},children:[S&&Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:Object(J.jsx)(Z,{})}),x[g]&&x[g].every((function(e){return 0===e}))&&Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:"No data available"}),x[g]&&x[g].length>0&&Object(J.jsx)(v.Doughnut,{redraw:!!g,data:{datasets:[{data:null!==(a=x[g])&&void 0!==a?a:[],backgroundColor:["#9BDD9B","#F4CC69","#F99564","#5D5D5D"],borderWidth:5,borderColor:Zn.a.common.white,hoverBorderColor:Zn.a.common.white}],labels:["Environment","Social","Governance","Others"]},options:T})]}),Object(J.jsx)(re.a,{sx:{justifyContent:"center",pt:5,pl:20},children:Object(J.jsxs)("div",{className:"row ",children:[Object(J.jsx)("div",{className:"col-md-6 dots",children:Object(J.jsx)("li",{className:"dot-green",children:"Environment"})}),Object(J.jsx)("div",{className:"col-md-6 dots",children:Object(J.jsx)("li",{className:"dot-orange",children:"Social"})}),Object(J.jsx)("div",{className:"col-md-6 dots",children:Object(J.jsx)("li",{className:"dot-red",children:"Governance"})}),Object(J.jsx)("div",{className:"col-md-6 dots",children:Object(J.jsx)("li",{className:"dot-grey",children:"Others"})})]})})]})}))},as=function(){var e=Object(u.useState)(!1),t=Object(y.a)(e,2);t[0],t[1];return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Home | Oren"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsx)("div",{className:"row",children:Object(J.jsx)("div",{className:"row",children:Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:Object(J.jsx)("ul",{class:"breadcrumb",children:Object(J.jsx)("li",{children:Object(J.jsx)("a",{href:"dashboard",children:"Dashboard"})})})})})})}),Object(J.jsxs)(sa.a,{container:!0,spacing:3,children:[Object(J.jsx)(sa.a,{item:!0,lg:6,md:12,xl:9,xs:12,children:Object(J.jsx)(ra.a,{children:Object(J.jsx)(ts,{})})}),Object(J.jsx)(sa.a,{item:!0,lg:6,md:6,xl:3,xs:12,children:Object(J.jsx)(Kc,{sx:{height:"100%"}})}),Object(J.jsx)(sa.a,{item:!0,lg:6,md:6,xl:3,xs:12,children:Object(J.jsx)($c,{sx:{height:"100%"}})}),Object(J.jsx)(sa.a,{item:!0,lg:6,md:12,xl:12,xs:12,children:Object(J.jsx)(Qc,{sx:{height:"100%"}})})]})]})})]})},ns=a(731),cs=a(885),ss=a(886),rs=function(e){var t=e.assessment,a=(e.status,t.sections.reduce((function(e,t){return t.questions.every((function(e){return"ANSWERED"===e.answerStatus}))&&e.completed++,e}),{completed:0,total:t.sections.length})),n=a.total?Y(a.completed/a.total*100):0;return Object(J.jsx)("div",{class:"col-lg-3 col-12 text-center",children:Object(J.jsxs)("div",{class:"box-column",children:[Object(J.jsxs)("div",{class:"box-top "+t.status.toLowerCase(),children:[Object(J.jsx)("h5",{className:"assess-title",children:t.assessment.name}),Object(J.jsx)("br",{}),Object(J.jsxs)("h5",{className:"assess-title",children:["Score :"," ",t.sections.reduce((function(e,t){return e+t.scoredMarks}),0)," ","/"," ",t.sections.reduce((function(e,t){return e+t.totalMarks}),0)]})]}),Object(J.jsxs)("div",{class:"box-bottom",children:[Object(J.jsx)("div",{class:"box-title facebook-title",children:t.contractorName}),Object(J.jsxs)("div",{class:"box-text",children:["Last Updated:"," ",et()(t.lastAccessTime).format("DD/MM/YYYY"),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-10",children:Object(J.jsx)(An.a,{className:"category-progress-bar catbar ",value:n,variant:"determinate"})}),Object(J.jsx)("div",{className:"col-md-2",children:Object(J.jsxs)("p",{className:" catper ",children:[n,"%"]})})]}),Object(J.jsx)(s.b,{to:"/adani/Cap_AssesmentView/"+t._id,children:Object(J.jsx)(Ua.a,{className:"view-btn",color:"primary",endIcon:Object(J.jsx)(Da.a,{}),size:"small",variant:"text",children:"View"})})]})]})]})})},is="NTO",os="OTN",ls=function(e,t,a,n){var c=e;("ALL"!==a&&(c=c.filter((function(e){return e.contractorId===a}))),"ALL"!==t&&(c=c.filter((function(e){return e.status===t}))),n===is)&&(c=Object(ke.a)(c).sort((function(e,t){return et()(t.lastAccessTime).diff(et()(e.lastAccessTime))})));n===os&&(c=Object(ke.a)(c).sort((function(e,t){return et()(e.lastAccessTime).diff(et()(t.lastAccessTime))})));return c.map((function(e){return Object(J.jsx)(rs,{status:e.status,assessment:e})}))},ds=function(e){var t=Object(m.c)((function(e){return e.assessment})),a=t.assessments,n=t.responses,c=t.filter,s=t.contractors,r=t.loading,l=Object(m.c)((function(e){return e.auth})).userData,d=Object(m.b)(),j=Object(h.i)(),b=Object(u.useState)("ALL"),x=Object(y.a)(b,2),O=x[0],p=x[1],f=Object(u.useState)(is),v=Object(y.a)(f,2),g=v[0],N=v[1],w=Object(u.useState)(!1),k=Object(y.a)(w,2),C=k[0],S=k[1],A=function(){S((function(e){return!e}))};return Object(u.useEffect)((function(){var e;return l&&l.companyId&&d((e=l.companyId,function(){var t=Object(o.a)(i.a.mark((function t(a){var n,c,s,r,o,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Qe(!0)),n={companyIds:[e],include:{sections_category:!1,sections_questions_question:!1}},c={companyIds:[e],include:{assessment:!0,sections_category:!1,sections_questions_question:!1}},t.next=6,Promise.all([La.getAssessmentsByCompanyIds(n),La.getResponsesByCompanyIds(c),La.getAllContractorsByID({companyId:e})]);case 6:if(200===(s=t.sent)[0].status&&200===s[1].status){t.next=9;break}throw new Error("Error in fetching assessments!");case 9:r=s[0].data.data.sort((function(e,t){return et()(t.createdAt).diff(et()(e.createdAt))})),o=s[1].data.data.sort((function(e,t){return et()(t.lastAccessTime).diff(et()(e.lastAccessTime))})),l=s[2].data.data,r=r.filter((function(e){var t="undefined"===typeof o.find((function(t){return t.assessment._id===e._id}));return console.log(e._id,t),t})),a(_e(r)),a(He(o)),a(Ze(l)),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),F()({title:"Error",text:t.t0.message,icon:"error",button:"OK"});case 21:return t.prev=21,a(Qe(!1)),t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[0,18,21,24]])})));return function(e){return t.apply(this,arguments)}}())),function(){}}),[l]),Object(J.jsxs)(re.a,Object(K.a)(Object(K.a)({},e),{},{children:[r&&Object(J.jsx)(X,{}),Object(J.jsx)(re.a,{sx:{mt:3},children:Object(J.jsx)(ra.a,{children:Object(J.jsxs)(ia.a,{children:[Object(J.jsxs)("div",{className:"Button mt-3 d-flex w-100 justify-content-between align-items-center",children:[Object(J.jsx)("div",{children:["All","Pending","Submitted","Reassessment","Completed"].map((function(e){return Object(J.jsx)("button",{type:"button",className:"btn ".concat("btn-"+e.toLowerCase()),style:c==e.toUpperCase()?{boxShadow:"0 0 0 0.25rem rgb(13 110 253 / 25%)"}:{},onClick:function(){return t=e.toUpperCase(),void d(ze(t));var t},children:e})}))}),Object(J.jsxs)("div",{style:{marginBottom:"15px"},children:[Object(J.jsxs)(En.a,{startAdornment:Object(J.jsx)(Tn.a,{}),value:g,onChange:function(e){return N(e.target.value)},defaultValue:"",variant:"outlined",style:{marginRight:"1rem",transform:"translateY(.6rem)"},children:[Object(J.jsx)(Dn.a,{value:is,children:"Newest To Oldest"}),Object(J.jsx)(Dn.a,{value:os,children:"Oldest To Newest"})]}),Object(J.jsxs)(En.a,{value:O,onChange:function(e){return p(e.target.value)},defaultValue:"ALL",variant:"outlined",style:{marginRight:"1rem"},children:[Object(J.jsx)(Dn.a,{value:"ALL",children:"All Companies"}),0!==s.length?s.map((function(e,t){return Object(J.jsx)(Dn.a,{value:e.user,children:e.name},t)})):null]}),Object(J.jsx)(Ua.a,{style:{backgroundColor:"#223059"},onClick:A,children:"Assessments"})]})]}),Object(J.jsx)("div",{className:"category-container",children:Object(J.jsx)("div",{class:"box",children:Object(J.jsx)("div",{class:"pl-24 pr-24",children:Object(J.jsx)("div",{class:"row",children:ls(n,c,O,g)})})})})]})})}),Object(J.jsxs)(qa.a,{show:C,onHide:A,size:"lg",backdrop:"static",keyboard:"false",centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Assessments"}),Object(J.jsx)(cs.a,{fontSize:"medium",onClick:A,style:{color:"red",cursor:"pointer"}})]}),Object(J.jsx)(qa.a.Body,{children:Object(J.jsx)(re.a,{children:a.map((function(e){return n.some((function(t){return t.assessment._id===e._id}))?null:Object(J.jsx)(ns.a,{variant:"outlined",className:"mb-2",children:Object(J.jsxs)("div",{className:"d-flex w-100 px-3 py-2 justify-content-between align-items-center  ",children:[Object(J.jsx)("div",{children:e.name}),Object(J.jsx)(ne.a,{color:"primary",component:"span",onClick:function(){return j("/adani/editAssessment/"+(null===e||void 0===e?void 0:e._id))},children:Object(J.jsx)(ss.a,{})})]})})}))})})]})]}))},js=(Object(x.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Assessment | Oren"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:Object(J.jsx)("ul",{class:"breadcrumb",children:Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/Assessment",children:"Assessment"})})})})}),Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)(s.b,{to:"/adani/Add_Assessment",children:Object(J.jsx)("button",{type:"button",className:"btn btn-submitted view-btn pull-right",color:"primary",size:"small",variant:"text",ml:5,children:"Add New Assessment"})})})]}),Object(J.jsx)(ds,{}),Object(J.jsx)(re.a,{sx:{pt:3}})]})})]})}),us=a(717),bs=a(763),ms=a(275),hs=a.n(ms),xs=a(273),Os=a.n(xs),ps=a(274),fs=a.n(ps),vs=a(216),gs=a.n(vs),ys=function(e,t){return function(){var a=Object(o.a)(i.a.mark((function a(n){var c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(ye(!0)),a.next=4,La.createTpi(e);case 4:c=a.sent,F()({title:"Auditor Added Successfully",icon:"success",button:"Ok"}),t("/adani/users"),n(ye(!1)),console.log(c),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),n(ye(!1)),F()({title:"Error",text:a.t0.message,icon:"error",button:"Ok"}),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},Ns=function(e,t){return function(){var a=Object(o.a)(i.a.mark((function a(n){var c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(ye(!0)),a.next=4,La.editTpi(e);case 4:c=a.sent,F()({title:"Auditor Edited Successfully",icon:"success",button:"Ok"}),t("/adani/users"),n(ye(!1)),console.log(c),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),n(ye(!1)),F()({title:"Error",text:a.t0.message,icon:"error",button:"Ok"}),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},ws=function(e,t){return function(){var a=Object(o.a)(i.a.mark((function a(n){var c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(ye(!0)),a.next=4,La.createContractor(e);case 4:c=a.sent,F()({title:"Company Added Successfully",icon:"success",button:"Ok"}),setTimeout((function(){t("/adani/companies"),n(ye(!1))}),2e3),console.log(c),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(0),n(ye(!1)),F()({title:"Error",text:a.t0.message,icon:"error",button:"Ok"}),console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},ks=function(e,t){return function(){var a=Object(o.a)(i.a.mark((function a(n){var c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(ye(!0)),a.next=4,La.editContractor(e);case 4:c=a.sent,F()({title:"Company Edited Successfully",icon:"success",button:"Ok"}),t("/adani/companies"),n(ye(!1)),console.log(c),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),n(ye(!1)),F()({title:"Error",text:a.t0.message,icon:"error",button:"Ok"}),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},Cs=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(ye(!0)),n=[],t.next=5,La.getTpisByCmpID({companyId:e});case 5:n=t.sent,a((c=n.data.data,{type:Oe,payload:c})),a(ye(!1)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),a(ye(!1)),console.log(t.t0);case 14:case"end":return t.stop()}var c}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},Ss=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(ye(!0)),n=[],t.next=5,La.getAllContractorsByID({companyId:e});case 5:n=t.sent,console.log("ALLCONTRACTORS>>",n.data.data),a((c=n.data.data,{type:pe,payload:c})),a(ye(!1)),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),a(ye(!1)),console.log(t.t0);case 15:case"end":return t.stop()}var c}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},As=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(ye(!0)),t.next=4,La.deleteTpi({tpiId:e.tpiId});case 4:F()({title:"Auditor Deleted Successfully",icon:"success",button:"Ok"}),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),a(ye(!1)),F()({title:"Error",text:t.t0.message,icon:"error",button:"Ok"}),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Es=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("CONTRACTOR ID:::",e),a(ye(!0)),t.next=5,La.deleteContractor({contractorId:e.user});case 5:F()({title:"Company Deleted Successfully",icon:"success",button:"Ok"}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),a(ye(!1)),F()({title:"Error",text:t.t0.message,icon:"error",button:"Ok"}),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Ds=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(ye(!0)),console.log("Data",e),t.next=5,La.statusTpi(e);case 5:if(!(t.sent.data.code>=400)){t.next=8;break}throw new Error("Failed to change account status");case 8:F()({title:"Auditor ".concat(1==e.disable?"Disabled":"Enabled"," Succesfully"),icon:"success",button:"Ok"}),a(ye(!1)),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),a(ye(!1)),F()({title:"Error",text:t.t0.message,icon:"error",button:"Ok"}),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},Ts=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(ye(!0)),console.log("Data",e),t.next=5,La.statusContractori(e);case 5:if(!(t.sent.data.code>=400)){t.next=8;break}throw new Error("Failed to change account status");case 8:F()({title:"Company ".concat(1==e.disable?"Disabled":"Enabled"," Successfully"),icon:"success",button:"Ok"}),a(ye(!1)),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),a(ye(!1)),F()({title:"Error",text:t.t0.message,icon:"error",button:"Ok"}),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},Is=(a(478),[{label:"S.no",field:"sno",sort:"asc",width:150},{label:"Organization",field:"organization",width:10},{label:"Mobile",field:"mobile",width:10},{label:"E-mail",field:"email",width:10},{label:"Contact Person",field:"contactperson",width:10},{label:"Actions",field:"action",sort:"disabled",width:10}]);function qs(){var e=Object(h.i)(),t=Object(m.b)(),a=Object(m.c)((function(e){return e.auth})).userData,n=Object(m.c)((function(e){return e.auditors})).allAuditors;Object(u.useEffect)((function(){a&&(null===a||void 0===a?void 0:a.companyId)&&t(Cs(a.companyId))}),[]);return Object(J.jsx)(Ma.c,{className:"my-3",searchTop:!0,searchBottom:!1,entriesOptions:[5,10,20],entries:5,pagesAmount:6,data:{columns:Is,rows:n?n.map((function(n,c){return{sno:n.isActive?Object(J.jsx)("div",{children:c+1}):Object(J.jsx)("div",{style:{color:"#BDBDBD"},children:c+1}),organization:n.isActive?Object(J.jsx)("div",{children:n.name}):Object(J.jsx)("div",{style:{color:"#BDBDBD"},children:n.name}),mobile:n.isActive?Object(J.jsx)("div",{children:n.phoneNo}):Object(J.jsx)("div",{style:{color:"#BDBDBD"},children:n.phoneNo}),email:n.isActive?Object(J.jsx)("div",{children:n.email}):Object(J.jsx)("div",{style:{color:"#BDBDBD"},children:n.email}),contactperson:n.isActive?Object(J.jsx)("div",{children:n.contactPersonName}):Object(J.jsx)("div",{style:{color:"#BDBDBD"},children:n.contactPersonName}),action:Object(J.jsxs)(b.a.Fragment,{children:[Object(J.jsx)("button",{disabled:!n.isActive,onClick:Object(o.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(Ne(n));case 2:e("/adani/EditAuditor");case 3:case"end":return a.stop()}}),a)}))),type:"button",className:"btn btn-edit btns-users",children:Object(J.jsx)(Os.a,{className:"icons-users"})}),Object(J.jsx)("button",{disabled:!n.isActive,onClick:function(){!function(e){F()({title:"Delete",text:"Are you sure,You want to delete ".concat(e.name,"?"),icon:"warning",buttons:!0,dangerMode:!0}).then(function(){var n=Object(o.a)(i.a.mark((function n(c){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!c){n.next=3;break}return n.next=3,t(As(e));case 3:return n.next=5,t(Cs(a.companyId));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}(n)},type:"button",className:"btn btn-delete btns-users",children:Object(J.jsx)(fs.a,{className:"icons-users"})}),Object(J.jsx)("button",{disabled:!n.isActive,onClick:Object(o.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(Ne(n));case 2:e("/adani/ViewAuditor");case 3:case"end":return a.stop()}}),a)}))),type:"button",className:"btn btn-visibility btns-users",children:Object(J.jsx)(gs.a,{className:"icons-users"})}),Object(J.jsx)("button",{onClick:function(){!function(e){F()({title:"Are you sure?",text:"You want to ".concat(1==e.isActive?"disable":"enable"," this user"),icon:"warning",buttons:!0,dangerMode:!0}).then(function(){var n=Object(o.a)(i.a.mark((function n(c){var s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!c){n.next=8;break}return s={tpiId:e.tpiId,disable:1==e.isActive},n.next=4,t(Ds(s));case 4:return n.next=6,t(Cs(a.companyId));case 6:n.next=9;break;case 8:t(Cs());case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}(n)},type:"button",className:"btn btn-block btns-users",children:n.isActive?Object(J.jsx)(hs.a,{className:"icons-users"}):Object(J.jsx)(qc.a,{className:"icons-users"})})]})}})):null}})}var Fs=Object(x.a)((function(e){return Object(O.a)({scroller:{"& > .MuiTabs-scroller  > .MuiTabs-flexContainer":{}}})})),Bs=function(){var e=Object(u.useState)("auditors"),t=Object(y.a)(e,2),a=t[0],n=(t[1],Object(m.c)((function(e){return e.auditors})).loading),c=Object(h.i)(),r=Fs();return Object(J.jsxs)(J.Fragment,{children:[n&&Object(J.jsx)(X,{}),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Users | Oren"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"d-flex flex-row justify-content-center align-items-center",children:Object(J.jsxs)(us.a,{className:r.scroller,children:[Object(J.jsx)(bs.a,{className:"view-btn",style:{minWidth:0,minHeight:0,padding:".9rem 2.2rem",boxSizing:"border-box",borderTop:"1px solid #000000a6",borderLeft:"1px solid #000000a6",borderBottom:"1px solid #000000a6"},onClick:function(){return c("/adani/users")},label:"Auditors"}),Object(J.jsx)(bs.a,{style:{minWidth:0,minHeight:0,boxSizing:"border-box",padding:".9rem 2rem",borderTop:"1px solid #000000a6",borderRight:"1px solid #000000a6",borderBottom:"1px solid #000000a6"},className:"tab-title",onClick:function(){return c("/adani/companies")},label:"Company"})]})}),Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:Object(J.jsx)("ul",{class:"breadcrumb",children:Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/users",children:"Auditors"})})})})}),Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)(s.b,{to:"/adani/Add_Auditor",children:Object(J.jsx)(ot.a,{style:{float:"right"},className:"modal-submit-btn view-btn",color:"primary",size:"small",variant:"text",children:"Add Auditor"})})})]}),Object(J.jsx)(ra.a,{className:"col-sm-12",children:Object(J.jsx)(qs,{type:a})}),Object(J.jsx)(re.a,{sx:{pt:3}})]})})]})]})},Ls=function(e){var t,a,n,c,s,r,l,d=Object(m.c)((function(e){return e.auth})).userData,j=Object(u.useState)(!1),b=Object(y.a)(j,2),h=b[0],x=b[1],O=Object(u.useState)(!1),p=Object(y.a)(O,2),f=p[0],v=p[1],g=Object(u.useState)([]),N=Object(y.a)(g,2),w=N[0],k=N[1],C=Object(u.useState)(),S=Object(y.a)(C,2),A=S[0],E=S[1],D=Object(u.useState)(0),T=Object(y.a)(D,2),I=T[0],q=T[1],B=Object(u.useState)(),L=Object(y.a)(B,2),R=(L[0],L[1]),P=Object(u.useState)(),M=Object(y.a)(P,2),W=(M[0],M[1]),V=Object(u.useState)({}),Y=Object(y.a)(V,2),U=Y[0],z=Y[1],H=Object(u.useState)(!1),Q=Object(y.a)(H,2),_=(Q[0],Q[1]),G=Object(u.useState)(!1),Z=Object(y.a)(G,2),$=Z[0],ee=Z[1],te=Object(u.useState)(!1),ae=Object(y.a)(te,2),ne=ae[0],ce=ae[1],se=Object(u.useState)([]),ie=Object(y.a)(se,2),oe=ie[0],le=ie[1],de=Object(u.useState)(!1),je=Object(y.a)(de,2),ue=je[0],be=je[1],me=function(){x(!1),E()};Object(u.useEffect)((function(){d&&(console.log({userData:d}),he(d.companyId))}),[d]);var he=function(e){ee(!0),La.getLearningTopicDocs(e,"Notices").then((function(e){console.log("fetchAllNotices res",e.data.data),k(e.data.data.docs.sort((function(e,t){var a,n,c,s;return et()(new Xn.a.firestore.Timestamp(null===t||void 0===t||null===(a=t.created_time)||void 0===a?void 0:a._seconds,null===t||void 0===t||null===(n=t.created_time)||void 0===n?void 0:n._nanoseconds).toDate()).diff(et()(new Xn.a.firestore.Timestamp(null===e||void 0===e||null===(c=e.created_time)||void 0===c?void 0:c._seconds,null===e||void 0===e||null===(s=e.created_time)||void 0===s?void 0:s._nanoseconds).toDate()))}))),q(e.data.data.usersCount),ee(!1)})).catch((function(e){console.log("fetchAllNotices err",{err:e}),F()({title:"Error",text:e.message,icon:"error",button:"Ok"}),ee(!1)}))},xe=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,be(!0),e.next=4,La.getEmployeeByIds(null===A||void 0===A?void 0:A.viewers.map((function(e){return e.uid})));case 4:t=e.sent,le(t.data.data),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.prev=10,be(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,8,10,13]])})));return function(){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){if(Object.keys(U).length)for(var e=0,t=Object.keys(U);e<t.length;e++){var a=t[e];pe(U[a])&&fe(U[a])||z({})}}),[U]),Object(u.useEffect)((function(){var e;return(null!==(e=null===A||void 0===A?void 0:A.viewers)&&void 0!==e?e:[]).length>0&&xe(),function(){}}),[A]);var Oe=function(){R(),W(),z({}),_(!1)},pe=function(e){return!(e.size/1024/1024>10)||(F()({title:e.name,text:"Sorry, Max file size allowed is 10MB",icon:"error",button:"Ok"}),!1)},fe=function(e){return!!e.type.toLowerCase().match(/(jpg|jpeg|png|pdf|xlsx|xlsm|xlsb|xltx|xltm|xls|xlt|xls|xml|xlam|xla|xlw|xlr|csv)$/)||(F()({title:e.name,text:"Please select Image, PDF and Excel files only!",icon:"error",button:"Ok"}),!1)};return Object(J.jsxs)(J.Fragment,{children:[$?Object(J.jsx)(X,{}):null,Object(J.jsxs)(qa.a,{size:"lg",show:h,onHide:me,backdrop:"static",keyboard:"false",centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Notice"}),Object(J.jsx)("span",{onClick:me,style:{cursor:"pointer"},children:Object(J.jsx)(Ia.a,{color:"error"})})]}),Object(J.jsx)(qa.a.Body,{children:A?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("div",{className:"text-center",children:Object(J.jsx)("h5",{children:null===A||void 0===A?void 0:A.title})}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-md-6",children:[" ",Object(J.jsxs)("p",{className:"text-left",children:["Date:"," ",et()(new Xn.a.firestore.Timestamp(null===A||void 0===A||null===(t=A.created_time)||void 0===t?void 0:t._seconds,null===A||void 0===A||null===(a=A.created_time)||void 0===a?void 0:a._nanoseconds).toDate()).format("DD/MM/YYYY")]})]}),Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsxs)("p",{style:{float:"right"},children:["Time:"," ",et()(new Xn.a.firestore.Timestamp(null===A||void 0===A||null===(n=A.created_time)||void 0===n?void 0:n._seconds,null===A||void 0===A||null===(c=A.created_time)||void 0===c?void 0:c._nanoseconds).toDate()).format("hh:mm A")]})})]}),Object(J.jsx)("p",{children:null===A||void 0===A?void 0:A.desc}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)("br",{}),Object(J.jsx)("h5",{children:"Attachments:"}),Object(J.jsx)("div",{className:"d-flex flex-wrap my-1",children:(null===A||void 0===A?void 0:A.item_url.includes("youtube.com"))?Object(J.jsx)(_a,{mode:"youtube-embed",file:null===A||void 0===A?void 0:A.item_url}):Object(J.jsx)(_a,{mode:"view",file:{value:{fileName:null===A||void 0===A?void 0:A.filename,filePath:null===A||void 0===A?void 0:A.item_url}}})}),Object(J.jsx)("br",{}),Object(J.jsxs)("h5",{children:[" Completed By: ",null===(s=null!==(r=null===A||void 0===A?void 0:A.viewers)&&void 0!==r?r:[])||void 0===s?void 0:s.length]}),Object(J.jsx)(Nt.a,{}),ue?Object(J.jsx)("div",{className:"my-4",children:Object(J.jsx)(Ra,{})}):Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(Oa.a,{children:Object(J.jsxs)(pa.a,{children:[Object(J.jsx)(fa.a,{children:"Date"}),Object(J.jsx)(fa.a,{children:"Time"}),Object(J.jsx)(fa.a,{children:"Name"})]})}),Object(J.jsx)(ga.a,{children:null===A||void 0===A||null===(l=A.viewers)||void 0===l?void 0:l.map((function(e){var t;return Object(J.jsxs)(pa.a,{hover:!0,children:[Object(J.jsx)(fa.a,{children:et()(e.viewed_at).format("DD/MM/YYYY")}),Object(J.jsx)(fa.a,{children:et()(e.viewed_at).format("hh:mm A")}),Object(J.jsx)(fa.a,{children:null===(t=oe.find((function(t){return t.user===e.uid})))||void 0===t?void 0:t.fullName})]},e._id)}))})]})]}):null})]}),Object(J.jsx)(ec,{handleClose:function(){Oe(),v(!1)},show:f,onAddNotice:function(){return he(null===d||void 0===d?void 0:d.companyId)}}),Object(J.jsxs)(ra.a,Object(K.a)(Object(K.a)({},e),{},{children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-9",children:Object(J.jsx)(da.a,{title:"Noticeboard"})}),Object(J.jsx)("div",{className:"col-md-3 ",children:Object(J.jsx)(da.a,{onClick:function(){return v(!0)},className:"hover",title:" + Add Notice"})})]}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(ha.a,{children:Object(J.jsxs)(re.a,{children:[Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(Oa.a,{children:Object(J.jsxs)(pa.a,{children:[Object(J.jsx)(fa.a,{children:"Uploaded On"}),Object(J.jsx)(fa.a,{children:"Title"}),Object(J.jsx)(fa.a,{children:"Completed by"})]})}),Object(J.jsx)(ga.a,{children:w.slice(0,ne?w.length:5).map((function(e){var t,a,n;return Object(J.jsxs)(pa.a,{hover:!0,children:[Object(J.jsx)(fa.a,{children:et()(new Xn.a.firestore.Timestamp(null===e||void 0===e||null===(t=e.created_time)||void 0===t?void 0:t._seconds,null===e||void 0===e||null===(a=e.created_time)||void 0===a?void 0:a._nanoseconds).toDate()).format("DD/MM/YYYY")}),Object(J.jsx)(fa.a,{onClick:function(){return function(e){x(!0),E(e)}(e)},children:Object(J.jsxs)("u",{children:[" ",e.title]})}),Object(J.jsx)(fa.a,{children:Object(J.jsx)(Kn,{total:I,count:(null!==(n=e.viewers)&&void 0!==n?n:[]).length})})]})}))})]}),Object(J.jsx)(re.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:w.length>5&&Object(J.jsx)(ot.a,{className:"view-btn",color:"primary",endIcon:Object(J.jsx)(Da.a,{}),size:"small",variant:"text",onClick:function(){return ce((function(e){return!e}))},children:ne?"View Less":"View all"})})]})})]}))]})},Rs=[{label:"Sr.No.",field:"no",width:10},{label:"Employee",field:"Employee",width:50},{label:"Learning Units",field:"units",width:50},{label:"Completion",field:"Completion",width:370}];function Ps(){var e=Object(u.useState)({columns:Rs}),t=Object(y.a)(e,2),a=t[0],n=t[1],c=Object(u.useState)(!1),s=Object(y.a)(c,2),r=s[0],l=s[1],d=Object(m.c)((function(e){return e.auth})).userData;Object(u.useEffect)((function(){d&&j()}),[d]);var j=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,La.fetchLearningTable(d.companyId,"company");case 4:t=e.sent,console.log("fetchLearningTable",{response:t}),a=t.data.data.map((function(e,a){return{no:a+1,Employee:e.name,units:"".concat((e.completed_hrs/3600).toFixed(2),"hrs"),Completion:Object(J.jsx)(ac,{total:t.data.total_learning_module,count:e.completed_modules})}})),n({columns:Rs,rows:a}),console.log("fetchLearningTable",{response:t}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("createNotice err",{err:e.t0}),F()({title:"Error",text:e.t0.message,icon:"error",button:"Ok"});case 15:return e.prev=15,l(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})));return function(){return e.apply(this,arguments)}}();return r?Object(J.jsx)(X,{}):Object(J.jsx)(Ma.c,{hover:!0,entriesOptions:[10,20,30],entries:10,pagesAmount:4,data:a,searchTop:!0,searchBottom:!1})}var Ms=function(e){var t=Object(Jn.a)(),a=Object(m.c)((function(e){return e.auth})).userData,n=Object(u.useState)({}),c=Object(y.a)(n,2),s=c[0],r=c[1],l=Object(u.useState)(!1),d=Object(y.a)(l,2),j=d[0],b=d[1];Object(u.useEffect)((function(){a&&h()}),[a]);var h=function(){var e=Object(o.a)(i.a.mark((function e(){var t,n,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetchLearningGraph",{userData:a}),b(!0),t=et()().format("YYYY"),e.next=5,La.fetchLearningGraph(a.companyId,t);case 5:n=e.sent,c=Object(ke.a)(n.data.data).map((function(e){return e.month})),s=Object(ke.a)(n.data.data).map((function(e){delete e.month;var t=0;for(var a in e)t+=Number((e[a]/3600).toFixed(2));return t.toFixed(2)})),r({datasets:[{backgroundColor:"#1e2b56",data:s,label:"Learning in hours"}],labels:c}),b(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x={animation:!1,cornerRadius:0,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{barThickness:40,maxBarThickness:50,barPercentage:.5,categoryPercentage:.5,ticks:{fontColor:t.palette.text.secondary},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:t.palette.text.secondary,beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:t.palette.divider,drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:t.palette.divider}}]},tooltips:{backgroundColor:t.palette.background.paper,bodyFontColor:t.palette.text.secondary,borderColor:t.palette.divider,borderWidth:1,enabled:!0,footerFontColor:t.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:t.palette.text.primary}};return j?Object(J.jsx)(X,{}):Object(J.jsxs)(ra.a,Object(K.a)(Object(K.a)({},e),{},{children:[Object(J.jsx)(da.a,{title:"Monthly Learning"}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(ia.a,{children:Object(J.jsx)(re.a,{sx:{height:200,position:"relative"},children:Object(J.jsx)(v.Bar,{data:s,options:x})})}),Object(J.jsx)(Nt.a,{})]}))},Ws=function(){var e,t=Object(u.useState)(!1),a=Object(y.a)(t,2),n=a[0],c=a[1],s=Object(m.c)((function(e){return e.auth})).userData,r=function(){return c(!0)};return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Learning | Oren"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:Object(J.jsx)("ul",{class:"breadcrumb",children:Object(J.jsx)("li",{children:Object(J.jsx)("a",{href:"Learning",children:"Learning"})})})})}),Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)(ot.a,(e={style:{float:"right"},className:"modal-submit-btn"},Object(N.a)(e,"className","view-btn"),Object(N.a)(e,"color","primary"),Object(N.a)(e,"startIcon",Object(J.jsx)(ic.a,{})),Object(N.a)(e,"size","small"),Object(N.a)(e,"variant","text"),Object(N.a)(e,"onClick",r),Object(N.a)(e,"children","Upload Learning"),e))})]}),Object(J.jsxs)("div",{className:"row",container:!0,spacing:3,children:[Object(J.jsxs)("div",{className:"col-md-6",children:[Object(J.jsx)(sa.a,{item:!0,lg:12,md:12,xl:12,xs:12,children:Object(J.jsx)(Ms,{sx:{height:"300px"}})}),Object(J.jsx)(sa.a,{id:"grid2",className:"grid2",item:!0,lg:12,md:12,xl:12,xs:12,children:Object(J.jsx)(Ls,{})})]}),Object(J.jsxs)("div",{className:"col-md-6",id:"assesments-card",children:[Object(J.jsx)(da.a,{title:"Employee Learning"}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(sa.a,{style:{marginTop:"3%"},item:!0,lg:12,md:12,xl:12,xs:12,children:Object(J.jsx)(Ps,{})})]})]})]})}),s?Object(J.jsx)(dc,{show:n,handleClose:function(){c(!1)},handleShow:r,company_id:s.companyId}):null]})},Vs=a(510),Ys=a(511),Us=a.n(Ys),zs=a(512),Hs=a.n(zs),Qs=a(513),_s=a.n(Qs),Gs=function(e,t){console.log("test result",e);e.proficiencySeries;return{colors:["#ACDEEF","#D59AF7","#F96E6E","#9fd29a","#f5cd6a","#f79666"],chart:{type:"column"},title:{text:""},accessibility:{announceNewData:{enabled:!0}},lang:{drillUpText:"Back"},credits:{enabled:!1},legend:{align:"right",x:0,verticalAlign:"top",y:0,floating:!0,backgroundColor:Qn.a.defaultOptions.legend.backgroundColor||"white",borderColor:"#CCC",borderWidth:1,shadow:!1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},tooltip:{pointFormat:"{series.name}: {point.y}<br/>Total: {point.stackTotal}"},xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},yAxis:{min:0,title:{text:""},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:Qn.a.defaultOptions.title.style&&Qn.a.defaultOptions.title.style.color||"gray"}}},series:e}},Js=["#ACDEEF","#D59AF7","#F96E6E","#9fd29a","#f5cd6a","#f79666"],Zs={Accident:"#ACDEEF",Incident:"#D59AF7","Positive Observation":"#F96E6E","Unsafe Act":"#9fd29a","Unsafe Condition":"#f5cd6a",Nearmiss:"#f79666"},Xs=function(){var e=Object(Jn.a)(),t=Object(h.i)(),a=Object(m.b)(),n=Object(m.c)((function(e){return e.auth})).userData,c=Object(m.c)((function(e){return e.header})),s=c.startDate,r=c.endDate,l=Object(u.useState)(!1),d=Object(y.a)(l,2),j=d[0],b=d[1],x=Object(u.useState)(!1),O=Object(y.a)(x,2),p=O[0],f=O[1],g=Object(u.useState)(!1),N=Object(y.a)(g,2),w=N[0],k=N[1],C=Object(u.useState)(null),S=Object(y.a)(C,2),A=S[0],E=S[1],D=Object(u.useState)(!1),T=Object(y.a)(D,2),I=T[0],q=(T[1],Object(u.useState)([])),B=Object(y.a)(q,2),L=(B[0],B[1]),R=Object(u.useState)([]),P=Object(y.a)(R,2),M=P[0],W=P[1],V=Object(u.useState)({}),Y=Object(y.a)(V,2),U=Y[0],z=Y[1],H=Object(u.useState)([]),Q=Object(y.a)(H,2),_=Q[0],G=Q[1],$=Object(u.useState)([]),ee=Object(y.a)($,2),te=ee[0],ae=ee[1],ne=Object(u.useState)([]),ce=Object(y.a)(ne,2),se=ce[0],ie=ce[1],oe=Object(u.useState)([]),le=Object(y.a)(oe,2),de=le[0],je=le[1],ue=Object(u.useState)([]),be=Object(y.a)(ue,2),me=be[0],he=be[1],xe={animation:!1,cutoutPercentage:80,layout:{padding:0},legend:{display:!1},colors:Js,maintainAspectRatio:!1,responsive:!0,tooltips:{backgroundColor:e.palette.background.paper,bodyFontColor:e.palette.text.secondary,borderColor:e.palette.divider,borderWidth:1,enabled:!0,footerFontColor:e.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:e.palette.text.primary}};Object(u.useEffect)((function(){n&&(console.log({userData:n}),a(Re(n)),Oe(),ve())}),[s,r]);var Oe=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,c,s,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,k(!0),a=et()().format("YYYY"),c={year:a},"2"!=(null===n||void 0===n?void 0:n.type)||"all"!=t&&t){e.next=12;break}return c.company_id=null!==(r=n.cmp_id)&&void 0!==r?r:n.companyId,e.next=8,La.getObservationReportGraphCompany(c);case 8:s=e.sent,console.log("ReportGraph company",s),e.next=18;break;case 12:if("3"!=(null===n||void 0===n?void 0:n.type)&&!t){e.next=18;break}return c.managerid=null!==t&&void 0!==t?t:null===n||void 0===n?void 0:n.user,e.next=16,La.getObservationReportGraphContractor(c);case 16:s=e.sent,console.log("ReportGraph contractor",s);case 18:if(200===s.status){e.next=20;break}throw new Error("Error in fetching Report Graph!");case 20:pe(s.data[a]),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),F()({title:"Error",text:e.t0.message,icon:"error",button:"OK"}),console.log("ReportGraph ERROR :: ",e.t0.message);case 28:return e.prev=28,k(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[0,24,28,31]])})));return function(t){return e.apply(this,arguments)}}();function pe(e){return fe.apply(this,arguments)}function fe(){return(fe=Object(o.a)(i.a.mark((function e(t){var a,n,c,s,r,o,l,d,j,u,b,m,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in console.log("StackedBarGraph",et()().month()),a=[],t)if(c=t[n],0!=Object.keys(c).length)for(s in c)a.includes(s)||a.push(s);return e.next=5,a.sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}));case 5:return a=e.sent,console.log("key param",a),e.next=9,a.map((function(e){return{name:e,data:[]}}));case 9:a=e.sent,console.log("key param",a),r=0,e.t0=i.a.keys(t);case 13:if((e.t1=e.t0()).done){e.next=25;break}for(j in o=e.t1.value,console.log("tesss",t[o],r,et()().month()),l=t[o],d=[],a)b=Object(K.a)({},a[j]),(m=Object(ke.a)(b.data)).push(null!==(u=null===l||void 0===l?void 0:l[a[j].name])&&void 0!==u?u:0),b.data=m,d.push(b);if(a=[].concat(d),r!=et()().month()){e.next=22;break}return e.abrupt("break",25);case 22:r++,e.next=13;break;case 25:console.log("stacked bar graph",a),(h=Gs(a,"Safety Reporting")).colors=h.series.map((function(e){return null===Zs||void 0===Zs?void 0:Zs[e.name]})),h.series=h.series.map((function(e){return Object(K.a)(Object(K.a)({},e),{},{events:{legendItemClick:function(t){t.target.visible?he((function(t){return[].concat(Object(ke.a)(t),[e.name])})):he((function(t){return t.filter((function(t){return t!==e.name}))}))}}})})),E(Object(K.a)({},h));case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ve=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,c,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),a={start_date:s,end_date:r,company_id:null!==(t=n.cmp_id)&&void 0!==t?t:n.companyId},e.next=5,La.getObservationReportTable(a);case 5:if(c=e.sent,console.log("ReportTable",c),200===c.status){e.next=9;break}throw new Error("Error in fetching Report Graph!");case 9:o=c.data.items,"3"==(null===n||void 0===n?void 0:n.type)&&(o=o.filter((function(e){return e.managerid==n.user}))),l=ge(l=o.map((function(e){return{label:e.managername,value:e.managerid}})),"value"),console.log({managersData:l}),ie(l),G(Object(ke.a)(o).sort((function(e,t){return t.srno-e.srno}))),ae(Object(ke.a)(o)),ye(o),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),F()({title:"Error",text:e.t0.message,icon:"error",button:"OK"});case 23:return e.prev=23,f(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[0,20,23,26]])})));return function(){return e.apply(this,arguments)}}();function ge(e,t){return e.filter((function(a,n){return e.findIndex((function(e){return e[t]===a[t]}))===n}))}function ye(e){var t,a=[],n=Object(Vs.a)(e);try{var c=function(){var e=t.value;if(a.some((function(t){return t.name==e.category}))){var n=a.findIndex((function(t){return t.name==e.category})),c=Object(ke.a)(a);c[n].y=c[n].y+1,a=Object(ke.a)(c)}else a.push({name:e.category,y:1})};for(n.s();!(t=n.n()).done;)c()}catch(i){n.e(i)}finally{n.f()}console.log("uniq",a),a&&a.length&&(a=a.sort((function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())})));var s=a.map((function(e){return e.name}));L(s);var r={datasets:[{data:a.map((function(e){return e.y})),backgroundColor:a.map((function(e){return null===Zs||void 0===Zs?void 0:Zs[e.name]})),borderWidth:8,borderColor:Zn.a.common.white,hoverBorderColor:Zn.a.common.white}],labels:s};W(a),z(r)}var Ne=["Submitted","Accepted","Rejected","Marked as Duplicate"];function we(e,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(o.a)(i.a.mark((function e(t,a){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,(n=Object(K.a)({},t)).action=a,a&&(n.status=a+1,n.capture_accesstime=!t.report_action_time&&!t.accept_time),n.accessed_time=Math.floor((new Date).getTime()/1e3),n.userId=t.user,e.next=9,La.getViewObservationRCAStatus(n);case 9:if(c=e.sent,console.log("RCAStatus",c),200===c.status){e.next=15;break}throw"Error in fetching RCA Status!";case 15:ve(),F()({icon:"success",button:"Ok",title:"Success",text:"Status has been updated."});case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),F()({icon:"error",button:"Ok",title:"Error",text:"object"!=typeof e.t0?e.t0:"Unknown Error"}),console.log("ERROR Submit :: ",e.t0);case 23:return e.prev=23,b(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[1,19,23,26]])})))).apply(this,arguments)}var Se=function(e){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log("obser",e),a(Re(e)),t("/".concat(2==(null===n||void 0===n?void 0:n.type)?"adani":"atgl/Contractor","view"==c?"/OnlyViewObservation":"/ViewObservation"),{state:e})};return Object(J.jsxs)(J.Fragment,{children:[j&&Object(J.jsx)(X,{}),Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Observation | Oren"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-10",children:Object(J.jsx)("h2",{children:Object(J.jsx)("ul",{class:"breadcrumb",children:Object(J.jsx)("li",{children:Object(J.jsx)("a",{href:"Observation",children:"Observation"})})})})}),Object(J.jsx)("div",{className:"col-md-2",children:2==(null===n||void 0===n?void 0:n.type)&&Object(J.jsxs)(nn.a,{style:{width:"100%"},children:[Object(J.jsx)(cn.a,{id:"demo-simple-select-label",children:"Companies"}),Object(J.jsxs)(En.a,{value:de,onChange:function(e){var t=e.target.value;if(je(t),"all"!=t){var a=Object(ke.a)(te.filter((function(e){if(e.managerid==t)return e})));console.log({newTable:a}),G(a),ye(a)}else G(te),ye(te);Oe(t)},children:[Object(J.jsx)(Dn.a,{value:"all",children:"All"}),se.map((function(e){return Object(J.jsx)(Dn.a,{value:e.value,children:e.label})}))]})]})})]}),Object(J.jsxs)(sa.a,{container:!0,spacing:3,children:[Object(J.jsx)(sa.a,{item:!0,lg:8,md:12,xl:9,xs:12,children:Object(J.jsxs)(ra.a,{children:[Object(J.jsx)(da.a,{title:"Monthly Reporting"}),Object(J.jsx)(Nt.a,{}),w?Object(J.jsx)("div",{className:"bar-graph-spinner",children:Object(J.jsx)(Z,{})}):A?Object(J.jsx)(Gn.a,{highcharts:Qn.a,options:A}):Object(J.jsx)("h2",{children:"No Data Available"})]})}),Object(J.jsx)(sa.a,{item:!0,lg:4,md:6,xl:3,xs:12,children:Object(J.jsxs)(ra.a,{sx:{height:"100%"},children:[Object(J.jsx)(da.a,{title:"Types"}),Object(J.jsx)(Nt.a,{}),p?Object(J.jsx)("div",{className:"bar-graph-spinner",children:Object(J.jsx)(Z,{})}):Object(J.jsxs)(ia.a,{children:[Object(J.jsx)(re.a,{sx:{height:300,position:"relative"},children:Object(J.jsx)(v.Doughnut,{data:U,options:xe})}),Object(J.jsx)(re.a,{sx:{display:"flex",justifyContent:"center",pt:2},children:M.map((function(e,t){var a=e.name,n=e.y;return Object(J.jsx)(re.a,{sx:{p:1,textAlign:"center"},children:Object(J.jsxs)("div",{className:"d-flex h-100 flex-column justify-content-between",children:[Object(J.jsx)("div",{children:Object(J.jsx)(yt.a,{color:"textPrimary",variant:"body2",className:"my-1",children:a})}),Object(J.jsx)("div",{children:Object(J.jsx)(yt.a,{color:null===Zs||void 0===Zs?void 0:Zs[a],variant:"h2",children:n})})]})},t)}))})]})]})}),Object(J.jsx)(sa.a,{item:!0,lg:12,md:12,xl:12,xs:12,children:Object(J.jsxs)(ra.a,{children:[Object(J.jsx)(da.a,{title:"Observation Details"}),Object(J.jsx)(Nt.a,{}),p?Object(J.jsx)("div",{className:"bar-graph-spinner",children:Object(J.jsx)(Z,{})}):Object(J.jsx)(Ma.c,{searchTop:!0,disableRetreatAfterSorting:!0,searchBottom:!1,className:"text-center",scrollX:!1,scrollY:!1,hover:!0,sortable:!0,entriesOptions:[5,10,20],entries:5,pagesAmount:6,data:{columns:[{label:"Sr.No",field:"srNo",width:10,attributes:{"aria-controls":"DataTable","aria-label":"id"}},{label:"Activity",field:"activity",width:100},{label:"Date",field:"date",sort:"reportedBy",width:100},{label:"Time",field:"time",sort:"reportedBy",width:100},{label:"Reported By",field:"reportedBy",sort:"reportedBy",width:100},{label:"Description",field:"description",sort:"reportedBy",width:100},{label:"Status",field:"status",width:100},{label:"Action",field:"action",sort:"disabled",width:100}],rows:_?_.filter((function(e,t){return-1===me.indexOf(e.category)})).map((function(e,t){var a,n,c;return{srNo:t+1,activity:Object(J.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return Se(e,"view")},children:e.category}),date:et()(1e3*e.reportedAt._seconds).format("DD-MM-YYYY"),time:et()(1e3*e.reportedAt._seconds).format("h:mm a"),reportedBy:e.reported_by,description:null!==(a=null===e||void 0===e||null===(n=e.form_data)||void 0===n||null===(c=n.description)||void 0===c?void 0:c.value)&&void 0!==a?a:"No Description",status:Ne[e.status-1],action:Object(J.jsxs)(J.Fragment,{children:[1==(null===e||void 0===e?void 0:e.status)&&Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(ot.a,{onClick:function(){return we(e,1)},children:Object(J.jsx)(Us.a,{className:"green"})}),Object(J.jsx)(ot.a,{onClick:function(){return we(e,2)},children:Object(J.jsx)(Ia.a,{className:"red"})}),Object(J.jsx)(ot.a,{onClick:function(){return we(e,3)},children:Object(J.jsx)(zn.a,{className:"dark-blue"})})]}),2==e.status&&Object(J.jsx)(ot.a,{children:Object(J.jsx)(Hs.a,{className:"green-fill"})}),3==e.status&&Object(J.jsx)(ot.a,{children:Object(J.jsx)(Ia.a,{className:"red-fill"})}),4==e.status&&Object(J.jsx)(ot.a,{children:Object(J.jsx)(zn.a,{className:"dark-blue"})}),1!=e.status&&Object(J.jsx)(ot.a,{variant:"success",className:"rca-success",onClick:function(){return Se(e)},children:Object(J.jsxs)("div",{className:"editBtn",children:[Object(J.jsx)(_s.a,{style:{fontSize:17,marginRight:1}})," ","Edit"]})})]})}})):null}}),!p&&!I&&_.length>5&&Object(J.jsx)(re.a,{sx:{display:"flex",justifyContent:"flex-end",p:2}})]})})]})]})})]})},Ks=a(887),$s=function(e){var t=Object(h.i)(),a=Object(m.c)((function(e){return e.observation})).observation,n=Object(m.c)((function(e){return e.auth})).userData,c=a,s=Object(u.useState)(!1),r=Object(y.a)(s,2),l=r[0],d=r[1],j=Object(u.useState)(null),x=Object(y.a)(j,2),O=(x[0],x[1],Object(u.useState)(0)),p=Object(y.a)(O,2),f=p[0],v=p[1],g=Object(u.useState)(0),N=Object(y.a)(g,2),w=(N[0],N[1]),k=Object(u.useState)(!1),C=Object(y.a)(k,2),S=C[0],A=C[1],E=Object(u.useState)(),D=Object(y.a)(E,2),I=D[0],q=D[1],B=Object(u.useState)(),L=Object(y.a)(B,2),R=(L[0],L[1]),P=Object(u.useState)(!0),M=Object(y.a)(P,2),W=(M[0],M[1]),V=Object(u.useState)(!1),Y=Object(y.a)(V,2),U=(Y[0],Y[1]),z=Object(u.useState)(null),H=Object(y.a)(z,2),Q=(H[0],H[1],Object(u.useState)(null)),_=Object(y.a)(Q,2),G=_[0],Z=_[1],$=Object(u.useState)(null),ee=Object(y.a)($,2),te=(ee[0],ee[1],Object(u.useState)(null)),ae=Object(y.a)(te,2),ne=(ae[0],ae[1]),ce=Object(u.useState)(null),se=Object(y.a)(ce,2),ie=(se[0],se[1],Object(u.useState)(!1)),oe=Object(y.a)(ie,2),le=(oe[0],oe[1],Object(u.useState)(!1)),de=Object(y.a)(le,2),je=(de[0],de[1]);b.a.useEffect((function(){0==!(null===c||void 0===c?void 0:c.length)?t("/".concat(2==(null===n||void 0===n?void 0:n.type)?"adani":"atgl/Contractor","/Observation")):(console.log("RCA",c),c.form_data&&(console.log("success"),c.rootCauseAnalysis&&q(c.rootCauseAnalysis)),c.action&&"number"==typeof c.action&&(A(!0),v(c.action),w(c.report_category),R(c.status-1),q(c.rootCauseAnalysis),c.status>=3?(W(!1),je(!0)):(W(!0),je(!1)),1!==c.action&&U(!0)),c.reportImage?(console.log("reportImage",c.reportImage),xe(c.reportimagepath,c.fileType).then((function(e){Z(e)})).catch((function(e){console.log("error report img:",e)}))):Z("No Image"),c.rcaStatusImage&&(console.log("rcaFormData",c.rcaStatusImage,"rcaFormData",c.fileType),xe(c.rcaStatusImage,c.fileType).then((function(e){ne(e)})).catch((function(e){console.log("error status img:",e)}))))}),[]);function ue(){return(ue=Object(o.a)(i.a.mark((function e(a){var s,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),d(!0),e.prev=2,(s=Object(K.a)({},c)).rootCauseAnalysis=I,e.next=7,La.getViewObservationRCAStatus(s);case 7:if(r=e.sent,console.log("RCAStatus",r),200===r.status){e.next=13;break}throw"Error in fetching RCA Status!";case 13:t("/".concat(2==(null===n||void 0===n?void 0:n.type)?"adani":"atgl/Contractor","/Observation")),F()({icon:"success",button:"Ok",title:"Success",text:"Comment has been added."});case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),F()({icon:"error",button:"Ok",title:"Error",text:"object"!=typeof e.t0?e.t0:"Unknown Error"}),console.log("ERROR Submit :: ",e.t0);case 21:return e.prev=21,d(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[2,17,21,24]])})))).apply(this,arguments)}var be,me=b.a.useState(null),he=Object(y.a)(me,2),xe=(he[0],he[1],function(e,t){var a="";return a=2===t?e:e+".jpg",T.ref(a).getDownloadURL()});return Object(J.jsxs)(b.a.Fragment,{children:[l&&Object(J.jsx)(X,{}),Object(J.jsx)(re.a,{sx:{mt:3},children:Object(J.jsxs)(ia.a,{children:[Object(J.jsxs)("h3",{className:"m-28-42",children:[" Activity No. ",null===c||void 0===c?void 0:c.srno," "]}),Object(J.jsx)("hr",{}),Object(J.jsxs)(Ya.a,{className:"rca-form",onSubmit:function(e){return ue.apply(this,arguments)},children:[c.form_data?Object(J.jsx)("div",{className:"row",children:Object.values(c.form_data).map((function(e){return"Upload Photo"!=e.label&&Object(J.jsxs)("div",{className:"col-md-3 my-2",children:[Object(J.jsx)("h2",{children:Object(J.jsxs)("strong",{children:[" ","FullName"==e.label?"Full Name":e.label]})}),Object(J.jsx)("div",{children:e.value})]})}))}):null,Object(J.jsx)("hr",{}),Object(J.jsx)("br",{}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-md-4 my-2",children:[Object(J.jsx)("h2",{children:Object(J.jsx)("strong",{children:"Action Taken"})}),Object(J.jsx)(nn.a,{style:{width:"50%"},children:Object(J.jsxs)(En.a,{onChange:function(e){v(parseInt(e.target.value))},value:f,disabled:S,inputProps:{"aria-label":"Without label"},children:[Object(J.jsx)(Dn.a,{value:"0",disabled:!0,children:"Please Select"}),Object(J.jsx)(Dn.a,{value:"1",children:"Accept"}),Object(J.jsx)(Dn.a,{value:"2",children:"Reject"}),Object(J.jsx)(Dn.a,{value:"3",children:"Mark as Duplicate"})]})}),Object(J.jsx)("br",{}),c.accept_time?Object(J.jsxs)("div",{children:[Object(J.jsx)("br",{}),"At:"," ",Object(J.jsx)("strong",{children:c.accept_time&&(be=c.accept_time,be&&be._seconds?et()(1e3*be._seconds).format("MMMM Do YYYY, h:mm:ss a"):null)})]}):null]}),Object(J.jsx)("div",{className:"col-md-4 my-2",children:Object(J.jsx)(Ya.a.Control,{as:"textarea",placeholder:"Write your comment",rows:"5",onChange:function(e){q(e.target.value)},value:I,style:{width:"85%"}})}),G?"No Image"!=typeof G?Object(J.jsx)("div",{className:"col-md-4 my-2",children:Object(J.jsx)(Ks.a,{style:{maxHeight:200,maxWidth:200},src:G,rounded:!0})}):Object(J.jsx)("div",{className:"col-md-4 my-2",children:Object(J.jsx)("strong",{children:G})}):Object(J.jsx)("div",{className:"col-md-4 my-2",children:Object(J.jsx)(Pc.a,{size:"md",className:"bigger-spinner",animation:"border",variant:"primary"})})]}),Object(J.jsx)("br",{}),Object(J.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(J.jsx)(Ua.a,{variant:"dark",className:"submit-btn",type:"submit",children:"Submit"})})]})]})})]})},er=(a(168),function(e){var t=e.handleFileChanges,a=e.acceptExt,n=void 0===a?"*":a,c=e.defaultFile,s=e.handleUploadedFileDelete,r=e.disable,i=e.disableIcon,o=Object(u.useRef)(),l=Object(u.useState)(null),d=Object(y.a)(l,2),j=d[0],b=d[1];Object(u.useEffect)((function(){return t(j),o.current.value="",function(){}}),[j]);return Object(J.jsxs)("div",{children:[!j&&!c&&Object(J.jsx)(za.a,{className:"view-btn",disabled:r,onClick:function(){return o.current.click()},children:Object(J.jsxs)("div",{className:"d-flex flex-row justify-content-center align-item-center",children:[Object(J.jsx)("div",{children:Object(J.jsx)(ic.a,{})}),Object(J.jsx)("div",{children:"Upload Image"})]})}),Object(J.jsx)("input",{disabled:r,type:"file",multiple:!0,style:{display:"none",height:0},ref:o,onChange:function(e){if(e.target.files&&e.target.files.length>0){if("*"!==n){var t=n.split(",").map((function(e){return e.trim().substring(1)})),a=e.target.files[0].name.split(".");if(!t.includes(a[a.length-1].toLowerCase()))return o.current.value="",F()({title:"Error",text:"File type not supported",icon:"error",button:"OK"})}b(e.target.files[0])}},accept:n}),Object(J.jsx)("div",{style:{margin:".1rem 0 0 0",width:"100%",display:"flex",flexWrap:"wrap"},children:c?Object(J.jsx)(_a,{file:c,mode:"edit-profile",handleDelete:s,disableIcon:i}):j&&Object(J.jsx)(_a,{mode:"edit-profile",file:j,handleDelete:function(){b(null)}})})]})}),tr=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.tpiCheckPhoneNumberExists({phoneNo:t});case 2:if(!e.sent.data.data.exists){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ar=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.tpiCheckEmailExists({email:t});case 2:if(!e.sent.data.data.exists){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nr=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.tpiCheckNameExists({name:t});case 2:if(!e.sent.data.data.exists){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cr=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.tpiCheckCodeExists({code:t});case 2:if(!e.sent.data.data.exists){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sr=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.contractorCheckPhoneNumberExists({phoneNo:t});case 2:if(!e.sent.data.data.exists){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rr=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.contractorCheckEmailExists({email:t});case 2:if(!e.sent.data.data.exists){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ir=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.contractorCheckNameExists({name:t});case 2:if(!e.sent.data.data.exists){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),or=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.companyCheckPhoneNumberExists({phoneNo:t});case 2:if(!e.sent.data.data.exists){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lr=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.companyCheckEmailExists({email:t});case 2:if(!e.sent.data.data.exists){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dr=function(e){var t,a=Object(h.i)(),n=Object(u.useState)(null),c=Object(y.a)(n,2),r=c[0],l=c[1],d=Object(m.b)(),j=Object(m.c)((function(e){return e.auth})).userData,b=Object(m.c)((function(e){return e.auditors})).loading,O=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(K.a)({},t),d(he(!0)),!r){e.next=7;break}return e.next=5,W(r,j.companyId);case 5:c=e.sent,n.profileImage={fileName:c.fileName,fileLink:c.fileLink,filePath:c.filePath,fileSize:c.fileSize};case 7:return n.phoneNo="+91"+n.phoneNo,n.assoc_companies=[j.companyId],e.next=11,Promise.all([sr(n.phoneNo),tr(n.phoneNo),or(n.phoneNo)]).then((function(e){return e.some((function(e){return!0===e}))}));case 11:if(!e.sent){e.next=17;break}return F()({title:"Error",text:"Phone no already exists",icon:"error",button:"Ok"}),d(he(!1)),e.abrupt("return");case 17:return e.next=19,Promise.all([rr(n.email),ar(n.email),lr(n.email)]).then((function(e){return e.some((function(e){return!0===e}))}));case 19:if(!e.sent){e.next=25;break}return F()({title:"Error",text:"Email already exists",icon:"error",button:"Ok"}),d(he(!1)),e.abrupt("return");case 25:return e.next=27,nr(n.name);case 27:if(!e.sent){e.next=31;break}return F()({title:"Error",text:"Name already exists",icon:"error",button:"Ok"}),d(he(!1)),e.abrupt("return");case 31:d(ys(n,a)),d(he(!1));case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=Object(x.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"75%"}}}}))();return Object(J.jsxs)(J.Fragment,{children:[b&&Object(J.jsx)(X,{}),Object(J.jsx)("div",{style:{marginTop:"2%",marginLeft:"1%"},className:"row",children:Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:Object(J.jsxs)("ul",{class:"breadcrumb",children:[Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/users",children:"Users"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"",children:"Add Auditor"})})]})})})}),Object(J.jsx)(re.a,Object(K.a)(Object(K.a)({style:{marginLeft:"2%",marginRight:"2%"}},e),{},{children:Object(J.jsx)(re.a,{children:Object(J.jsx)(ia.a,{children:Object(J.jsx)("div",{className:"row",children:Object(J.jsx)(Xa.a,{initialValues:{code:null!==(t=null===j||void 0===j?void 0:j.code)&&void 0!==t?t:"",name:"",phoneNo:"",email:"",contactPersonName:""},onSubmit:function(e){return O(e)},validationSchema:Ka.e({name:Ka.g().required("Name is required").matches(/^[A-Za-z/' ]+$/,"Name is invalid"),email:Ka.g().required("Email is required").email("Please enter valid email"),phoneNo:Ka.g().required("Phone no is required").min(10,"Phone no is invalid").max(10,"Phone no is invalid"),contactPersonName:Ka.g().required("Name is required").matches(/^[A-Za-z/' ]+$/,"Name is invalid")}),children:function(e){var t,a=e.handleSubmit,n=e.handleChange,c=e.values,s=e.errors,r=e.touched,i=e.setFieldTouched;e.setFieldValue,e.setFieldError;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)("form",{className:p.root,onSubmit:a,children:Object(J.jsxs)("div",{className:"col-md-12",children:[Object(J.jsx)("h2",{children:"Profile image"}),Object(J.jsx)("div",{className:"image-btn my-4",children:Object(J.jsxs)("div",{className:"",children:[Object(J.jsx)("div",{children:Object(J.jsx)(er,{handleFileChanges:function(e){return l(e)},acceptExt:".jpg, .png"})}),Object(J.jsx)("div",{children:Object(J.jsx)("p",{children:"(Format type : .jpg , .png)"})})]})}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{id:"standard-basic",label:"Mobile Number",variant:"standard",className:"my-2 form-control",onChange:n("phoneNo"),value:c.phoneNo,onFocus:function(){return i("phoneNo")}})}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:r.phoneNo&&s.phoneNo})}),Object(J.jsx)("br",{})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{id:"standard-basic",label:"Contact Person Name",variant:"standard",className:"my-2 form-control",onChange:n("contactPersonName"),value:c.contactPersonName,onFocus:function(){return i("contactPersonName")}})}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:r.contactPersonName&&s.contactPersonName})})]})]}),Object(J.jsx)("div",{className:"col-md-1"}),Object(J.jsxs)("div",{className:"col-md-6",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{id:"standard-basic",label:"Auditor Name",variant:"standard",className:"my-2 form-control",onChange:n("name"),value:c.name,onFocus:function(){return i("name")}})}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:r.name&&s.name})}),Object(J.jsx)("br",{})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{id:"standard-basic",label:"E-mail ID",variant:"standard",className:"my-2 form-control",onChange:n("email"),value:c.email,onFocus:function(){return i("email")}})}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:r.email&&s.email})}),Object(J.jsx)("br",{})]})]})]}),Object(J.jsx)("div",{className:"addbutton my-2",children:Object(J.jsx)(Ua.a,(t={className:"modal-submit-btn"},Object(N.a)(t,"className","view-btn"),Object(N.a)(t,"color","primary"),Object(N.a)(t,"size","small"),Object(N.a)(t,"onClick",a),Object(N.a)(t,"children","Add"),t))})]})})})}})})})})}))]})},jr=function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Users | Oren"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsx)(ra.a,{className:"col-sm-12",children:Object(J.jsx)(dr,{})}),Object(J.jsx)(re.a,{sx:{pt:3}})]})})]})},ur=a(764),br=a(519),mr=a(765),hr=a(893),xr=a(889),Or=a(888),pr=(a(479),a(514)),fr=Object(x.a)((function(e){return{root:{backgroundColor:"#1E2B56 !important",textTransform:"none","&:hover":{backgroundColor:"#1E2B56 !important"}}}})),vr=function(e){var t=e.onImportComplete,a=fr(),n=Object(u.useState)(!1),c=Object(y.a)(n,2),s=c[0],r=c[1],l=Object(u.useState)([]),d=Object(y.a)(l,2),j=d[0],b=d[1],h=Object(u.useState)(!1),x=Object(y.a)(h,2),O=x[0],p=x[1],f=Object(u.useState)(!1),v=Object(y.a)(f,2),g=v[0],N=v[1],w=Object(u.useRef)(),k=Object(m.c)((function(e){return e.auth})).userData.companyId,C=Object(m.c)((function(e){return e.assessment})).questions,S=function(){var e=Object(o.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N(!0),p(!1),console.log(C),a=j.filter((function(e){return 0!==e.data.length&&!!e.data[0]&&!C.some((function(t){return t.questText===e.data[0]}))})).map((function(e){return{companyId:k,questText:e.data[0]}})),console.log(a),e.next=8,La.createBulkQuestions({questionsData:a});case 8:return e.next=10,t();case 10:p(!0),b([]),F()("Success","Questions imported successfully","success"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),F()("Error",e.t0.message,"error");case 18:return e.prev=18,N(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})));return function(){return e.apply(this,arguments)}}();return Object(J.jsxs)("div",{children:[g&&Object(J.jsx)(X,{}),Object(J.jsx)("div",{children:Object(J.jsx)(pr.a,{onDrop:function(e){b(e),r(!0)},onError:function(e,t,a,n){F()("Error",e.message,"error")},addRemoveButton:!0,onRemoveFile:function(e){p(!1),r(!1)},ref:w,isReset:O,children:Object(J.jsx)("span",{className:"d-flex w-100 justify-content-center align-items-center",style:{minHeight:"300px"},children:"Drop CSV file here or click to upload."})})}),Object(J.jsx)("div",{className:"d-flex w-100 justify-content-center align-items-center py-4",children:s&&Object(J.jsx)(ot.a,{variant:"contained",classes:a,onClick:S,children:"Submit"})})]})},gr=function(e){var t,a,n,c,s,r=Object(h.i)(),l=Object(m.b)(),d=Object(m.c)((function(e){return e.assessment})),j=d.categories,O=d.questions,p=Object(m.c)((function(e){return e.auth})).userData,f=Object(m.c)((function(e){return e.auditors})).allContrators;Object(u.useEffect)((function(){p&&(null===p||void 0===p?void 0:p.companyId)&&(l(Ss(p.companyId)),l(qn(p.companyId)),l(Fn(p.companyId)))}),[]);var v=Object(x.a)((function(e){return{root:{whiteSpace:"unset !important",wordBreak:"break-word"},social:{"&$socialChecked":{color:"#F5CD6A !important","& + $socialBar":{backgroundColor:"#F5CD6A !important"}}},socialTrack:{},socialBar:{},socialChecked:{"& + $socialTrack":{backgroundColor:"#F5CD6A !important"}},governance:{"&$governanceChecked":{color:"#EC9466 !important","& + $governanceBar":{backgroundColor:"#EC9466 !important"}}},governanceTrack:{},governanceBar:{},governanceChecked:{"& + $governanceTrack":{backgroundColor:"#EC9466 !important"}}}})),g=Object(x.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25%"}},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300},formControl:{margin:e.spacing(1),minWidth:500},selectEmpty:{marginTop:e.spacing(2)}}}))(),w=v(),k=b.a.useState(""),C=Object(y.a)(k,2),S=(C[0],C[1],Object(u.useState)(0)),A=Object(y.a)(S,2),E=A[0],D=A[1],T=Object(u.useState)(!1),I=Object(y.a)(T,2),q=I[0],B=I[1],L=Object(u.useState)(!1),R=Object(y.a)(L,2),P=R[0],M=R[1],W=function(){return M(!1)},V=Object(u.useState)(!1),Y=Object(y.a)(V,2),U=Y[0],z=Y[1],H=function(){Ge.resetForm(),z(!1)},Q=Object(u.useState)(!1),_=Object(y.a)(Q,2),G=_[0],Z=_[1],$=function(){return Z(!1)},ee=b.a.useState({environment:!1,social:!1,governance:!1,others:!1}),te=Object(y.a)(ee,2),ae=te[0],ne=(te[1],Object(u.useState)(0)),ce=Object(y.a)(ne,2),se=ce[0],le=ce[1],de=Object(u.useState)(""),je=Object(y.a)(de,2),ue=(je[0],je[1]),be=Object(u.useState)(!1),me=Object(y.a)(be,2),he=me[0],xe=me[1],Oe=Object(u.useState)(null),pe=Object(y.a)(Oe,2),fe=pe[0],ve=pe[1],ge=Object(u.useState)(!1),ye=Object(y.a)(ge,2),Ne=ye[0],we=ye[1],ke=Object(u.useState)(null),Ce=Object(y.a)(ke,2),Se=Ce[0],Ae=Ce[1],Ee=Object(u.useState)("ALL"),De=Object(y.a)(Ee,2),Te=(De[0],De[1],Object(u.useState)([])),Ie=Object(y.a)(Te,2),qe=(Ie[0],Ie[1]),Fe=Object(u.useState)(!1),Be=Object(y.a)(Fe,2),Le=(Be[0],Be[1],Object(u.useState)("Select Exisiting Qustion")),Re=Object(y.a)(Le,2),Pe=Re[0],Me=Re[1],We=function(e){var t;return null===(t=O.find((function(t){return t._id==e})))||void 0===t?void 0:t.questText},Ve=function(){var e=Object(o.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),console.log("useFormik onSubmit",{values:t,helpers:a}),(n=Object(K.a)({},t)).status="NEW",n.creator={id:p.companyId,userType:p.type,name:p.name},n.companyId=p.companyId,n.companyName=p.name,console.log("\ud83d\ude80 ~ file: add_assessment.js ~ line 78 ~ onSubmitForm ~ val",n),n.contractors=n.contractors.filter((function(e){return!!e})),n.sections=n.sections.map((function(e){return e.questions=e.questions.filter((function(e){return!!(null===e||void 0===e?void 0:e.question)})),e})),e.next=12,l(In(n));case 12:$(),B(!1),r("/adani/Assessment");case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(o.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\ud83d\ude80 ~ file: add_assessment.js ~ line 78 ~ onSubmitQuestionForm ~ val",t),e.prev=1,B(!0),e.next=5,La.createQuestion({companyId:p.companyId,questText:t.question});case 5:return F()({title:"Question Added Successfully",icon:"success",button:"Ok"}),a.resetForm(),e.next=9,l(Fn(p.companyId));case 9:B(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),B(!1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(o.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,B(!0),ue(t.category),j.find((function(e){return e.name===t.category}))){e.next=11;break}return e.next=6,La.createAssessCategory({companyId:p.companyId,name:t.category});case 6:n=e.sent,Qe.setFieldValue("sections.".concat(E,".category"),n.data.data._id),F()({title:"Category Added Successfully",icon:"success",button:"Ok"}),e.next=12;break;case 11:F()({title:"Category already in available categories!",icon:"error",button:"Ok"});case 12:a.resetForm(),l(qn(p.companyId)),B(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),B(!1),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,a){return e.apply(this,arguments)}}(),ze=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B(!0),e.next=4,La.editAssessCategory({categoryId:fe._id,updateData:{name:t.category}});case 4:return e.sent,xe(!1),ve(null),e.next=9,l(qn(p.companyId));case 9:F()("Category Edited successfully","","success"),B(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),B(!1),F()({title:"Error",text:e.t0.message,icon:"error",button:"Ok"}),l(B(!1));case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B(!0),e.next=4,La.editQuestion({questionId:Se._id,updateData:{questText:t.question}});case 4:return e.sent,we(!1),Ae(null),e.next=9,l(Fn(p.companyId));case 9:B(!1),F()("Edited successfully",{icon:"success"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),B(!1),F()({title:"Error",text:e.t0.message,icon:"error",button:"Ok"});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),Qe=Object(Xa.b)({initialValues:{name:"",dueDate:"",contractors:[],sections:[{category:"",questions:[],totalMarks:0,factors:{environment:!1,social:!1,governance:!1,others:!1}}]},validationSchema:Ka.e({name:Ka.g().min(3).matches(/^[a-zA-Z0-9 ,.-?"':;]*$/,"Special characters not allowed!").required("Name is required"),dueDate:Ka.g().required("Date is required"),contractors:Ka.a().test({message:"Please select minimum 1 company",test:function(e){return e.filter((function(e){return!!e})).length>0}}).required("Contractor is required"),sections:Ka.a().of(Ka.e().shape({category:Ka.g().required("Category is required"),questions:Ka.a().compact((function(e){return null==e})).required("Minimum one question to be selected"),totalMarks:Ka.d("Marks must be number").required("Marks is required").min(1,"Marks is required")}).required())}),validateOnChange:!0,onSubmit:Ve}),_e=Object(Xa.b)({initialValues:{question:""},onSubmit:Ye,validationSchema:Ka.e({question:Ka.g().min(2,"Question must be at least 2 characters").trim("Question is required").test("exists","Question already exists",(function(e){return!O.find((function(t){return t.questText===e}))})).required("Question is required")})}),Ge=Object(Xa.b)({initialValues:{sectionQues:null===(t=(null!==(a=Qe.values.sections)&&void 0!==a?a:[{questions:[]}])[E])||void 0===t?void 0:t.questions},enableReinitialize:!0,onSubmit:function(e,t){console.log("VALUES QUE",e),Qe.setFieldValue("sections.".concat(E,".questions"),e.sectionQues),t.resetForm(),H()}}),Je=Object(Xa.b)({initialValues:{category:""},onSubmit:Ue,validationSchema:Ka.e({category:Ka.g().matches(/^[a-zA-Z0-9 ]*$/,"Special characters not allowed !").min(3,"Category must be at least 3 characters").trim("Category is required").required("Category is required")})}),Ze=Object(Xa.b)({initialValues:{category:null===fe||void 0===fe?void 0:fe.name},enableReinitialize:!0,onSubmit:ze,validationSchema:Ka.e({category:Ka.g().min(3).matches(/^[a-zA-Z0-9 ]*$/,"Special characters not allowed!").required("Category is required")})}),Xe=Object(Xa.b)({initialValues:{question:null===Se||void 0===Se?void 0:Se.questText},enableReinitialize:!0,onSubmit:He,validationSchema:Ka.e({question:Ka.g().min(3,"Question must be at least 3 characters").required("Question is required")})}),Ke=(Object(Xa.b)({initialValues:{selectedQues:[{question:"",questText:"",questType:{yesNo:!0,text:!1,attachment:!0}}]},onSubmit:function(e){B(!0),console.log("VALUES>>>",e.selectedQues);var t;t=e.selectedQues.filter((function(e){return null===e||void 0===e?void 0:e.question})),qe(t),H(),console.log("TEMP>>>",t),B(!1)}}),function(e,t,a,n){return e.hasOwnProperty("sections")&&t.hasOwnProperty("sections")?"undefined"!=typeof(null===e||void 0===e?void 0:e.sections[a])&&"undefined"!=typeof(null===t||void 0===t?void 0:t.sections[a])?null===t||void 0===t?void 0:t.sections[a][n]:void 0:""});return Object(J.jsx)(re.a,Object(K.a)(Object(K.a)({},e),{},{children:Object(J.jsxs)(re.a,{sx:{mt:3},children:[q&&Object(J.jsx)(X,{}),Object(J.jsx)(ia.a,{children:Object(J.jsxs)("form",{onSubmit:Qe.handleSubmit,children:[Object(J.jsx)("div",{children:Object(J.jsx)("h2",{children:"Add Assessment"})}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-md-4 my-2",children:[Object(J.jsx)(ie.a,{id:"standard-basic",label:"Name of Assessment",variant:"standard",className:g.textField,onChange:Qe.handleChange("name"),value:Qe.values.name,onFocus:function(){return Qe.setFieldTouched("name")},InputLabelProps:{shrink:!0}}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:Qe.touched.name&&Qe.errors.name})})]}),Object(J.jsxs)("div",{className:"col-md-6 my-2",children:[Object(J.jsx)(ie.a,{id:"standard-basic",label:"Due Date",variant:"standard",type:"date",inputProps:{min:et()().format("YYYY-MM-DD").toString()},className:g.textField,onChange:Qe.handleChange("dueDate"),value:Qe.values.dueDate,onFocus:function(){return Qe.setFieldTouched("dueDate")},InputLabelProps:{shrink:!0}}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:Qe.touched.dueDate&&Qe.errors.dueDate})})]})]}),Object(J.jsx)("hr",{}),Qe.values.sections.map((function(e,t){var a,n,c,s,r,d;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{className:"my-4",children:[Object(J.jsxs)("div",{className:" row",children:[Object(J.jsx)("div",{className:"col-md-3 my-3",children:Object(J.jsx)(nn.a,(n={variant:"outlined",className:g.formControl+"col-md-3"},Object(N.a)(n,"className","select"),Object(N.a)(n,"children",Object(J.jsxs)(En.a,{value:null===(a=Qe.values.sections[t])||void 0===a?void 0:a.category,onChange:Qe.handleChange("sections.".concat(t,".category")),displayEmpty:!0,className:g.selectEmpty+g.formControl,inputProps:{"aria-label":"Without label"},children:[Object(J.jsx)(Dn.a,{value:"",children:"Select Category"}),0!=j.length?j.map((function(e,t){return Object(J.jsx)(Dn.a,{style:{maxWidth:"400px"},classes:{root:w.root},value:e._id,children:e.name},t)})):null]})),n))}),Object(J.jsx)("div",{className:"col-md-2",children:Object(J.jsx)(Ua.a,{variant:"",className:"view-btn add-category-button",onClick:function(){D(t),M(!0)},children:"Add Category"})}),Object(J.jsx)("div",{className:"col-md-7",children:Object(J.jsx)("div",{className:"d-flex w-100 justify-content-end",children:0!==t?Object(J.jsx)(Ua.a,{variant:"danger",onClick:function(){return Qe.setFieldValue("sections",Qe.values.sections.filter((function(e,a){return a!==t})))},children:"Remove Section"}):null})})]}),Object(J.jsx)("div",{className:"assessment-add-categroy",children:Object(J.jsxs)(qa.a,{size:"lg",show:P,onHide:W,backdrop:"static",keyboard:!1,centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Add Category"}),Object(J.jsx)(Ia.a,{fontSize:"medium",onClick:W,style:{color:"red",cursor:"pointer"}})]}),Object(J.jsx)(qa.a.Body,{className:"add-category",children:Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsx)("h6",{children:"Add Category"}),Object(J.jsx)(Ya.a,{onSubmit:Je.handleSubmit,children:Object(J.jsxs)(Ya.a.Group,{className:"sm-3",controlId:"text",style:{marginTop:"18px"},children:[Object(J.jsx)(Ya.a.Control,{className:"form-control",type:"text",placeholder:"Enter New Category Name",onChange:Je.handleChange("category"),value:Je.values.category,style:{paddingTop:"10px",paddingBottom:"10px"}}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:Je.touched.category&&Je.errors.category}),Object(J.jsx)("br",{})]})]})}),Object(J.jsx)("button",{onClick:Je.handleSubmit,type:"button",disabled:Je.isSubmitting,className:"btn view-btn add-category-btn pull-left",children:"Add"})]}),Object(J.jsxs)("div",{className:"col-md-7",children:[Object(J.jsx)("h6",{children:"Available Categories"}),Object(J.jsx)("div",{className:"add-category-card",style:{textAlign:"initial",overflowY:"scroll",height:"12rem"},children:Object(J.jsx)(hr.a,{variant:"flush",children:0!=j.length?j.map((function(e,t){return Object(J.jsx)(hr.a.Item,{children:Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col col-lg-8",children:e.name}),Object(J.jsx)("div",{className:"col col-lg-4",children:Object(J.jsx)("button",{onClick:function(){ve(e),xe(!0)},type:"button",className:"btn btn-delete pull-right",children:"Edit"})})]})},t)})):null})})]})]})})]})})]}),Object(J.jsx)("div",{className:"my-3",children:Object(J.jsxs)(ur.a,{row:!0,children:[Object(J.jsx)(wn.a,{control:Object(J.jsx)(mr.a,{checked:ae.checkedA,onChange:Qe.handleChange("sections.".concat(t,".factors.environment")),value:Qe.values.sections["".concat(t,".factors.environment")],name:"checkedA",color:"success"}),label:"Environment",labelPlacement:"start"}),Object(J.jsx)(wn.a,{control:Object(J.jsx)(mr.a,{checked:ae.checkedB,onChange:Qe.handleChange("sections.".concat(t,".factors.social")),value:Qe.values.sections["".concat(t,".factors.social")],name:"checkedB",classes:{switchBase:w.social,checked:w.socialChecked,bar:w.socialBar,track:w.socialTrack}}),label:"Social",labelPlacement:"start"}),Object(J.jsx)(wn.a,{control:Object(J.jsx)(mr.a,{checked:ae.checkedC,onChange:Qe.handleChange("sections.".concat(t,".factors.governance")),value:Qe.values.sections["".concat(t,".factors.governance")],name:"checkedC",className:"governance-switch",classes:{switchBase:w.governance,checked:w.governanceChecked,bar:w.governanceBar,track:w.governanceTrack}}),label:"Governance",labelPlacement:"start"}),Object(J.jsx)(wn.a,{control:Object(J.jsx)(mr.a,{checked:ae.checkedD,onChange:Qe.handleChange("sections.".concat(t,".factors.others")),value:Qe.values.sections["".concat(t,".factors.others")],name:"checkedD",className:"switch-other"}),label:"Others",labelPlacement:"start"})]})}),Object(J.jsxs)("div",{className:"row marks-row my-3",children:[Object(J.jsx)("div",{className:"col-md-1",children:Object(J.jsx)("h3",{children:"Enter Marks"})}),Object(J.jsx)("div",{className:"col-md-1",children:Object(J.jsx)(Ya.a,{children:Object(J.jsx)(Ya.a.Group,{className:"sm-3",controlId:"text",children:Object(J.jsxs)(nn.a,{children:[Object(J.jsx)(br.a,{required:!0,type:"number",className:"form-control my-1",onChange:function(e){console.log(e.target.value),Qe.setFieldValue("sections.".concat(t,".totalMarks"),e.target.value)},value:Qe.values.sections["".concat(t,".totalMarks")],onFocus:function(){return Qe.setFieldTouched("sections.".concat(t,".totalMarks"))},placeholder:"Enter Marks",style:{width:"8rem",height:30}}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:Ke(Qe.touched,Qe.errors,t,"totalMarks")})})]})})})})]}),Object(J.jsxs)("div",{className:"row question-row my-3",children:[Object(J.jsx)("div",{className:"col-md-1",children:Object(J.jsx)("h3",{children:"Question"})}),Object(J.jsxs)("div",{className:"col-md-2 mx-2",children:[Object(J.jsx)(Ua.a,{variant:"",className:"chat-btn",onClick:function(){le(t),D(t),z(!0)},children:"Add Question"}),Object(J.jsxs)(qa.a,{show:U,onHide:H,size:"xl",backdrop:"static",keyboard:"false",centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Add Question"}),Object(J.jsx)(Ia.a,{fontSize:"medium",onClick:function(){"Select Exisiting Qustion"==Pe?H():Me("Select Exisiting Qustion")},style:{color:"red",cursor:"pointer"}})]}),Object(J.jsx)(qa.a.Body,{children:Object(J.jsxs)(xr.a,{defaultActiveKey:"Select Exisiting Qustion",activeKey:Pe,id:"uncontrolled-tab-example",className:"addbutton mb-3",variant:"pills",centered:!0,onSelect:function(e){return Me(e)},children:[Object(J.jsx)(Or.a,{eventKey:"Select Exisiting Qustion",title:"Select Existing Question",children:Object(J.jsxs)("div",{className:"add-category-card",style:{width:"70rem",textAlign:"initial",overflowY:"scroll",overflowX:"hidden",height:"65vh"},children:[Object(J.jsx)(Ma.c,{fixed:!0,searchTop:!0,disableRetreatAfterSorting:!0,searchBottom:!1,className:"text-center",scrollX:!1,scrollY:!1,sortRows:[],hover:!0,sortable:!0,entriesOptions:[5,10,20],entries:5,pagesAmount:6,data:{columns:[{label:"Sr.No",field:"ref",width:10,attributes:{"aria-controls":"DataTable","aria-label":"id"}},{label:"Questions",field:"Questions",width:60},{label:"Actions",field:"Actions",sort:"disabled",width:30}],rows:0!=O.length?O.map((function(e){var t=Qe.values.sections.filter((function(e,t){return t!==se})).some((function(t){return t.questions.some((function(t){return(null===t||void 0===t?void 0:t.question)===e._id}))}));return Object(K.a)(Object(K.a)({},e),{},{isUsed:t})})).map((function(e,a){var n,c,s=(null!==(n=Ge.values.sectionQues)&&void 0!==n?n:[]).length>0?Ge.values.sectionQues[a]:{};return{ref:Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-self-center",style:{marginTop:"50%",transform:"translateY(-50%)"},children:a+1}),Questions:Object(J.jsx)("span",{searchvalue:e.questText,style:{marginTop:"2.5%",minWidth:"546.32px",maxWidth:"546.32px",display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center"},children:e.questText}),Actions:Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(ur.a,{style:{minWidth:"503.32px",maxWidth:"503.32px",paddingLeft:"15%"},row:!0,children:Object(J.jsxs)("div",{className:"d-flex flex-row justify-content-center align-items-center",children:[Object(J.jsx)("div",{children:Object(J.jsx)(wn.a,{control:Object(J.jsx)(mr.a,{disabled:e.isUsed,checked:!!(null===s||void 0===s?void 0:s.question),onChange:function(n){console.log("INDEX>>",t),n.target.checked&&e._id?Ge.setFieldValue("sectionQues.".concat(a),{question:e._id,questType:{yesNo:!0,text:!1,attachment:!0}}):e._id&&Ge.setFieldValue("sectionQues.".concat(a),null)},color:"success"}),label:"Select",labelPlacement:"start"})}),Object(J.jsx)("div",{children:Object(J.jsx)(wn.a,{control:Object(J.jsx)(mr.a,{checked:!!(null===s||void 0===s||null===(c=s.questType)||void 0===c?void 0:c.text),disabled:e.isUsed,onChange:function(t){s&&(t.target.checked&&e._id?Ge.setFieldValue("sectionQues.".concat(a),{question:e._id,questType:Object(K.a)(Object(K.a)({},null===s||void 0===s?void 0:s.questType),{},{text:!0})}):e._id&&Ge.setFieldValue("sectionQues.".concat(a),{question:e._id,questType:Object(K.a)(Object(K.a)({},null===s||void 0===s?void 0:s.questType),{},{text:!1})}))},className:"governance-switch"}),label:"Text",labelPlacement:"start"})}),Object(J.jsx)("div",{children:Object(J.jsx)("button",{onClick:function(){Ae(e),we(!0)},type:"button",className:"btn btn-delete pull-right",children:"Edit"})})]})})})}})):[]}}),Object(J.jsx)("div",{className:"addbutton my-2",children:Object(J.jsx)("button",{onClick:function(){Ge.handleSubmit()},type:"button",className:"btn view-btn",children:"Submit"})})]})}),Object(J.jsx)(Or.a,{eventKey:"Create New Question",title:"Create New Question",children:Object(J.jsxs)(Ya.a,{onSubmit:_e.handleSubmit,children:[Object(J.jsx)(Ya.a.Group,{className:"sm-3",controlId:"text",children:Object(J.jsx)(nn.a,{className:"add-category-card",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50px"},children:Object(J.jsx)(br.a,{className:"form-control my-1",type:"text",placeholder:"Enter Text",onChange:_e.handleChange("question"),onFocus:_e.handleBlur("question"),value:null===(c=_e.values)||void 0===c?void 0:c.question,style:{width:"47rem",marginRight:"20px"},endAdornment:Object(J.jsx)(oe.a,{position:"end"})})})}),Object(J.jsxs)("div",{style:{marginLeft:"15%"},children:[Object(J.jsx)("small",{className:"text-danger form-text",children:_e.touched.question&&_e.errors.question}),Object(J.jsx)("br",{})]}),Object(J.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50px"},className:"addbutton my-2",children:Object(J.jsx)("button",(s={onClick:_e.handleSubmit,disabled:_e.isSubmitting,type:"button"},Object(N.a)(s,"disabled",""==_e.values.question),Object(N.a)(s,"className","btn view-btn"),Object(N.a)(s,"children","Add"),s))})]})}),Object(J.jsx)(Or.a,{eventKey:"Import Questions",title:"Import Questions",children:Object(J.jsx)(vr,{onImportComplete:Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(Fn(p.companyId));case 2:case"end":return e.stop()}}),e)})))})})]})})]})]})]}),Object(J.jsxs)("div",{className:"my-4 add-category-card",children:[Object(J.jsx)(Ma.h,{className:"table-striped view-questions",children:0!=(null===(r=Qe.values.sections[t])||void 0===r?void 0:r.questions.filter((function(e){return!!e})).length)?null===(d=Qe.values.sections[t])||void 0===d?void 0:d.questions.filter((function(e){return!!e})).map((function(e,t){return Object(J.jsx)("tr",{style:{backgroundColor:"white",marginBottom:"5%"},children:Object(J.jsxs)("td",{style:{float:"left"},children:["".concat(t+1,") "),We(e.question)]})},t)})):Object(J.jsx)(Ma.i,{children:Object(J.jsx)("tr",{children:Object(J.jsx)("td",{children:"No Questions"})})})}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:Ke(Qe.touched,Qe.errors,t,"questions")})})]}),Object(J.jsx)(Nt.a,{style:{marginBottom:"15px"},variant:"middle"})]})})})),Object(J.jsx)("div",{children:Object(J.jsx)(Ua.a,{onClick:function(){return Qe.setFieldValue("sections.".concat(Qe.values.sections.length),{category:"",questions:[],totalMarks:0,factors:{environment:!1,social:!1,governance:!1,others:!1}})},type:"button",className:"btn chat-btn",children:"Add Another Category"})}),Object(J.jsxs)("div",{className:"addbutton",children:[Object(J.jsx)(Ua.a,{variant:"",className:"chat-btn",onClick:function(){console.log("Formik errors",Object.values(Qe.errors)),Z(!0)},disabled:0===(null!==(n=Object.values(Qe.touched))&&void 0!==n?n:[]).length||(null!==(c=Object.values(Qe.errors))&&void 0!==c?c:[]).length>0&&!(1===(null!==(s=Object.keys(Qe.errors))&&void 0!==s?s:[]).length&&"contractors"===Object.keys(Qe.errors)[0])||!Qe.values.sections.every((function(e){return!!(e.factors.environment||e.factors.social||e.factors.governance||e.factors.others)}))||Qe.isSubmitting,children:"Share"}),Object(J.jsxs)(qa.a,{size:"lg",show:G,onHide:$,backdrop:"static",keyboard:!1,centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Select Companies"}),Object(J.jsx)(Ia.a,{fontSize:"medium",onClick:$,style:{color:"red",cursor:"pointer"}})]}),Object(J.jsxs)(qa.a.Body,{children:[0!=f.length?f.map((function(e,t){return Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-sm-4",children:Object(J.jsx)("h5",{className:"company-title",children:e.name})}),Object(J.jsx)("div",{className:"col-sm-4",children:Object(J.jsx)("h5",{className:"company-title",children:e.cmp_name})}),Object(J.jsx)("div",{className:"col-sm-4",children:Object(J.jsx)(Ya.a.Group,{className:" pull-right",controlId:"formBasicCheckbox",children:Object(J.jsx)(Ya.a.Check,{checked:!!Qe.values.contractors[t],onChange:function(a){a.target.checked?Qe.setFieldValue("contractors.".concat(t),e.user):Qe.setFieldValue("contractors.".concat(t),"")},type:"checkbox"})})}),Object(J.jsx)("hr",{})]})})):null,Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:Qe.touched.contractors&&Qe.errors.contractors}),Object(J.jsx)("br",{})]}),Object(J.jsx)("div",{className:"addbutton",children:Object(J.jsx)("button",{onClick:Qe.handleSubmit,disabled:Qe.isSubmitting,type:"button",className:"btn view-btn",children:"Share"})})]})]}),Object(J.jsxs)(qa.a,{size:"lg",show:he,onHide:function(){xe(!1)},backdrop:"static",keyboard:!1,centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Edit Category"}),Object(J.jsx)(Ia.a,{fontSize:"medium",onClick:function(){xe(!1)},style:{color:"red",cursor:"pointer"}})]}),Object(J.jsx)(qa.a.Body,{className:"add-category",children:Object(J.jsx)("div",{className:"row",children:Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsx)("h6",{children:"Edit Category"}),Object(J.jsx)(Ya.a,{onSubmit:Ze.handleSubmit,children:Object(J.jsxs)(Ya.a.Group,{className:"sm-3",controlId:"text",style:{marginTop:"18px"},children:[Object(J.jsx)(Ya.a.Control,{className:"form-control",type:"text",placeholder:"Enter New Category Name",onChange:Ze.handleChange("category"),value:Ze.values.category,style:{paddingTop:"10px",paddingBottom:"10px"}}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:Ze.touched.category&&Ze.errors.category}),Object(J.jsx)("br",{})]})]})}),Object(J.jsx)("button",{onClick:Ze.handleSubmit,disabled:Ze.isSubmitting,type:"button",className:"btn view-btn add-category-btn pull-left",children:"Save"})]})})})]}),Object(J.jsxs)(qa.a,{size:"lg",show:Ne,onHide:function(){we(!1)},backdrop:"static",keyboard:!1,centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Edit Question"}),Object(J.jsx)(Ia.a,{fontSize:"medium",onClick:function(){we(!1)},style:{color:"red",cursor:"pointer"}})]}),Object(J.jsx)(qa.a.Body,{className:"add-category",children:Object(J.jsx)("div",{className:"row",children:Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsx)("h6",{children:"Edit Question"}),Object(J.jsx)(Ya.a,{onSubmit:Xe.handleSubmit,children:Object(J.jsxs)(Ya.a.Group,{className:"sm-3",controlId:"text",style:{marginTop:"18px"},children:[Object(J.jsx)(Ya.a.Control,{className:"form-control",type:"text",placeholder:"Enter Question",onChange:Xe.handleChange("question"),value:Xe.values.question,style:{paddingTop:"10px",paddingBottom:"10px"}}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:Xe.touched.question&&Xe.errors.question}),Object(J.jsx)("br",{})]})]})}),Object(J.jsx)("button",{onClick:Xe.handleSubmit,disabled:Xe.isSubmitting,type:"button",className:"btn view-btn add-category-btn pull-left",children:"Save"})]})})})]})]})]})})]})}))},yr=function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Assessment | Oren"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsx)("h2",{children:Object(J.jsxs)("ul",{class:"breadcrumb",children:[Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/Assessment",children:"Assessment"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/Add_Assessment",children:"Add Assessment"})})]})}),Object(J.jsx)(ra.a,{className:"col-sm-12",children:Object(J.jsx)(gr,{})}),Object(J.jsx)(re.a,{sx:{pt:3}})]})})]})},Nr=(a(708),a(252)),wr=a.n(Nr),kr=a(18),Cr=Object(x.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"}}})),Sr=function(e){var t,a=Object(u.useState)(!1),n=Object(y.a)(a,2),c=n[0],s=n[1],r=function(){return s(!1)},i=Cr(),o=b.a.useState({amount:"",password:"",weight:"",weightRange:"",showPassword:!1}),l=Object(y.a)(o,2),d=l[0],j=l[1];return Object(J.jsx)(re.a,Object(K.a)(Object(K.a)({},e),{},{children:Object(J.jsxs)(re.a,{sx:{mt:3},children:[Object(J.jsx)(ra.a,{children:Object(J.jsx)(ia.a,{children:Object(J.jsx)("div",{className:"checklist-container",children:Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-4",children:Object(J.jsx)("div",{className:"row",children:Object(J.jsx)("div",{className:"category-title",children:Object(J.jsx)("h4",{children:"Organization HSE Management System"})})})}),Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsx)(An.a,{className:"checklist-progress-bar",value:40,variant:"determinate"}),Object(J.jsx)("p",{className:"checklist-progress-percentage",children:"40%"})]}),Object(J.jsxs)("div",{className:"d-flex flex-row justify-content-center align-items-center",children:[Object(J.jsx)("div",{className:"col-md-1",children:Object(J.jsx)("p",{id:"score",children:"Score :"})}),Object(J.jsx)("div",{className:"col-md-1",children:Object(J.jsx)(nn.a,{className:Object(kr.a)(i.margin,i.textField),variant:"outlined",children:Object(J.jsx)(sn.a,{id:"outlined-adornment-weight",value:d.weight,onChange:(t="weight",function(e){j(Object(K.a)(Object(K.a)({},d),{},Object(N.a)({},t,e.target.value)))}),"aria-describedby":"outlined-weight-helper-text",inputProps:{"aria-label":"weight"},labelWidth:0,className:"score-text"})})})]}),Object(J.jsx)("hr",{}),Object(J.jsx)("div",{className:"Checklist-container2",children:Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-1",children:Object(J.jsxs)("div",{className:"table-title",children:["Status",Object(J.jsx)("div",{className:"my-3",children:Object(J.jsx)(Ec.a,{className:"wrong status-buttons",style:{color:Dc.a[500]}})}),Object(J.jsx)("div",{className:"my-3",children:Object(J.jsx)(qc.a,{className:"correct status-buttons",style:{color:Tc.a[500]}})}),Object(J.jsx)("div",{className:"my-3",children:Object(J.jsx)(Ec.a,{className:"wrong status-buttons",style:{color:Dc.a[500]}})}),Object(J.jsx)("div",{className:"my-3",children:Object(J.jsx)(qc.a,{className:"correct status-buttons",style:{color:Tc.a[500]}})})]})}),Object(J.jsx)("div",{className:"col-md-4",children:Object(J.jsxs)("div",{className:"table-title",children:["Topic",Object(J.jsx)("div",{className:"sub-title my-4",children:Object(J.jsx)("h5",{children:"1.Do you have defend HSE policy?"})}),Object(J.jsx)("div",{className:"sub-title my-4",children:Object(J.jsx)("h5",{children:"2.Does management set corporate goals?"})}),Object(J.jsx)("div",{className:"sub-title my-4",children:Object(J.jsx)("h5",{children:"3.Are you ISO 9000 or ISO 14001 or ISO 45001 certified?"})}),Object(J.jsx)("div",{className:"sub-title my-4",children:Object(J.jsx)("h5",{children:"4.Do you have defend HSE policy?"})})]})}),Object(J.jsx)("div",{className:"col-md-2 ",children:Object(J.jsxs)("div",{className:"table-title",children:["Company Response",Object(J.jsx)("div",{className:"sub-title my-4 text-center",children:Object(J.jsx)("h5",{className:"text-success",children:"Yes"})}),Object(J.jsx)("div",{className:"sub-title my-4 text-center",children:Object(J.jsx)("h5",{className:"text-success",children:"Yes"})}),Object(J.jsx)("div",{className:"sub-title my-4 text-center",children:Object(J.jsx)("h5",{className:"text-danger",children:" No "})}),Object(J.jsx)("div",{className:"sub-title my-4 text-center",children:Object(J.jsx)("h5",{className:"text-success",children:"Yes"})})]})}),Object(J.jsx)("div",{className:"col-md-2",children:Object(J.jsxs)("div",{className:"table-title",children:["Your Response",Object(J.jsxs)("div",{className:"my-2",children:[Object(J.jsx)("button",{type:"button",className:"btn btn-outline-success mx-2",children:"Accept"}),Object(J.jsx)("button",{type:"button",className:"btn btn-outline-danger",children:"Reject"})]}),Object(J.jsxs)("div",{className:"my-2",children:[Object(J.jsx)("button",{type:"button",className:"btn btn-outline-success  mx-2",children:"Accept"}),Object(J.jsx)("button",{type:"button",className:"btn btn-outline-danger ",children:"Reject"})]}),Object(J.jsxs)("div",{className:"my-2",children:[Object(J.jsx)("button",{type:"button",className:"btn btn-outline-success mx-2",children:"Accept"}),Object(J.jsx)("button",{type:"button",className:"btn btn-outline-danger",children:"Reject"})]}),Object(J.jsxs)("div",{className:"my-2",children:[Object(J.jsx)("button",{type:"button",className:"btn btn-outline-success mx-2",children:"Accept"}),Object(J.jsx)("button",{type:"button",className:"btn btn-outline-danger",children:"Reject"})]})]})}),Object(J.jsx)("div",{className:"col-md-2",children:Object(J.jsxs)("div",{className:"table-title4",children:["Remarks",Object(J.jsxs)("div",{className:"my-2",children:[Object(J.jsx)(Ua.a,{variant:"",className:"chat-btn",children:Object(J.jsx)(Bc.a,{})}),Object(J.jsx)(Ua.a,{variant:"",className:"attach-btn",children:Object(J.jsx)("label",{for:"file-input",className:"file",children:Object(J.jsx)(Ja.a,{})})}),Object(J.jsx)("p",{className:"file-name my-2",children:"file.pdf"}),Object(J.jsx)("input",{id:"file-input",type:"file",name:"selectedFile",multiple:!0,required:!0,accept:"image/*, .doc, .docx, application/pdf, application/msword, application/vnd.ms-powerpoint,.ppt, .pptx"})]}),Object(J.jsxs)("div",{className:"my-2",children:[Object(J.jsx)(Ua.a,{variant:"",className:"chat-btn",children:Object(J.jsx)(Bc.a,{})}),Object(J.jsx)(Ua.a,{variant:"",className:"attach-btn",children:Object(J.jsx)("label",{for:"file-input",className:"file",children:Object(J.jsx)(Ja.a,{})})}),Object(J.jsx)("p",{className:"file-name my-2",children:"file.pdf"}),Object(J.jsx)("input",{id:"file-input",type:"file",multiple:!0,required:!0,accept:"image/*, .doc, .docx, application/pdf, application/msword, application/vnd.ms-powerpoint,.ppt, .pptx"})]}),Object(J.jsxs)("div",{className:"my-2",children:[Object(J.jsx)(Ua.a,{variant:"",className:"chat-btn",children:Object(J.jsx)(Bc.a,{})}),Object(J.jsx)(Ua.a,{variant:"",className:"attach-btn",children:Object(J.jsx)("label",{for:"file-input",className:"file",children:Object(J.jsx)(Ja.a,{})})}),Object(J.jsx)("p",{className:"file-name my-2",children:"file.pdf"}),Object(J.jsx)("input",{id:"file-input",type:"file",multiple:!0,required:!0,accept:"image/*, .doc, .docx, application/pdf, application/msword, application/vnd.ms-powerpoint,.ppt, .pptx"})]}),Object(J.jsxs)("div",{className:"my-2",children:[Object(J.jsx)(Ua.a,{variant:"",className:"chat-btn",onClick:function(){return s(!0)},children:Object(J.jsx)(Bc.a,{})}),Object(J.jsxs)(qa.a,{show:c,onHide:r,backdrop:"static",keyboard:"false",centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Response"}),Object(J.jsx)(Ia.a,{fontSize:"medium",onClick:r,style:{color:"red",cursor:"pointer"}})]}),Object(J.jsxs)(qa.a.Body,{children:[Object(J.jsx)("h6",{className:"msg-date",children:"26 June 2021"}),Object(J.jsxs)("div",{class:"card-body msg_card_body",children:[Object(J.jsxs)("div",{class:"d-flex justify-content-start mb-4",children:[Object(J.jsx)("div",{class:"img_cont_msg",children:Object(J.jsx)("img",{src:"https://static.turbosquid.com/Preview/001292/481/WV/_D.jpg",class:"rounded-circle user_img_msg"})}),Object(J.jsxs)("div",{class:"msg_cotainer",children:["Hi, how are you samim?",Object(J.jsx)("span",{class:"msg_time",children:"8:40 AM, Today"})]})]}),Object(J.jsxs)("div",{class:"d-flex justify-content-end mb-4",children:[Object(J.jsxs)("div",{class:"msg_cotainer_send",children:["Hi Khalid i am good tnx how about you?",Object(J.jsx)("span",{class:"msg_time_send",children:"8:55 AM, Today"})]}),Object(J.jsx)("div",{class:"img_cont_msg",children:Object(J.jsx)("img",{src:"data:image/jpeg;base64,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",class:"rounded-circle user_img_msg"})})]}),Object(J.jsxs)("div",{class:"d-flex justify-content-start mb-4",children:[Object(J.jsx)("div",{class:"img_cont_msg",children:Object(J.jsx)("img",{src:"https://static.turbosquid.com/Preview/001292/481/WV/_D.jpg",class:"rounded-circle user_img_msg"})}),Object(J.jsxs)("div",{class:"msg_cotainer",children:["I am good too, thank you for your chat template",Object(J.jsx)("span",{class:"msg_time",children:"9:00 AM, Today"})]})]}),Object(J.jsxs)("div",{class:"d-flex justify-content-end mb-4",children:[Object(J.jsxs)("div",{class:"msg_cotainer_send",children:["You are welcome",Object(J.jsx)("span",{class:"msg_time_send",children:"9:05 AM, Today"})]}),Object(J.jsx)("div",{class:"img_cont_msg",children:Object(J.jsx)("img",{src:"data:image/jpeg;base64,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",class:"rounded-circle user_img_msg"})})]})]})]}),Object(J.jsxs)(qa.a.Footer,{children:[Object(J.jsx)(Ya.a.Control,{as:"textarea",placeholder:"Type a message.....",style:{height:"50px",width:"65%"}}),Object(J.jsx)(wr.a,{fontSize:"large"}),Object(J.jsx)("label",{for:"file-input",className:"response-file",onClick:r,children:Object(J.jsx)(Ja.a,{fontSize:"large"})}),Object(J.jsx)("input",{id:"file-input",type:"file",multiple:!0,required:!0,accept:"image/*, .doc, .docx, application/pdf, application/msword, application/vnd.ms-powerpoint,.ppt, .pptx"}),Object(J.jsx)(Ua.a,{className:"modal-submit-btn",onClick:r,children:"Send"})]})]}),Object(J.jsx)(Ua.a,{variant:"",className:"attach-btn",children:Object(J.jsx)("label",{for:"file-input",className:"file",children:Object(J.jsx)(Ja.a,{})})}),Object(J.jsx)("p",{className:"file-name my-2",children:"file.pdf"}),Object(J.jsx)("input",{id:"file-input",type:"file",multiple:!0,required:!0,accept:"image/*, .doc, .docx, application/pdf, application/msword, application/vnd.ms-powerpoint,.ppt, .pptx"})]})]})})]})})]})})})}),Object(J.jsx)("div",{children:Object(J.jsxs)("div",{children:[Object(J.jsxs)("button",{type:"button",className:"btn btn-save",children:["Save"," "]}),Object(J.jsx)("button",{type:"button",className:"btn btn-submit",children:"Submit"})]})})]})}))},Ar=function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Checklist | Oren"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsx)("h2",{children:Object(J.jsxs)("ul",{class:"breadcrumb",children:[Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/Assessment",children:"Assessment"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"#",children:"Assessment Detail"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"#",children:"Checklist"})})]})}),Object(J.jsx)(Sr,{}),Object(J.jsx)(re.a,{sx:{pt:3}})]})})]})};function Er(e){var t=e.rows;return Object(J.jsx)(Ma.c,{id:"atgl_assessement_table",hover:!0,entriesOptions:[10,20,30],entries:10,pagesAmount:4,searchBottom:!1,data:{columns:[{label:"Topic",field:"Topic",sort:"disabled",width:250},{label:"Response",field:"Response",width:50},{label:"Remarks",field:"Remarks",width:50}],rows:t}})}var Dr=function(e){var t=e.assessmentScore,a=e.assessment,n=e.capPercent,c={avatarUrl:C,type:"Red Cap",color:"Red"};return n>=70?c={avatarUrl:A,type:"Green Cap",color:"Green"}:n>=40&&n<70&&(c={avatarUrl:S,type:"Orange Cap",color:"Orange"}),Object(J.jsxs)(ra.a,{id:"CapDetails",children:[Object(J.jsx)(da.a,{title:"Assessment Details"}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(ha.a,{children:Object(J.jsx)(re.a,{children:Object(J.jsxs)("div",{className:"container",children:[Object(J.jsxs)("div",{className:"mt-2 d-flex flex-row justify-content-between align-items-center",children:[Object(J.jsxs)("div",{children:[" ",Object(J.jsxs)("h5",{children:["Assessment: ",a.assessment.name]}),Object(J.jsx)("div",{className:"d-flex flex-row justify-content-between align-items-center",children:Object(J.jsx)("div",{children:Object(J.jsxs)("span",{style:{fontSize:"15px"},children:["Company Name: ",a.contractorName]})})})]}),Object(J.jsx)("div",{children:Object(J.jsxs)("div",{className:"mr-3 my-auto text-center ",children:[Object(J.jsx)("h3",{children:"Total Score"}),Object(J.jsx)("h5",{style:{color:"#1D2C56",fontWeight:"bold"},className:c.color,children:+(Math.round(n+"e+2")+"e-2")})]})})]}),Object(J.jsxs)("div",{className:" row",children:[Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsxs)("div",{className:"my-auto text-center score",children:[Object(J.jsx)("h3",{children:"Assessment Score"}),Object(J.jsx)("h1",{className:c.color,children:t})]})}),Object(J.jsxs)("div",{className:"col-md-6  text-center score",children:[Object(J.jsx)("img",{src:c.avatarUrl,alt:"cap",id:"cap"}),Object(J.jsx)("h5",{className:c.color,children:c.type})]}),Object(J.jsx)("div",{className:" col-md-6 pull-left",children:Object(J.jsxs)("p",{className:"status ",children:["Status:",Object(J.jsxs)("k",{className:" text-success",children:[" ",a.status.onlyFirstCapital()]})]})}),Object(J.jsx)("div",{className:" col-md-6 pull-right",children:Object(J.jsxs)("p",{className:"LastUpdated",children:["Last Updated:\xa0",et()(a.lastAccessTime).format("DD/MM/YYYY")]})})]})]})})})]})},Tr=(Object(Ca.a)(),Object(Ca.a)(),Object(Ca.a)(),function(e){var t=e.timeline,a=Object($.a)(e,["timeline"]),n=Object(u.useState)(!1),c=Object(y.a)(n,2),s=(c[0],c[1],Object(u.useState)(!1)),r=Object(y.a)(s,2),i=r[0],o=r[1];return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(ra.a,Object(K.a)(Object(K.a)({},a),{},{children:[Object(J.jsx)(da.a,{title:"Timeline"}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(ha.a,{children:Object(J.jsx)(re.a,{children:Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(Oa.a,{children:Object(J.jsxs)(pa.a,{children:[Object(J.jsx)(fa.a,{className:"text-center",children:"Date"}),Object(J.jsx)(fa.a,{className:"text-center",children:"Updated By"}),Object(J.jsx)(fa.a,{className:"text-center",children:"Status"})]})}),Object(J.jsx)(ga.a,{children:t.sort((function(e,t){return et()(t.updatedAt).diff(et()(e.updatedAt))})).slice(0,i?t.length:5).map((function(e){return Object(J.jsxs)(pa.a,{hover:!0,children:[Object(J.jsx)(fa.a,{className:"text-center",children:et()(e.updatedAt).format("DD/MM/YYYY")}),Object(J.jsx)(fa.a,{className:"text-center",children:e.updatedBy.name}),Object(J.jsx)(fa.a,{className:"text-success text-center",children:e.status.onlyFirstCapital()})]})}))})]})})}),Object(J.jsx)(re.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:t.length>5&&Object(J.jsx)(ot.a,{className:"view-btn",color:"primary",endIcon:Object(J.jsx)(Da.a,{}),size:"small",variant:"text",onClick:function(){return o((function(e){return!e}))},children:i?"View Less":"View all"})})]}))})}),Ir=Object(x.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),qr=function(){var e,t,a=Ir(),n=Object(m.c)((function(e){return e.auth})).userData,c=b.a.useState("All"),r=Object(y.a)(c,2),l=r[0],d=r[1],j=b.a.useState(),x=Object(y.a)(j,2),O=x[0],p=x[1],f=Object(h.j)().assessmentId,v=Object(u.useState)(!1),g=Object(y.a)(v,2),w=g[0],k=g[1],C=Object(u.useState)(!1),S=Object(y.a)(C,2),A=S[0],E=S[1],D=Object(u.useState)(null),T=Object(y.a)(D,2),I=T[0],q=T[1],B=Object(u.useState)(0),L=Object(y.a)(B,2),R=L[0],P=L[1],M=Object(u.useState)(0),W=Object(y.a)(M,2),V=W[0],Y=W[1],U=Object(u.useState)(""),z=Object(y.a)(U,2),H=z[0],Q=z[1],_=Object(u.useState)(null),G=Object(y.a)(_,2),Z=G[0],K=G[1],$=Object(u.useState)(null),ee=Object(y.a)($,2),te=ee[0],ae=ee[1],ne=function(e){return function(){Q(e),E(!0)}},ce=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,n,c,s,r,o,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),t={responseId:f,include:{assessment:!0,sections_category:!0,sections_questions_question:!0}},e.next=5,La.getResponseById(t);case 5:for(a=e.sent,n=a.data.data,[],s=0,c=n.sections,r=0;r<c.length;r++)s+=c[r].scoredMarks;return console.log("SUM::::",s),Y(s),ae(n.sections),e.next=16,La.getTotalScoreForContractor({contractorId:n.contractorId});case 16:o=e.sent.data.data,console.log(o),o.length>0&&(l=o.reduce((function(e,t){return e.scored=e.scored+t.scored,e.total=e.total+t.total,e}),{scored:0,total:0}),d=l.scored/l.total*100,P(d)),q(n),e.next=25;break;case 22:return e.prev=22,e.t0=e.catch(0),e.abrupt("return",F()({title:"Error",text:"Error in fetching assessment",icon:"error",button:"OK"}));case 25:return e.prev=25,k(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[0,22,25,28]])})));return function(){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){return console.log("assessmentId",f),ce(),function(){}}),[f]);return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Assessment | Orennow"})}),w&&Object(J.jsx)(X,{}),I&&Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,style:{lineHeight:"normal !important"},children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:Object(J.jsxs)("ul",{class:"breadcrumb",children:[Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/Assessment",children:"Assessment"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/Cap_AssesmentView",children:"Assessment Detail"})})]})})}),Object(J.jsx)("div",{className:"col-md-6",children:"All"!=l?Object(J.jsx)(s.b,{to:"Categories/".concat(O),children:"PENDING"==I.status?Object(J.jsx)(Ua.a,{style:{float:"right"},variant:"",className:"modal-submit-btn",disabled:!0,children:"Edit"}):Object(J.jsx)(Ua.a,{style:{float:"right"},variant:"",className:"modal-submit-btn",children:"Edit"})}):null})]}),Object(J.jsxs)("div",{className:"row",container:!0,spacing:2,children:[Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsx)(sa.a,{item:!0,lg:12,md:12,xl:12,xs:12,children:Object(J.jsx)(Dr,{assessmentScore:V,assessment:I,capPercent:R})}),Object(J.jsx)(sa.a,{className:"grid2",item:!0,lg:12,md:12,xl:12,xs:12,children:Object(J.jsx)(Tr,{timeline:null!==(e=I.timeline)&&void 0!==e?e:[]})})]}),Object(J.jsx)("div",{className:"col-md-7",children:Object(J.jsxs)(ra.a,{sx:{height:"100%"},children:[Object(J.jsx)("br",{}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-3 ",children:Object(J.jsx)(nn.a,(t={variant:"outlined",className:a.formControl},Object(N.a)(t,"className","select"),Object(N.a)(t,"children",Object(J.jsxs)(En.a,{value:l,onChange:function(e){console.log(e.target.value),d(e.target.value),te.map((function(t){t.category._id==e.target.value&&p(t._id)}))},displayEmpty:!0,className:a.selectEmpty,inputProps:{"aria-label":"Without label"},style:{marginTop:5,marginLeft:10},children:[Object(J.jsx)(Dn.a,{value:"All",children:"All Categories"}),I.sections.map((function(e){return e.category?Object(J.jsx)(Dn.a,{value:e.category._id,children:e.category.name}):null}))]})),t))}),Object(J.jsx)("div",{className:"col-md-7 ",children:Object(J.jsx)("h5",{children:"All"!==l?function(e,t){var a=e.sections.find((function(e){return e.category._id===t})),n=[];return a.factors.environment&&n.push("Environment"),a.factors.governance&&n.push("Governance"),a.factors.social&&n.push("Social"),a.factors.environment&&n.push("Others"),n.join(" ,")}(I,l):null})})]}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(sa.a,{item:!0,lg:12,md:12,xl:12,xs:12,className:"text-center",children:Object(J.jsx)(Er,{rows:function(e,t){return"All"===t?e.sections.map((function(e){return e.questions})).reduce((function(e,t){return e=[].concat(Object(ke.a)(e),Object(ke.a)(t))}),[]).map((function(e,t){var a,n,c,s;return{Topic:"".concat(t+1,". ").concat(null===e||void 0===e||null===(a=e.question)||void 0===a?void 0:a.questText),Score:"-",Response:"ANSWERED"===(null===e||void 0===e?void 0:e.answerStatus)?(null===e||void 0===e?void 0:e.questType.yesNo)?(null===e||void 0===e||null===(n=e.answer)||void 0===n?void 0:n.yesNo)&&void 0!==typeof(null===e||void 0===e||null===(c=e.answer)||void 0===c?void 0:c.yesNo)?"Yes":"No":null===e||void 0===e||null===(s=e.answer)||void 0===s?void 0:s.text:"-",Remarks:Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Ua.a,{variant:"",className:"chat-btn",onClick:ne(e),children:Object(J.jsx)(Bc.a,{})})})}})):e.sections.filter((function(e){return(null===e||void 0===e?void 0:e.category)&&e.category._id===t})).map((function(e){return e.questions})).reduce((function(e,t){return e=[].concat(Object(ke.a)(e),Object(ke.a)(t))}),[]).map((function(e,t){var a,n,c;return{Topic:"".concat(t+1,". ").concat(e.question.questText),Score:"-",Response:"ANSWERED"===(null===e||void 0===e?void 0:e.answerStatus)?e.questType.yesNo?(null===e||void 0===e||null===(a=e.answer)||void 0===a?void 0:a.yesNo)&&void 0!==typeof(null===e||void 0===e||null===(n=e.answer)||void 0===n?void 0:n.yesNo)?"Yes":"No":null===e||void 0===e||null===(c=e.answer)||void 0===c?void 0:c.text:"-",Remarks:Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Ua.a,{variant:"",className:"chat-btn",onClick:ne(e),children:Object(J.jsx)(Bc.a,{})})})}}))}(I,l)})})]})}),Object(J.jsx)(Mc,{sendFile:Z,setSendFile:K,show:A,handleClose:function(){return E(!1)},question:H,response:I,uid:n.companyId,type:n.type,name:n.name})]})]})})]})};function Fr(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.feedback})),a=t.allFeedbacks,n=t.loading,c=Object(m.c)((function(e){return e.auth})).userData;return Object(u.useEffect)((function(){(null===c||void 0===c?void 0:c.companyId)&&e(tn(null===c||void 0===c?void 0:c.companyId))}),[null===c||void 0===c?void 0:c.companyId]),Object(J.jsx)(J.Fragment,{children:n?Object(J.jsx)(X,{}):Object(J.jsx)(Ma.c,{searchTop:!1,searchBottom:!1,className:"text-center",hover:!0,entriesOptions:[5,10,20],entries:5,pagesAmount:6,data:{columns:[{label:"Sr.No",field:"ref",width:10,attributes:{"aria-controls":"DataTable","aria-label":"id"}},{label:"Date",field:"Date",width:12},{label:"Company",field:"Company",width:100},{label:"Description",field:"Description",sort:"asc",width:10},{label:"Attachments",field:"Attachments",sort:"disabled",width:10}],rows:a?a.map((function(e,t){return{ref:t+1,Date:et()(e.created_at).format("DD/MM/YYYY"),Company:e.cmp_name,Description:e.feedbackText,Attachments:Object(J.jsx)(J.Fragment,{children:e.attachments.length>=1?e.attachments.map((function(e){return console.log("doc",e),Object(J.jsx)(J.Fragment,{children:Object(J.jsx)("div",{className:"d-flex flex-row justify-content-center align-items-center",children:Object(J.jsx)("a",{href:e.value.fileLink,target:"_blank",children:e.value.fileName})})})})):"No Attachment Added"})}})):null}})})}var Br=function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Feedback | Oren"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsx)("div",{className:"row",children:Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:Object(J.jsx)("ul",{class:"breadcrumb",children:Object(J.jsx)("li",{children:"Feedback"})})})})}),Object(J.jsx)(ra.a,{className:"col-sm-12",children:Object(J.jsx)(Fr,{})}),Object(J.jsx)(re.a,{sx:{pt:3}})]})})]})},Lr=[{id:Object(Ca.a)(),ref:"1",date:15546708e5,customer:{name:"Adam Denisov"},createdAt:15546708e5,status:""},{id:Object(Ca.a)(),ref:"2",date:15546708e5,customer:{name:"John"},createdAt:15546708e5,status:""},{id:Object(Ca.a)(),ref:"3",date:15546708e5,customer:{name:"Johnson"},createdAt:15546708e5,status:""}],Rr=function(e){var t=Object(u.useState)(!1),a=Object(y.a)(t,2);a[0],a[1];return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(ra.a,Object(K.a)(Object(K.a)({},e),{},{children:[Object(J.jsx)(da.a,{title:"Timeline"}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(ha.a,{children:Object(J.jsx)(re.a,{children:Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(Oa.a,{children:Object(J.jsxs)(pa.a,{children:[Object(J.jsx)(fa.a,{className:"text-center",children:"Date"}),Object(J.jsx)(fa.a,{className:"text-center",children:"Updated By"}),Object(J.jsx)(fa.a,{className:"text-center",children:"Status"})]})}),Object(J.jsx)(ga.a,{children:Lr.map((function(e){return Object(J.jsxs)(pa.a,{hover:!0,children:[Object(J.jsx)(fa.a,{className:"text-center",children:et()(e.date).format("DD/MM/YYYY")}),Object(J.jsx)(fa.a,{className:"text-center",children:e.customer.name}),Object(J.jsx)(fa.a,{className:"text-success text-center",children:e.status})]},e.id)}))})]})})}),Object(J.jsx)(re.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:Object(J.jsx)(ot.a,{className:"view-btn",color:"primary",endIcon:Object(J.jsx)(Da.a,{}),size:"small",variant:"text",children:"View all"})})]}))})};function Pr(){var e=b.a.useState({columns:[{label:"Topic",field:"Topic",sort:"disabled",width:250},{label:"Score",field:"Score",width:50},{label:"Response",field:"Response",width:50},{label:"Remarks",field:"Remarks",width:50}],rows:[{Topic:"1. Do you have defined HSE policy?",Score:"5",Response:"Yes",Remarks:"Lorem ipsum"},{Topic:"2. Does management set corporate goals?",Score:"5",Response:"No",Remarks:"Lorem ipsum"},{Topic:"3. Are you ISO 9000 or ISO 14001 or ISO 45001 certifed?",Score:"5",Response:"Yes",Remarks:"Lorem ipsum"}]}),t=Object(y.a)(e,2),a=t[0];t[1];return Object(J.jsx)(Ma.c,{id:"atgl_assessement_table",searchBottom:!1,hover:!0,entriesOptions:[10,20,30],entries:10,pagesAmount:4,data:a})}var Mr="40",Wr="Blue",Vr="31/03/2021",Yr="Assessed",Ur=function(e){return Object(J.jsxs)(ra.a,Object(K.a)(Object(K.a)({},e),{},{id:"CapDetails",children:[Object(J.jsx)(da.a,{title:"Assessment Details"}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(ha.a,{children:Object(J.jsx)(re.a,{children:Object(J.jsxs)("div",{className:"container",children:[Object(J.jsx)("br",{}),Object(J.jsx)("h5",{children:"Assessment: Privacy Policy"}),Object(J.jsx)("h5",{children:"Company Name: Josh Co."}),Object(J.jsxs)("div",{className:" row",children:[Object(J.jsx)("div",{className:"col-md-12",children:Object(J.jsxs)("div",{className:"my-auto text-center score",children:[Object(J.jsx)("h3",{className:"total-score",children:"Total Score"}),Object(J.jsx)("h1",{className:Wr,children:Mr})]})}),Object(J.jsx)("div",{className:" col-md-6 pull-left",children:Object(J.jsxs)("p",{className:"status ",children:["Status:",Object(J.jsxs)("k",{className:" text-success",children:[" ",Yr]})]})}),Object(J.jsx)("div",{className:" col-md-6 pull-right",children:Object(J.jsxs)("p",{className:"LastUpdated",children:["Last Updated:",Vr]})})]})]})})})]}))},zr=Object(x.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),Hr=function(){var e,t=zr(),a=b.a.useState(""),n=Object(y.a)(a,2),c=n[0],r=n[1];return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Assessment | Oren"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:Object(J.jsxs)("ul",{class:"breadcrumb",children:[Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/Assessment",children:"Assessment"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/View_assessment",children:"Assessment Detail"})})]})})}),Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)(s.b,{to:"/adani/checklist",children:Object(J.jsx)(Ua.a,{style:{float:"right"},variant:"",className:"modal-submit-btn",children:"Edit"})})})]}),Object(J.jsxs)("div",{className:"row",container:!0,spacing:2,children:[Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsx)(sa.a,{item:!0,lg:12,md:12,xl:12,xs:12,children:Object(J.jsx)(Ur,{})}),Object(J.jsx)(sa.a,{className:"grid2",item:!0,lg:12,md:12,xl:12,xs:12,children:Object(J.jsx)(Rr,{})})]}),Object(J.jsx)("div",{className:"col-md-7",children:Object(J.jsxs)(ra.a,{sx:{height:"100%"},children:[Object(J.jsx)("br",{}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-3 ",children:Object(J.jsx)(nn.a,(e={variant:"outlined",className:t.formControl},Object(N.a)(e,"className","select"),Object(N.a)(e,"children",Object(J.jsxs)(En.a,{value:c,onChange:function(e){r(e.target.value)},displayEmpty:!0,className:t.selectEmpty,inputProps:{"aria-label":"Without label"},style:{marginTop:5,marginLeft:10},children:[Object(J.jsx)(Dn.a,{value:"",children:Object(J.jsx)("em",{children:"Select Category"})}),Object(J.jsx)(Dn.a,{value:"Corona",children:"Corona"}),Object(J.jsx)(Dn.a,{value:"Delta",children:"Delta"})]})),e))}),Object(J.jsx)("div",{className:"col-md-3 ",children:Object(J.jsx)("h5",{children:"Environmental"})})]}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(sa.a,{item:!0,lg:12,md:12,xl:12,xs:12,className:"text-center",children:Object(J.jsx)(Pr,{})})]})})]})]})})]})},Qr=(a(487),Object(x.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}))),_r=function(e){var t,a,n=Object(Jn.a)(),c=Object(m.c)((function(e){return e.auth})).userData,s=Object(u.useState)([]),r=Object(y.a)(s,2),l=r[0],d=r[1],j=Object(u.useState)("ALL"),h=Object(y.a)(j,2),x=h[0],O=h[1],p=Object(u.useState)({}),f=Object(y.a)(p,2),g=f[0],w=f[1],k=Object(u.useState)(!1),C=Object(y.a)(k,2),S=C[0],A=C[1],E=(Zn.a.common.white,Zn.a.common.white,{animation:!1,cutoutPercentage:70,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,tooltips:{backgroundColor:n.palette.background.paper,bodyFontColor:n.palette.text.secondary,borderColor:n.palette.divider,borderWidth:1,enabled:!0,footerFontColor:n.palette.text.secondary,intersect:!0,mode:"index",titleFontColor:n.palette.text.primary}}),D=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(null===g||void 0===g?void 0:g[t])){e.next=3;break}return e.abrupt("return");case 3:if(A(!0),"ALL"!==t){e.next=19;break}return e.next=7,La.getESGOForAllContractors({companyId:c.assoc_companies[0]});case 7:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=11;break}e.t0=void 0===n;case 11:if(!e.t0){e.next=15;break}e.t2=void 0,e.next=16;break;case 15:e.t2=n.data;case 16:a=e.t2,e.next=31;break;case 19:return e.next=21,La.getESGOForContractor({contractorId:t});case 21:if(e.t4=s=e.sent,e.t3=null===e.t4,e.t3){e.next=25;break}e.t3=void 0===s;case 25:if(!e.t3){e.next=29;break}e.t5=void 0,e.next=30;break;case 29:e.t5=s.data;case 30:a=e.t5;case 31:w(Object(K.a)(Object(K.a)({},g),{},Object(N.a)({},t,[a.data.environment.scored,a.data.social.scored,a.data.governance.scored,a.data.others.scored]))),e.next=37;break;case 34:e.prev=34,e.t6=e.catch(0),F()("Error","Failed to fetch ESGO data","error");case 37:return e.prev=37,A(!1),e.finish(37);case 40:case"end":return e.stop()}}),e,null,[[0,34,37,40]])})));return function(t){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){return(null===c||void 0===c?void 0:c.assoc_companies[0])&&D(x),function(){}}),[x]),Object(u.useEffect)((function(){return(null===c||void 0===c?void 0:c.assoc_companies[0])&&T(),function(){}}),[c]);var T=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.getAllContractorsByID({companyId:null===c||void 0===c?void 0:c.assoc_companies});case 2:t=e.sent,d(t.data.data),O(t.data.data.length>0?t.data.data[0].user:null);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=Qr(),q=b.a.useState(""),B=Object(y.a)(q,2);B[0],B[1];return Object(J.jsx)(ra.a,Object(K.a)(Object(K.a)({},e),{},{children:Object(J.jsxs)(ia.a,{children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:"Overall Assessments"})}),Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("div",{className:"pull-right",children:Object(J.jsx)(nn.a,(t={variant:"outlined",className:I.formControl},Object(N.a)(t,"className","select2"),Object(N.a)(t,"children",Object(J.jsx)(En.a,{value:x,onChange:function(e){O(e.target.value)},displayEmpty:!0,className:(I.selectEmpty,I.formControl),inputProps:{"aria-label":"Without label"},children:l.map((function(e){return Object(J.jsx)(Dn.a,{value:e.user,children:e.name})}))})),t))})})]}),Object(J.jsx)(Nt.a,{}),Object(J.jsxs)(re.a,{sx:{height:200,position:"relative",top:30},children:[S&&Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:Object(J.jsx)(Z,{})}),g[x]&&g[x].every((function(e){return 0===e}))&&Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:"No data available"}),g[x]&&g[x].length>0&&Object(J.jsx)(v.Doughnut,{redraw:!!x,data:{datasets:[{data:null!==(a=g[x])&&void 0!==a?a:[],backgroundColor:["#9BDD9B","#F4CC69","#F99564","#5D5D5D"],borderWidth:5,borderColor:Zn.a.common.white,hoverBorderColor:Zn.a.common.white}],labels:["Environment","Social","Governance","Others"]},options:E})]}),Object(J.jsx)(re.a,{sx:{justifyContent:"center",pt:10,pl:20},children:Object(J.jsxs)("div",{className:"row ",children:[Object(J.jsx)("div",{className:"col-md-6 dots",children:Object(J.jsx)("li",{className:"dot-green",children:Object(J.jsx)("h5",{className:"dashboard",children:"Environment"})})}),Object(J.jsx)("div",{className:"col-md-6 dots",children:Object(J.jsx)("li",{className:"dot-orange",children:Object(J.jsx)("h5",{className:"dashboard",children:"Social"})})}),Object(J.jsx)("div",{className:"col-md-6 dots",children:Object(J.jsx)("li",{className:"dot-red",children:Object(J.jsx)("h5",{className:"dashboard",children:"Governance"})})}),Object(J.jsx)("div",{className:"col-md-6 dots",children:Object(J.jsx)("li",{className:"dot-grey",children:Object(J.jsx)("h5",{className:"dashboard",children:"Others"})})})]})})]})}))},Gr=Object(x.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},typography:{padding:e.spacing(2)}}})),Jr=function(e,t,a){var n=et()();return a&&n.set("year",a),t&&n.set("month",t),e?(n.set("date",e),n.format("DD MMM YYYY")):n.format("MMM YYYY")},Zr=function(e){var t,a,n,c,s,r,l,d,j,b,h,x,O,p,f,g,w,k=Object(u.useState)(null),C=Object(y.a)(k,2),S=C[0],A=C[1],E=Object(u.useState)(!1),D=Object(y.a)(E,2),T=D[0],I=D[1],q=Object(u.useState)(!1),B=Object(y.a)(q,2),L=B[0],R=B[1],P=Object(u.useState)(!1),M=Object(y.a)(P,2),W=M[0],V=M[1],Y=Object(Xa.b)({initialValues:{location:"",graphMonth:et()().month()}}),z=Object(m.c)((function(e){return e.auth})).userData.assoc_companies,H="GRAPH",Q="COMPARE",_=Object(u.useState)(H),G=Object(y.a)(_,2),X=G[0],$=G[1],ee=Object(u.useState)([0,0,0]),te=Object(y.a)(ee,2),ae=te[0],ne=te[1],ce=Object(u.useState)([0,0,0]),se=Object(y.a)(ce,2),ie=se[0],oe=se[1],le=Object(Jn.a)(),de=function(e,t,a,n){var c={from:"",to:"",companyId:z[0]};e?(c.from=et()().set({date:e,month:t,year:a}).startOf("day").toISOString(),c.to=et()().set({date:e,month:t,year:a}).endOf("day").toISOString()):(c.from=et()().set({month:t,year:a}).startOf("month").toISOString(),c.to=et()().set({month:t,year:a}).endOf("month").toISOString()),Ce(c.from,c.to,Y.values.location,(function(e){var t=0,a=0,c=0;e.forEach((function(e){var n=U(e.scored/e.total*100);"Red"===n.color?t++:"Green"===n.color?a++:c++})),n([a,c,t])}))},je=function(e){$(Q),A(null),R(!0),V(!0),de(e.compare1.date,e.compare1.month,e.compare1.year,(function(e){ne(e),R(!1)})),de(e.compare2.date,e.compare2.month,e.compare2.year,(function(e){oe(e),V(!1)}))},ue=Boolean(S),be=ue?"simple-popover":void 0,me={animation:!1,cutoutPercentage:70,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,tooltips:{backgroundColor:le.palette.background.paper,bodyFontColor:le.palette.text.secondary,borderColor:le.palette.divider,borderWidth:1,enabled:!0,footerFontColor:le.palette.text.secondary,intersect:!0,mode:"index",titleFontColor:le.palette.text.primary}},he=Gr(),xe=Object(u.useState)([]),Oe=Object(y.a)(xe,2),pe=Oe[0],fe=Oe[1],ve=Object(u.useState)([0,0,0]),ge=Object(y.a)(ve,2),ye=ge[0],Ne=ge[1],we=Object(Xa.b)({initialValues:{compare1:{date:"",month:"",year:""},compare2:{date:"",month:"",year:""}},validationSchema:Ka.e().shape({compare1:Ka.e().shape({month:Ka.d().required(),year:Ka.d().required()}),compare2:Ka.e().shape({month:Ka.d().required(),year:Ka.d().required()})}),onSubmit:je}),Ce=function(){var e=Object(o.a)(i.a.mark((function e(t,a,n,c){var s,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={from:t,to:a,companyId:z[0]},n&&(s.location=n),e.next=5,La.getCapPerformanceData(s);case 5:return r=e.sent.data.data,e.abrupt("return",c(r));case 9:e.prev=9,e.t0=e.catch(0),F()("Error",e.t0.message,"error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n,c){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){if(X===H){I(!0);var e=et()().set("month",Y.values.graphMonth).startOf("month"),t=et()().set("month",Y.values.graphMonth).endOf("month"),a=Y.values.location;Ce(e,t,a,(function(e){var t=0,a=0,n=0;e.forEach((function(e){var c=U(e.scored/e.total*100);"Red"===c.color?t++:"Green"===c.color?a++:n++})),Ne([a,n,t]),I(!1)}))}return X===Q&&we.isValid&&je(we.values),function(){}}),[Y.values.graphMonth,Y.values.location,X]);var Se=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.getAllContractorsByID({companyId:z[0]});case 2:t=e.sent,fe(Object(ke.a)(new Set(t.data.data.map((function(e){return e.location})))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){return z[0]&&Se(),function(){}}),[z[0]]),Object(J.jsx)(ra.a,Object(K.a)(Object(K.a)({},e),{},{children:Object(J.jsxs)(ia.a,{style:{height:"100%"},children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-4",children:Object(J.jsx)("h2",{children:"Cap Performance"})}),Object(J.jsxs)("div",{className:"col-md-8",children:[Object(J.jsx)(ot.a,{"aria-describedby":be,className:"view-btn  my-2  pull-right",color:"primary",startIcon:Object(J.jsx)(Jc.a,{}),size:"small",variant:"text",onClick:function(e){A(e.currentTarget)},children:"Compare"}),Object(J.jsx)("div",{children:Object(J.jsxs)(_c.a,{id:be,open:ue,anchorEl:S,onClose:function(){A(null)},anchorOrigin:{vertical:"bottom"},transformOrigin:{vertical:"top"},className:"compare-box",children:[Object(J.jsx)(yt.a,{style:{padding:"0px"},className:he.typography,id:"comparison-heading",children:"Comparison"}),Object(J.jsxs)("div",{className:"container",children:[Object(J.jsxs)("div",{className:"row",id:"popover-box",children:[Object(J.jsxs)("div",{className:"col-md-4",children:[" ",Object(J.jsx)(nn.a,(a={variant:"outlined",className:he.formControl},Object(N.a)(a,"className","select2 pull-right"),Object(N.a)(a,"children",Object(J.jsxs)(En.a,(t={value:we.values.compare1.date,onChange:we.handleChange("compare1.date"),displayEmpty:!0,className:"form-control"},Object(N.a)(t,"className",(he.selectEmpty,he.formControl)),Object(N.a)(t,"inputProps",{"aria-label":"Without label"}),Object(N.a)(t,"children",[Object(J.jsx)(Dn.a,{value:"",children:Object(J.jsx)("p",{children:"Date"})}),we.values.compare1.month&&we.values.compare1.year&&Array.apply(null,Array(et()().set({month:we.values.compare1.month,year:we.values.compare1.year}).daysInMonth())).map((function(e,t){return Object(J.jsx)(Dn.a,{value:(t+1).toString(),children:t+1})}))]),t))),a))]}),Object(J.jsx)("div",{className:"col-md-4",children:Object(J.jsx)(nn.a,(s={variant:"outlined",className:he.formControl},Object(N.a)(s,"className","select2 pull-right"),Object(N.a)(s,"children",Object(J.jsxs)(En.a,{value:we.values.compare1.month,error:(null===(n=we.touched.compare1)||void 0===n?void 0:n.month)&&(null===(c=we.errors.compare1)||void 0===c?void 0:c.month),onBlur:we.handleBlur("compare1.month"),onChange:function(e){we.setFieldValue("compare1.month",e.target.value),we.setFieldValue("compare1.date","")},displayEmpty:!0,className:(he.selectEmpty,he.formControl),inputProps:{"aria-label":"Without label"},children:[Object(J.jsx)(Dn.a,{value:"",children:Object(J.jsx)("p",{children:"Month"})}),Array.apply(null,Array(12)).map((function(e,t){var a=et()().set("month",t).format("MMMM");return Object(J.jsx)(Dn.a,{value:t,children:a})}))]})),s))}),Object(J.jsx)("div",{className:"col-md-4",children:Object(J.jsx)(nn.a,(d={variant:"outlined",className:he.formControl},Object(N.a)(d,"className","select2 pull-right"),Object(N.a)(d,"children",Object(J.jsxs)(En.a,{value:we.values.compare1.year,error:(null===(r=we.touched.compare1)||void 0===r?void 0:r.year)&&(null===(l=we.errors.compare1)||void 0===l?void 0:l.year),onBlur:we.handleBlur("compare1.year"),onChange:function(e){we.setFieldValue("compare1.year",e.target.value),we.setFieldValue("compare1.date","")},displayEmpty:!0,className:(he.selectEmpty,he.formControl),inputProps:{"aria-label":"Without label"},children:[Object(J.jsx)(Dn.a,{value:"",children:Object(J.jsx)("p",{children:"Year"})}),Object(J.jsx)(Dn.a,{value:"2018",children:"2018"}),Object(J.jsx)(Dn.a,{value:"2019",children:"2019"}),Object(J.jsx)(Dn.a,{value:"2020",children:"2020"}),Object(J.jsx)(Dn.a,{value:"2021",children:"2021"})]})),d))}),Object(J.jsx)("div",{className:"col-md-12 text-center",children:Object(J.jsxs)(yt.a,{className:"to",children:["To",Object(J.jsx)("br",{}),Object(J.jsx)("br",{})]})})]}),Object(J.jsxs)("div",{className:"row",id:"popover-box",children:[Object(J.jsxs)("div",{className:"col-md-4",children:[" ",Object(J.jsx)(nn.a,(j={variant:"outlined",className:he.formControl},Object(N.a)(j,"className","select2 pull-right"),Object(N.a)(j,"children",Object(J.jsxs)(En.a,{value:we.values.compare2.date,onChange:we.handleChange("compare2.date"),displayEmpty:!0,className:(he.selectEmpty,he.formControl),inputProps:{"aria-label":"Without label"},children:[Object(J.jsx)(Dn.a,{value:"",children:Object(J.jsx)("p",{children:"Date"})}),we.values.compare2.month&&we.values.compare2.year&&Array.apply(null,Array(et()().set({month:we.values.compare2.month,year:we.values.compare2.year}).daysInMonth())).map((function(e,t){return Object(J.jsx)(Dn.a,{value:(t+1).toString(),children:t+1})}))]})),j))]}),Object(J.jsx)("div",{className:"col-md-4",children:Object(J.jsx)(nn.a,(x={variant:"outlined",className:he.formControl},Object(N.a)(x,"className","select2 pull-right"),Object(N.a)(x,"children",Object(J.jsxs)(En.a,{value:we.values.compare2.month,error:(null===(b=we.touched.compare2)||void 0===b?void 0:b.month)&&(null===(h=we.errors.compare2)||void 0===h?void 0:h.month),onBlur:we.handleBlur("compare2.month"),onChange:function(e){we.setFieldValue("compare2.month",e.target.value),we.setFieldValue("compare2.date","")},displayEmpty:!0,className:(he.selectEmpty,he.formControl),inputProps:{"aria-label":"Without label"},children:[Object(J.jsx)(Dn.a,{value:"",children:Object(J.jsx)("p",{children:"Month"})}),Array.apply(null,Array(12)).map((function(e,t){var a=et()().set("month",t).format("MMMM");return Object(J.jsx)(Dn.a,{value:t,children:a})}))]})),x))}),Object(J.jsx)("div",{className:"col-md-4",children:Object(J.jsx)(nn.a,(f={variant:"outlined",className:he.formControl},Object(N.a)(f,"className","select2 pull-right"),Object(N.a)(f,"children",Object(J.jsxs)(En.a,{value:we.values.compare2.year,error:(null===(O=we.touched.compare2)||void 0===O?void 0:O.year)&&(null===(p=we.errors.compare2)||void 0===p?void 0:p.year),onBlur:we.handleBlur("compare2.year"),onChange:function(e){we.setFieldValue("compare2.year",e.target.value),we.setFieldValue("compare2.date","")},displayEmpty:!0,className:(he.selectEmpty,he.formControl),inputProps:{"aria-label":"Without label"},children:[Object(J.jsx)(Dn.a,{value:"",children:Object(J.jsx)("p",{children:"Year"})}),Object(J.jsx)(Dn.a,{value:"2018",children:"2018"}),Object(J.jsx)(Dn.a,{value:"2019",children:"2019"}),Object(J.jsx)(Dn.a,{value:"2020",children:"2020"}),Object(J.jsx)(Dn.a,{value:"2021",children:"2021"})]})),f))}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{})]})]}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-4"}),Object(J.jsx)("div",{className:"col-md-4 text-center",children:Object(J.jsx)(ot.a,{className:"view-btn form-control  my-4  text-center",color:"primary",onClick:we.handleSubmit,size:"small",variant:"text",children:"Compare"})})]})]})}),Object(J.jsx)(nn.a,(g={variant:"outlined",className:he.formControl},Object(N.a)(g,"className","select2  pull-right"),Object(N.a)(g,"children",Object(J.jsxs)(En.a,{value:Y.values.location,onChange:Y.handleChange("location"),displayEmpty:!0,className:(he.selectEmpty,he.formControl),inputProps:{"aria-label":"Without label"},children:[Object(J.jsx)(Dn.a,{value:"",children:Object(J.jsx)("p",{children:"Location"})}),pe.map((function(e){return Object(J.jsx)(Dn.a,{value:e,children:e})}))]})),g)),Object(J.jsx)(nn.a,(w={variant:"outlined",className:he.formControl},Object(N.a)(w,"className","select2 pull-right"),Object(N.a)(w,"children",X===H&&Object(J.jsxs)(En.a,{value:Y.values.graphMonth,onChange:Y.handleChange("graphMonth"),displayEmpty:!0,className:(he.selectEmpty,he.formControl),inputProps:{"aria-label":"Without label"},children:[Object(J.jsx)(Dn.a,{value:"",children:Object(J.jsx)("p",{children:"Month"})}),Array.apply(null,Array(12)).map((function(e,t){var a=et()().set("month",t).format("MMMM");return Object(J.jsx)(Dn.a,{value:t,children:a})}))]})),w))]}),Object(J.jsx)(Nt.a,{})]}),X===Q?Object(J.jsxs)(J.Fragment,{children:[" ",Object(J.jsxs)("div",{className:"container",children:[Object(J.jsx)("div",{className:"d-flex w-100 justify-content-end align-items-center py-3",children:Object(J.jsx)(ot.a,{className:"view-btn",color:"primary",startIcon:Object(J.jsx)(Ia.a,{}),size:"small",variant:"text",onClick:function(){return $(H)},children:"Close"})}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsxs)(re.a,{sx:{height:200,position:"relative",top:20},children:[Object(J.jsx)("h5",{className:"text-center year-pie",children:"< "+Jr(we.values.compare1.date,we.values.compare1.month,we.values.compare1.year)+" >"}),L?Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:Object(J.jsx)(Z,{})}):ae.every((function(e){return 0===e}))?Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:Object(J.jsx)("div",{children:"No data available"})}):Object(J.jsx)(v.Doughnut,{redraw:ae,data:{datasets:[{data:ae,backgroundColor:["#0BA360","#FDA232","#F96E6E"],borderWidth:5,borderColor:Zn.a.common.white,hoverBorderColor:Zn.a.common.white}],labels:["Green Cap","Orange Cap","Red Cap"]},options:me})]})}),Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsxs)(re.a,{sx:{height:200,position:"relative",top:20},children:[Object(J.jsxs)("h5",{className:"text-center year-pie",children:[" ","< "+Jr(we.values.compare2.date,we.values.compare2.month,we.values.compare2.year)+" >"]}),W?Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:Object(J.jsx)(Z,{})}):ie.every((function(e){return 0===e}))?Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:Object(J.jsx)("div",{children:"No data available"})}):Object(J.jsx)(v.Doughnut,{redraw:ie,data:{datasets:[{data:ie,backgroundColor:["#0BA360","#FDA232","#F96E6E"],borderWidth:5,borderColor:Zn.a.common.white,hoverBorderColor:Zn.a.common.white}],labels:["Green Cap","Orange Cap","Red Cap"]},options:me})]})})]})]}),Object(J.jsx)(re.a,{sx:{justifyContent:"center",pt:5,pl:20},children:Object(J.jsxs)("div",{className:"row ",children:[Object(J.jsx)("div",{className:"col-md-4 dots",children:Object(J.jsx)("li",{className:"dot-green",children:"Green Cap"})}),Object(J.jsx)("div",{className:"col-md-4 dots",children:Object(J.jsx)("li",{className:"dot-orange",children:"Orange Cap"})}),Object(J.jsx)("div",{className:"col-md-4 dots",children:Object(J.jsx)("li",{className:"dot-red",children:"Red Cap"})})]})})]}):T?Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:Object(J.jsx)(Z,{})}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(re.a,{sx:{height:200,position:"relative",top:25},children:[Object(J.jsxs)("h5",{className:"dropddown-selection",children:["Month :"," ",et()().set("month",Y.values.graphMonth).format("MMMM")]}),ye.every((function(e){return 0===e}))?Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center",children:Object(J.jsx)("div",{children:"No data available"})}):Object(J.jsx)(v.Doughnut,{redraw:ye,data:{datasets:[{data:ye,backgroundColor:["#0BA360","#FDA232","#F96E6E"],borderWidth:5,borderColor:Zn.a.common.white,hoverBorderColor:Zn.a.common.white}],labels:["Green Cap","Orange Cap","Red Cap"]},options:me})]}),Object(J.jsx)(re.a,{sx:{justifyContent:"center",pt:5,pl:20},children:Object(J.jsxs)("div",{className:"row ",children:[Object(J.jsx)("div",{className:"col-md-4 dots",children:Object(J.jsx)("li",{className:"dot-green",children:"Green Cap"})}),Object(J.jsx)("div",{className:"col-md-4 dots",children:Object(J.jsx)("li",{className:"dot-orange",children:"Orange Cap"})}),Object(J.jsx)("div",{className:"col-md-4 dots",children:Object(J.jsx)("li",{className:"dot-red",children:"Red Cap"})})]})})]})," "]})}))},Xr=(Object(x.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,width:"100%"},selectEmpty:{marginTop:e.spacing(2)}}})),function(e){var t=Object(u.useState)(!0),a=Object(y.a)(t,2),n=a[0],c=a[1],s=Object(u.useState)([]),r=Object(y.a)(s,2),l=r[0],d=r[1],j=Object(u.useState)(!1),b=Object(y.a)(j,2),x=b[0],O=b[1],p=Object(h.i)(),f=Object(m.c)((function(e){return e.auth})).userData,v=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),t={companyIds:null===f||void 0===f?void 0:f.assoc_companies,include:{assessment:!0,sections_category:!1,sections_questions_question:!1}},e.next=5,La.getResponsesByCompanyIds(t);case 5:if(!((a=e.sent.data).code>=400)){e.next=8;break}throw new Error(a.message);case 8:d(a.data.filter((function(e){return(null===e||void 0===e?void 0:e.status)===Q.SUBMITTED})).sort((function(e,t){return et()(t.lastAccessTime).diff(et()(e.lastAccessTime))})).map((function(e,t){var a,n,c;return{ref:t.toString(),Company:null===e||void 0===e?void 0:e.contractorName,Updated:et()(null===e||void 0===e?void 0:e.lastAccessTime).format("DD/MM/YYYY"),assessment:null===e||void 0===e||null===(a=e.assessment)||void 0===a?void 0:a.name,id:e._id,status:(null!==(n=null===e||void 0===e?void 0:e.status)&&void 0!==n?n:"-").onlyFirstCapital(),color:"text-"+(null!==(c=null===e||void 0===e?void 0:e.status)&&void 0!==c?c:"").toLowerCase()}}))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),F()("Error",e.t0.message,"error");case 14:return e.prev=14,c(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){return(null===f||void 0===f?void 0:f.assoc_companies)&&v(),function(){}}),[f]),n?Object(J.jsx)("div",{className:"w-100 h-100 p-5",style:{marginTop:"-2rem"},children:Object(J.jsx)(Ra,{})}):Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(ra.a,{children:[Object(J.jsx)("div",{className:"row"}),Object(J.jsxs)(ha.a,{children:[Object(J.jsx)(re.a,{children:Object(J.jsxs)(xa.a,{children:[Object(J.jsx)(Oa.a,{children:Object(J.jsxs)(pa.a,{children:[Object(J.jsx)(fa.a,{className:"text-center",children:"Company"}),Object(J.jsx)(fa.a,{className:"text-center",children:"Updated On"}),Object(J.jsx)(fa.a,{className:"text-center",children:"Assessment"}),Object(J.jsx)(fa.a,{className:"text-center",children:"Status"})]})}),Object(J.jsx)(ga.a,{children:l.slice(0,x?l.length:5).map((function(e){return Object(J.jsxs)(pa.a,{children:[Object(J.jsx)(fa.a,{className:"text-center",children:e.Company}),Object(J.jsx)(fa.a,{className:"text-center",children:e.Updated}),Object(J.jsx)(fa.a,{className:"text-center",children:Object(J.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return p("/TPI/assessment/".concat(e.id,"/categories"))},children:e.assessment})}),Object(J.jsx)(fa.a,{className:e.color,children:e.status})]})}))})]})}),Object(J.jsx)(re.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:l.length>5&&Object(J.jsx)(ot.a,{className:"view-btn view-btn2",color:"primary",endIcon:Object(J.jsx)(Da.a,{}),size:"small",variant:"",onClick:function(){return O((function(e){return!e}))},children:x?"View Less":"View all"})})]})]})})}),Kr=(a(709),function(){var e=Object(u.useState)(!1),t=Object(y.a)(e,2),a=t[0],n=t[1],c=Object(m.c)((function(e){return e.auth})).userData,s=Object(m.b)(),r=Object(u.useState)([]),i=Object(y.a)(r,2),o=i[0],l=i[1],d=function(){return n(!1)};return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Home | Oren"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsx)("div",{className:"row",children:Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:Object(J.jsx)("ul",{class:"breadcrumb",children:Object(J.jsx)("li",{children:Object(J.jsx)("a",{href:"dashboard",children:"Dashboard"})})})})}),Object(J.jsxs)("div",{className:"col-md-6",children:[Object(J.jsx)(Ua.a,{style:{float:"right"},variant:"",className:"modal-submit-btn",onClick:function(){return n(!0)},children:"Give Feedback"}),Object(J.jsxs)(qa.a,{show:a,onHide:d,backdrop:"static",keyboard:"false",centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{className:"feedback-header",children:"Feedback"}),Object(J.jsx)(Ua.a,{variant:"secondary",className:"feedback-btn",onClick:d,children:Object(J.jsx)(Ia.a,{})})]}),Object(J.jsx)(qa.a.Body,{children:Object(J.jsx)(Xa.a,{initialValues:{feedbackText:""},onSubmit:function(e){return function(e){console.log("Val>>",e);var t={userUid:c.user,userType:c.type,userInfo:{name:c.name,email:c.email},cmp_id:c.cmp_id,cmp_name:c.name,feedbackText:e.feedbackText,attachments:[]};d(),s(en(t,o))}(e)},validationSchema:Ka.e({}),children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.values,c=e.errors,s=e.touched,r=e.setFieldTouched;e.setFieldValue,e.setFieldError;return Object(J.jsxs)("form",{onSubmit:t,children:[Object(J.jsxs)("p",{className:"feedback-title",children:[" ","Share your suggestions or feedback below : "," "]}),Object(J.jsxs)("div",{className:"my-2",children:[Object(J.jsx)(Ya.a.Control,{as:"textarea",placeholder:"Leave a comment here",style:{height:"100px"},onChange:a("feedbackText"),value:n.feedbackText,onFocus:function(){return r("feedbackText")}}),Object(J.jsx)("small",{className:"text-danger form-text",children:s.feedbackText&&c.feedbackText}),Object(J.jsx)("br",{})]}),Object(J.jsxs)("div",{style:{display:"flex"},children:[Object(J.jsx)("div",{children:Object(J.jsx)(Za,{handleFileChanges:function(e){return l(e)},acceptExt:".jpeg, .jpg, .png"})}),Object(J.jsx)("div",{children:Object(J.jsx)(Ua.a,{disabled:""==n.feedbackText,className:"modal-submit-btn",style:{float:"right"},onClick:function(){t()},children:"Submit"})})]})]})}})})]})]})]})}),Object(J.jsxs)(sa.a,{container:!0,spacing:3,children:[Object(J.jsx)(sa.a,{item:!0,lg:6,md:12,xl:9,xs:12,children:Object(J.jsx)(ra.a,{children:Object(J.jsx)(_r,{})})}),Object(J.jsx)(sa.a,{item:!0,lg:6,md:6,xl:3,xs:12,children:Object(J.jsx)(Zr,{sx:{height:"100%"}})}),Object(J.jsx)(sa.a,{item:!0,lg:6,md:6,xl:3,xs:12,children:Object(J.jsx)(Pa,{sx:{height:"100%"}})}),Object(J.jsx)(sa.a,{item:!0,lg:6,md:12,xl:12,xs:12,children:Object(J.jsxs)(ra.a,{sx:{height:"100%"},children:[Object(J.jsx)(da.a,{title:Object(J.jsx)("h2",{children:"Pending Tasks"})}),Object(J.jsx)(Nt.a,{}),Object(J.jsx)(Xr,{})]})})]})]})})]})}),$r=(a(710),function(e){var t=e.assessment,a=(e.status,t.sections.reduce((function(e,t){return t.questions.every((function(e){return"ANSWERED"===e.answerStatus}))&&e.completed++,e}),{completed:0,total:t.sections.length})),n=a.total?Y(a.completed/a.total*100):0;return Object(J.jsx)("div",{class:"col-lg-3 col-12 text-center",children:Object(J.jsxs)("div",{class:"box-column",children:[Object(J.jsxs)("div",{class:"box-top "+t.status.toLowerCase(),children:[Object(J.jsx)("h5",{className:"assess-title",children:t.assessment.name}),Object(J.jsx)("br",{}),Object(J.jsxs)("h5",{className:"assess-title",children:["Score:"," ",t.sections.reduce((function(e,t){return e+t.scoredMarks}),0)," ","/"," ",t.sections.reduce((function(e,t){return e+t.totalMarks}),0)]})]}),Object(J.jsxs)("div",{class:"box-bottom",children:[Object(J.jsx)("div",{class:"box-title facebook-title",children:t.contractorName}),Object(J.jsxs)("div",{class:"box-text",children:["Last Updated:"," ",et()(t.lastAccessTime).format("DD/MM/YYYY"),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-10",children:Object(J.jsx)(An.a,{className:"category-progress-bar catbar ",value:n,variant:"determinate"})}),Object(J.jsx)("div",{className:"col-md-2",children:Object(J.jsxs)("p",{className:" catper ",children:[n,"%"]})})]}),Object(J.jsx)(s.b,{to:"/TPI/assessment/".concat(t._id,"/categories"),children:Object(J.jsx)(Ua.a,{className:"view-btn",color:"primary",endIcon:Object(J.jsx)(Da.a,{}),size:"small",variant:"text",children:"View"})})]})]})]})})}),ei="NTO",ti="OTN",ai=function(e,t,a,n){var c=e;("ALL"!==a&&(c=c.filter((function(e){return e.contractorId===a}))),"ALL"!==t&&(c=c.filter((function(e){return e.status===t}))),n===ei)&&(c=Object(ke.a)(c).sort((function(e,t){return et()(t.lastAccessTime).diff(et()(e.lastAccessTime))})));n===ti&&(c=Object(ke.a)(c).sort((function(e,t){return et()(e.lastAccessTime).diff(et()(t.lastAccessTime))})));return c.map((function(e){return Object(J.jsx)($r,{status:e.status,assessment:e})}))},ni=function(e){var t=e.assessments,a=e.contractors,n=void 0===a?[]:a,c=Object(m.c)((function(e){return e.assessment})).filter,s=Object(m.b)(),r=Object(u.useState)("ALL"),i=Object(y.a)(r,2),o=i[0],l=i[1],d=Object(u.useState)(ei),j=Object(y.a)(d,2),b=j[0],h=j[1];return Object(J.jsx)(re.a,{children:Object(J.jsx)(re.a,{sx:{mt:3},children:Object(J.jsx)(ra.a,{children:Object(J.jsxs)(ia.a,{children:[Object(J.jsxs)("div",{className:"d-flex w-100 justify-content-between align-items-center",children:[Object(J.jsx)("div",{className:"Button",children:["All","Pending","Submitted","Reassessment","Completed"].map((function(e){return Object(J.jsx)("button",{type:"button",className:"btn btn-"+e.toLowerCase(),style:c===e.toUpperCase()?{boxShadow:"0 0 0 0.25rem rgb(13 110 253 / 25%)"}:{},onClick:function(){return t=e.toUpperCase(),void s(ze(t));var t},children:e})}))}),Object(J.jsxs)("div",{style:{marginBottom:"10px"},children:[Object(J.jsxs)(En.a,{startAdornment:Object(J.jsx)(Tn.a,{}),value:b,onChange:function(e){return h(e.target.value)},defaultValue:"",variant:"outlined",style:{marginRight:"1rem",transform:"translateY(.6rem)"},children:[Object(J.jsx)(Dn.a,{value:ei,children:"Newest To Oldest"}),Object(J.jsx)(Dn.a,{value:ti,children:"Oldest To Newest"})]}),Object(J.jsxs)(En.a,{value:o,onChange:function(e){return l(e.target.value)},defaultValue:"ALL",variant:"outlined",style:{marginRight:"1rem"},children:[Object(J.jsx)(Dn.a,{value:"ALL",children:"All Companies"}),0!==n.length?n.map((function(e,t){return Object(J.jsx)(Dn.a,{value:e.user,children:e.name},t)})):null]})]})]}),Object(J.jsx)("div",{className:"category-container",children:Object(J.jsx)("div",{class:"box",children:Object(J.jsx)("div",{class:"pl-24 pr-24",children:Object(J.jsx)("div",{class:"row",children:ai(t,c,o,b)})})})})]})})})})},ci=Object(x.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),si=function(){ci();var e=b.a.useState("ALL"),t=Object(y.a)(e,2),a=(t[0],t[1],Object(m.c)((function(e){return e.assessment}))),n=a.responses,c=a.contractors,s=a.loading,r=Object(m.c)((function(e){return e.auth})).userData,l=Object(m.b)();Object(u.useEffect)((function(){var e;return r&&r.assoc_companies&&l((e=r.assoc_companies,function(){var t=Object(o.a)(i.a.mark((function t(a){var n,c,s,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Qe(!0)),n={companyIds:e,include:{assessment:!0,sections_category:!1,sections_questions_question:!1}},t.next=5,Promise.all([La.getResponsesByCompanyIds(n),La.getAllContractorsByID({companyId:e})]);case 5:if(200===(c=t.sent)[0].status&&200===c[1].status){t.next=8;break}throw new Error("Error in fetching assessments!");case 8:s=c[0].data.data.sort((function(e,t){return et()(t.lastAccessTime).diff(et()(e.lastAccessTime))})),r=c[1].data.data,a(He(s)),a(Ze(r)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),F()({title:"Error",text:t.t0.message,icon:"error",button:"OK"});case 17:return t.prev=17,a(Qe(!1)),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[0,14,17,20]])})));return function(e){return t.apply(this,arguments)}}())),function(){}}),[r]);return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Assessment | Oren"})}),s&&Object(J.jsx)(X,{}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:Object(J.jsx)("ul",{class:"breadcrumb",children:Object(J.jsx)("li",{children:Object(J.jsx)("a",{href:"Assessment",children:"Assessment"})})})})}),Object(J.jsx)("div",{className:"col-md-6"})]}),Object(J.jsx)(ni,{assessments:n,contractors:c}),Object(J.jsx)(re.a,{sx:{pt:3}})]})})]})},ri=a(347),ii=a.n(ri),oi=(a(488),function(e){var t,a=e.category,n=e.responseId,c=e.isActive,r=void 0!==c&&c;return Object(J.jsxs)(J.Fragment,{children:[" ",Object(J.jsxs)("h4",{className:"d-flex align-items-center",children:[Object(J.jsx)(s.b,{to:"/TPI/assessment/".concat(n,"/categories/").concat(a._id),className:"link-title".concat(r?"":"--disabled"),children:null===a||void 0===a||null===(t=a.category)||void 0===t?void 0:t.name}),a.questions.some((function(e){return"REJECTED"===(null===e||void 0===e?void 0:e.assessStatus)}))&&Object(J.jsx)(uc.a,{style:{marginLeft:".5rem"},color:"error"})]}),Object(J.jsx)(An.a,{className:"category-progress-bar",value:a.questions.filter((function(e){return"NONE"!==(null===e||void 0===e?void 0:e.assessStatus)})).length/a.questions.length*100,variant:"determinate"}),Object(J.jsxs)("p",{className:"category-progress-percentage",children:[Y(a.questions.filter((function(e){return"NONE"!==(null===e||void 0===e?void 0:e.assessStatus)})).length/a.questions.length*100),"%"]}),Object(J.jsxs)("h5",{className:"status",children:["Status :"," ",a.questions.filter((function(e){return"NONE"!==(null===e||void 0===e?void 0:e.assessStatus)})).length===a.questions.length?Object(J.jsx)("span",{className:"status-title",children:"Complete"}):Object(J.jsx)("span",{className:"primary-red",children:"Incomplete"})]})]})}),li=function(e){var t=e.categories,a=e.responseId,n=e.setLoading,c=e.status,s=e.fetchAssessmentResponseById,r=e.dueDate,l=void 0===r?"":r,d="ACCEPTED",j="NONE",b=Object(m.c)((function(e){return e.auth})).userData,h=Object(u.useState)(!1),x=Object(y.a)(h,2),O=x[0],p=x[1],f=Object(u.useState)(j),v=Object(y.a)(f,2),g=v[0],N=v[1],w=Object(u.useState)(l),k=Object(y.a)(w,2),C=k[0],S=k[1],A=function(e,t){return Object(o.a)(i.a.mark((function c(){var r;return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,E(),n(!0),r={responseId:a,status:e,updatedBy:{name:null===b||void 0===b?void 0:b.name,userType:null===b||void 0===b?void 0:b.type,uid:D.currentUser.uid}},t&&(r.extendedDueDate=t),c.next=7,La.changeResponseStatus(r);case 7:if(!(c.sent.status>=400)){c.next=10;break}throw new Error("Error in submitting assessment!");case 10:return c.next=12,s();case 12:F()("Success","Changed assessment status to ".concat(e.onlyFirstCapital()),"success"),c.next=18;break;case 15:c.prev=15,c.t0=c.catch(0),F()({title:"Error",text:c.t0.message,icon:"error",button:"OK"});case 18:return c.prev=18,n(!1),c.finish(18);case 21:case"end":return c.stop()}}),c,null,[[0,15,18,21]])})))},E=function(){p(!1),N(j)};return Object(J.jsxs)(re.a,{children:[Object(J.jsx)(re.a,{sx:{mt:3},children:Object(J.jsx)(ra.a,{children:Object(J.jsxs)(ia.a,{children:[Object(J.jsxs)("div",{className:"Category",children:[Object(J.jsx)("h2",{children:"Categories"}),Object(J.jsx)("hr",{})]}),Object(J.jsx)("div",{className:"category-container",children:Object(J.jsx)("div",{className:"row",children:t.map((function(e){return Object(J.jsx)("div",{className:"col-md-6 col-12 pr-4",children:Object(J.jsx)("div",{className:"row",children:Object(J.jsx)("div",{className:"col-md-10 col-12",children:Object(J.jsx)(oi,{category:e,responseId:a,isActive:!_.TPI.NOASSESS_STATES.includes(c)})})})})}))})}),Object(J.jsxs)("div",{className:"d-flex w-100 justify-content-center py-2",children:[Object(J.jsx)("button",{className:"btn btn-reassessment",onClick:function(){return p(!0)},disabled:"REASSESSMENT"===c||!(t.every((function(e){return e.questions.every((function(e){return"NONE"!==e.assessStatus}))}))&&t.some((function(e){return e.questions.some((function(e){return"REJECTED"===e.assessStatus}))}))),children:"Mark for Reassessment"}),Object(J.jsx)("button",{className:"btn btn-completed",onClick:A("COMPLETED"),disabled:"COMPLETED"===c||t.some((function(e){return e.questions.some((function(e){return"ACCEPTED"!==e.assessStatus}))})),children:"Mark as Completed"})]})]})})}),Object(J.jsx)(qa.a,{size:"md",show:O,onHide:E,backdrop:"static",keyboard:!1,centered:!0,children:Object(J.jsxs)(qa.a.Body,{children:[Object(J.jsx)("div",{className:"d-flex w-100 justify-content-end",children:Object(J.jsx)(Ia.a,{onClick:E})}),Object(J.jsxs)("div",{className:"d-flex w-100 h-100 justify-content-center align-items-center flex-column",children:[g===j&&Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(ii.a,{fontSize:"large",style:{color:"#F5CD6A",height:"4rem",width:"4rem"}}),Object(J.jsx)("div",{className:"mt-3",style:{fontSize:"1.2rem",textAlign:"center"},children:"Do you want to change due date for this assessment?"}),Object(J.jsxs)("div",{className:"d-flex my-4",children:[Object(J.jsx)(Ua.a,{variant:"danger",className:"mx-2",size:"lg",onClick:function(){return N(d)},children:"Yes"}),Object(J.jsx)(Ua.a,{style:{backgroundColor:"#E8E8E8"},variant:"light",className:"mx-2",size:"lg",onClick:A("REASSESSMENT"),children:"No"})]})]}),g===d&&Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(ii.a,{fontSize:"large",style:{color:"#F5CD6A",height:"4rem",width:"4rem"}}),Object(J.jsxs)("div",{className:"w-100 text-center d-flex justify-content-center align-items-center",style:{marginTop:"2rem"},children:[Object(J.jsx)("div",{children:"New Due Date"}),Object(J.jsx)(ie.a,{type:"date",onChange:function(e){return S(e.target.value)},inputProps:{min:et()(l).format("YYYY-MM-DD").toString()},defaultValue:et()(l).format("YYYY-MM-DD").toString(),style:{height:"auto",marginLeft:"1rem",fontSize:"1.3rem"},InputLabelProps:{shrink:!0}})]}),Object(J.jsx)("button",{className:"btn btn-reassessment my-3",onClick:A("REASSESSMENT",C),children:"Mark For Reassessment"})]})]})]})})]})},di=function(){var e,t=Object(h.j)().responseId,a=Object(u.useState)(null),n=Object(y.a)(a,2),c=n[0],r=n[1],l=Object(u.useState)(!1),d=Object(y.a)(l,2),j=d[0],b=d[1],m=function(){var e=Object(o.a)(i.a.mark((function e(){var a,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),a={responseId:t,include:{assessment:!0,sections_category:!0,sections_questions_question:!1}},e.next=5,La.getResponseById(a);case 5:n=e.sent,c=n.data.data,r(c),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",F()({title:"Error",text:"Error in fetching assessment",icon:"error",button:"OK"}));case 14:return e.prev=14,b(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){return m(),function(){}}),[t]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Categories | Oren"})}),j&&Object(J.jsx)(X,{}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsx)("h5",{children:Object(J.jsxs)("ul",{class:"breadcrumb",children:[Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/TPI/Assessment",children:"Assessment"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/TPI/assessment/".concat(t,"/categories"),children:"Categories"})})]})}),(null===c||void 0===c?void 0:c.sections)&&Object(J.jsx)(li,{categories:null===c||void 0===c?void 0:c.sections,responseId:t,setLoading:b,status:null===c||void 0===c?void 0:c.status,fetchAssessmentResponseById:m,dueDate:(null===c||void 0===c?void 0:c.isDueDateExtended)?null===c||void 0===c?void 0:c.newDueDate:null===c||void 0===c||null===(e=c.assessment)||void 0===e?void 0:e.dueDate}),Object(J.jsx)(re.a,{sx:{pt:3}})]})})]})},ji=(a(711),function(){var e=Object(o.a)(i.a.mark((function e(t,a,n){var c,s,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name.trim().replace(/\s+/g,"_"),s="assessment/".concat(a,"/").concat(n,"/").concat(V(5),"-").concat(c),r=T.ref(s),e.next=5,r.put(t);case 5:return e.next=7,r.getDownloadURL();case 7:return o=e.sent,e.abrupt("return",{fileName:c,filePath:s,fileLink:o,fileSize:t.size,fileType:t.type});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),ui=Object(x.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},withoutLabel:{marginTop:e.spacing(3)}}})),bi=function(e){var t=e.question,a=e.index,n=e.formik,c=e.response,s="questions.".concat(a,"."),r=b.a.useState(null),i=Object(y.a)(r,2),o=i[0],l=i[1],d=Object(u.useState)(!1),j=Object(y.a)(d,2),h=j[0],x=j[1],O=Object(u.useState)(!1),p=Object(y.a)(O,2),f=p[0],v=p[1],g=Object(m.c)((function(e){return e.auth})).userData,N=function(){l(null)};return Object(u.useEffect)((function(){console.log("QuestionRow",{userData:g})}),[g]),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-1 table-title d-flex justify-content-center align-items-center border-end",children:Object(J.jsxs)("div",{className:"my-3",children:["REJECTED"===(null===t||void 0===t?void 0:t.assessStatus)&&Object(J.jsx)(Ec.a,{className:"wrong",style:{color:Dc.a[500]}}),"ACCEPTED"===(null===t||void 0===t?void 0:t.assessStatus)&&Object(J.jsx)(qc.a,{className:"correct",style:{color:Tc.a[500]}})]})}),Object(J.jsx)("div",{className:"col-4 d-flex justify-content-start align-items-center border-end",children:Object(J.jsx)("div",{className:"my-3",children:Object(J.jsxs)("h2",{children:[a+1,". ",t.question.questText]})})}),Object(J.jsxs)("div",{className:"col-2 table-title d-flex justify-content-center align-items-center border-end",children:[t.answer.yesNo?Object(J.jsx)("div",{className:"sub-title company-res my-3 text-center",children:Object(J.jsx)("h5",{className:"text-success",children:"Yes"})}):Object(J.jsx)("div",{className:"sub-title my-3 company-res text-center",children:Object(J.jsx)("h5",{className:"text-danger",children:" No "})}),t.answer.text&&Object(J.jsx)("div",{className:"sub-title my-3 company-res text-center",children:Object(J.jsxs)("h5",{className:"",children:[", ",t.answer.text]})})]}),Object(J.jsx)("div",{className:"col-2 table-title  d-flex justify-content-center align-items-center border-end",children:Object(J.jsxs)("div",{className:"btn-group btn-group-toggle","data-toggle":"buttons",children:[Object(J.jsx)("div",{style:{marginRight:15},children:Object(J.jsxs)("label",{className:"btn btn-outline-success ".concat("ACCEPTED"===(null===t||void 0===t?void 0:t.assessStatus)&&"active"),children:[Object(J.jsx)("input",{type:"radio",hidden:!0,onChange:function(){n.setFieldValue(s+"assessStatus","ACCEPTED")},name:"options",id:"option1"})," ",Object(J.jsx)("div",{style:{marginTop:4},children:"Accept"})]})}),Object(J.jsx)("div",{children:Object(J.jsxs)("label",{className:"btn btn-outline-danger ".concat("REJECTED"===(null===t||void 0===t?void 0:t.assessStatus)&&"active"),children:[Object(J.jsx)("input",{type:"radio",hidden:!0,onChange:function(){n.setFieldValue(s+"assessStatus","REJECTED")},name:"options",id:"option2"})," ",Object(J.jsx)("div",{style:{marginTop:4},children:"Reject"})]})})]})}),Object(J.jsxs)("div",{className:"col-3 d-flex justify-content-center align-items-center",children:[" ",Object(J.jsxs)("div",{className:"my-3 d-flex",children:[Object(J.jsx)(Ua.a,{variant:"",className:"chat-btn",onClick:function(){return x(!0)},children:Object(J.jsx)(Bc.a,{})}),Object(J.jsx)(Ua.a,{variant:"",className:"attach-btn",children:Object(J.jsx)("label",{for:"file-input-".concat(a),className:"file response-file",children:Object(J.jsx)(Ja.a,{})})}),Object(J.jsxs)("div",{children:[Object(J.jsx)(Ua.a,{style:{marginLeft:"10px"},variant:"",className:"attach-btn",onClick:function(e){return l(e.currentTarget)},children:Object(J.jsx)("label",{className:"file",children:Object(J.jsx)(Sc.a,{})})}),Object(J.jsxs)(kc.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:N,children:[0==(null===n||void 0===n?void 0:n.values.questions[a].answer.attachment.length)&&Object(J.jsx)(Dn.a,{children:Object(J.jsx)("p",{children:"No files available"})}),null===n||void 0===n?void 0:n.values.questions[a].answer.attachment.map((function(e,t){return Object(J.jsx)(Dn.a,{onClick:N,children:Object(J.jsx)("p",{className:"file-name mx-2 my-2",children:(null===e||void 0===e?void 0:e.name)||Object(J.jsx)("a",{href:null===e||void 0===e?void 0:e.fileLink,target:"blank",children:null===e||void 0===e?void 0:e.fileName})})},t)}))]})]}),Object(J.jsx)("input",{id:"file-input-".concat(a),type:"file",style:{display:"none"},required:!0,onChange:function(e){console.log(typeof e.target.files[0]),n.setFieldValue(s+"answer.attachment.".concat(null===n||void 0===n?void 0:n.values.questions[a].answer.attachment.length),e.target.files[0])},accept:"image/*, .doc, .csv,.xls, .xlsx, .docx, application/pdf, application/msword, application/vnd.ms-powerpoint,.ppt, .pptx"})]})]}),t&&c?Object(J.jsx)(Mc,{sendFile:f,setSendFile:v,show:h,handleClose:function(){return x(!1)},question:t,response:c,uid:g.tpiId,type:g.type,name:g.name}):null]})},mi=function(e){var t=e.section,a=e.setLoading,n=e.responseId,c=e.response,s=Object(h.i)(),r=Object(m.c)((function(e){return e.auth})).userData,l=Object(u.useState)(n),d=Object(y.a)(l,2),j=d[0],x=(d[1],function(){var e=Object(o.a)(i.a.mark((function e(c){var o,l,d,u,b,m,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=c.questions.every((function(e){return"ACCEPTED"===e.assessStatus})),console.log("\ud83d\ude80 ~ file: Checklistcomponent.js ~ line 191 ~ handleSectionSubmit ~ areAllAccepted",o),l=!c.scoredMarks||+c.scoredMarks<=0,console.log("\ud83d\ude80 ~ file: Checklistcomponent.js ~ line 193 ~ handleSectionSubmit ~ isScoreValid",l),!o||!l){e.next=6;break}return e.abrupt("return",F()("","Please enter the score","warning"));case 6:e.prev=6,a(!0),d={assesRespId:n,responseData:c,sectionId:t._id},u=0;case 10:if(!(u<c.questions.length)){e.next=25;break}b=c.questions[u],m=0;case 13:if(!(m<b.answer.attachment.length)){e.next=22;break}if(!(null===(h=b.answer.attachment[m])||void 0===h?void 0:h.arrayBuffer)){e.next=19;break}return e.next=18,ji(h,n,t._id);case 18:c.questions[u].answer.attachment[m]=e.sent;case 19:m++,e.next=13;break;case 22:u++,e.next=10;break;case 25:return e.next=27,La.updateSectionInResponse(d);case 27:if(!(e.sent.data.code>=400)){e.next=30;break}throw new Error("Error in saving response!");case 30:4==r.type?F()("Saved","Your response is saved","success").then((function(){return s("/TPI/assessment/".concat(n,"/categories"))})):F()("Saved","Your response is saved","success").then((function(){return s("/adani/cap_assesmentview/".concat(j))})),e.next=36;break;case 33:e.prev=33,e.t0=e.catch(6),F()({title:"Error",text:e.t0.message,icon:"error",button:"OK"});case 36:return e.prev=36,a(!1),e.finish(36);case 39:case"end":return e.stop()}}),e,null,[[6,33,36,39]])})));return function(t){return e.apply(this,arguments)}}()),O=ui(),p=b.a.useState({amount:"",password:"",weight:"",weightRange:"",showPassword:!1}),f=Object(y.a)(p,2),v=(f[0],f[1],Object(Xa.b)({initialValues:t,onSubmit:x,validationSchema:Ka.e().shape({scoredMarks:Ka.d().max((null===t||void 0===t?void 0:t.totalMarks)||0).test("isPositive","Marks should be positive",(function(e){return e>=0})).label("Marks")})}));return Object(J.jsx)(re.a,{children:Object(J.jsxs)(re.a,{sx:{mt:3},children:[Object(J.jsx)(ra.a,{children:Object(J.jsx)(ia.a,{children:Object(J.jsxs)("div",{className:"checklist-container",children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-12 col-md-4",children:Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-start align-items-center",children:Object(J.jsx)("div",{className:"category-title",children:Object(J.jsx)("h4",{children:v.values.category.name})})})}),Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsxs)("div",{className:"d-flex w-100 h-100 justify-content-start align-items-center",children:[Object(J.jsx)(An.a,{className:"checklist-tpi-progress-bar",value:v.values.questions.filter((function(e){return"NONE"!==(null===e||void 0===e?void 0:e.assessStatus)})).length/v.values.questions.length*100,variant:"determinate"}),Object(J.jsxs)("div",{className:"checklist-tpi-progress-percentage",children:[Y(v.values.questions.filter((function(e){return"NONE"!==(null===e||void 0===e?void 0:e.assessStatus)})).length/v.values.questions.length*100),"%"]})]})}),Object(J.jsx)("div",{className:"col-md-2",children:Object(J.jsxs)("div",{className:"d-flex w-100 justify-content-end align-items-center",children:[Object(J.jsx)("div",{children:"Score : "}),Object(J.jsx)("div",{children:Object(J.jsx)(nn.a,{className:Object(kr.a)(O.margin,O.textField),style:{maxWidth:"45px",marginLeft:"1rem"},variant:"outlined",children:Object(J.jsx)(sn.a,{disabled:v.values.questions.some((function(e){return"ACCEPTED"!==e.assessStatus})),style:{height:"1.8rem"},error:v.errors.scoredMarks,value:v.values.scoredMarks,onChange:v.handleChange("scoredMarks"),"aria-describedby":"outlined-weight-helper-text",inputProps:{"aria-label":"weight"},labelWidth:0})})}),Object(J.jsx)("div",{style:{marginLeft:"8px"},children:Object(J.jsx)("span",{style:{fontSize:"14px"},children:" / ".concat(v.values.totalMarks)})})]})})]}),Object(J.jsx)("hr",{}),Object(J.jsxs)("div",{className:"Checklist-container2",children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-1 table-title border-end",children:Object(J.jsx)("div",{className:"",children:"Status"})}),Object(J.jsx)("div",{className:"col-md-4 table-title border-end",children:Object(J.jsx)("div",{className:"",children:"Topic"})}),Object(J.jsx)("div",{className:"col-md-2 table-title border-end",children:Object(J.jsx)("div",{className:"",children:"Company Response"})}),Object(J.jsx)("div",{className:"col-md-2 table-title border-end",children:Object(J.jsx)("div",{className:"",children:"Your Response"})}),Object(J.jsx)("div",{className:"col-md-3 table-title text-center",children:Object(J.jsx)("div",{className:"",children:"Remarks"})})]}),v.values.questions.map((function(e,a){return Object(J.jsx)(bi,{section:t,response:c,question:e,index:a,formik:v})}))]})]})})}),Object(J.jsx)("div",{children:Object(J.jsx)("div",{className:"d-flex w-100 justify-content-center py-4",children:Object(J.jsx)("button",{type:"button",className:"btn",style:{backgroundColor:"white",border:"1px solid #1e2b56"},onClick:v.handleSubmit,children:Object(J.jsxs)("span",{style:{fontWeight:"600",color:"#081D29"},children:[" ","Save"," "]})})})})]})})},hi=function(){var e=Object(h.i)(),t=Object(m.c)((function(e){return e.auth})).userData,a=Object(h.j)(),n=a.responseId,c=a.categoryId,r=Object(u.useState)(null),l=Object(y.a)(r,2),d=l[0],j=l[1],b=Object(u.useState)(null),x=Object(y.a)(b,2),O=x[0],p=x[1],f=Object(u.useState)(!1),v=Object(y.a)(f,2),g=v[0],N=v[1],w=function(){var t=Object(o.a)(i.a.mark((function t(){var a,s,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,N(!0),a={responseId:n,include:{assessment:!1,sections_category:!0,sections_questions_question:!0}},t.next=5,La.getResponseById(a);case 5:if(s=t.sent,r=s.data.data,!_.TPI.NOASSESS_STATES.includes(null===r||void 0===r?void 0:r.status)){t.next=9;break}return t.abrupt("return",e("/TPI/assessment",{replace:!0}));case 9:j(r),p(r.sections.find((function(e){return e._id===c}))),t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",F()({title:"Error",text:"Error in fetching assessment",icon:"error",button:"OK"}));case 17:return t.prev=17,N(!1),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[0,13,17,20]])})));return function(){return t.apply(this,arguments)}}();return Object(u.useEffect)((function(){return console.log(c,n),n&&c&&w(),function(){}}),[n,c]),Object(J.jsxs)(J.Fragment,{children:[g&&Object(J.jsx)(X,{}),Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Checklist | Oren"})}),O&&Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsx)("h2",{children:4==t.type?Object(J.jsxs)("ul",{class:"breadcrumb",children:[Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/TPI/Assessment",children:"Assessment"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/TPI/assessment/".concat(n,"/categories"),children:"Categories"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/TPI/assessment/".concat(n,"/categories/").concat(c),children:"Checklist"})})]}):Object(J.jsxs)("ul",{class:"breadcrumb",children:[Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/Assessment",children:"Assessment"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/cap_assesmentview/".concat(n),children:"Categories"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/cap_assesmentview/".concat(n,"/Categories/").concat(c),children:"Checklist"})})]})}),Object(J.jsx)(mi,{section:O,setLoading:N,responseId:n,response:d}),Object(J.jsx)(re.a,{sx:{pt:3}})]})})]})},xi=function(e){var t,a=Object(h.i)(),n=Object(u.useState)(null),c=Object(y.a)(n,2),r=c[0],l=c[1],d=Object(m.c)((function(e){return e.auth})),j=d.userData,b=d.loading,O=Object(m.b)(),p=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Object(K.a)({},t)).mobile="+91"+n.mobile,!r){e.next=7;break}return e.next=5,W(r,j.companyId);case 5:c=e.sent,n.profileImage={fileName:c.fileName,fileLink:c.fileLink,filePath:c.filePath,fileSize:c.fileSize};case 7:return O(he(!0)),e.next=10,Promise.all([sr(n.mobile),tr(n.mobile),or(n.mobile)]).then((function(e){return e.some((function(e){return!0===e}))}));case 10:if(!e.sent){e.next=16;break}return F()({title:"Error",text:"Phone no already exists",icon:"error",button:"Ok"}),O(he(!1)),e.abrupt("return");case 16:return e.next=18,Promise.all([rr(n.emailid),ar(n.emailid),lr(n.emailid)]).then((function(e){return e.some((function(e){return!0===e}))}));case 18:if(!e.sent){e.next=24;break}return F()({title:"Error",text:"Email already exists",icon:"error",button:"Ok"}),O(he(!1)),e.abrupt("return");case 24:return e.next=26,ir(n.name);case 26:if(!e.sent){e.next=30;break}return F()({title:"Error",text:"Name no alredy exists",icon:"error",button:"Ok"}),O(he(!1)),e.abrupt("return");case 30:return n.cmp_id=j.companyId,n.cmp_name=j.name,e.next=34,O(ws(n,a));case 34:O(he(!1));case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=Object(x.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"75%"}}}}))();return Object(J.jsxs)(J.Fragment,{children:[b&&Object(J.jsx)(X,{}),Object(J.jsx)("div",{style:{marginTop:"2%",marginLeft:"1%"},className:"row",children:Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:Object(J.jsxs)("ul",{class:"breadcrumb",children:[Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/companies",children:"Users"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"",children:"Add Company"})})]})})})}),Object(J.jsx)(re.a,Object(K.a)(Object(K.a)({style:{marginLeft:"2%",marginRight:"2%"}},e),{},{children:Object(J.jsx)(re.a,{children:Object(J.jsx)(ra.a,{children:Object(J.jsx)(ia.a,{children:Object(J.jsx)("div",{className:"row",children:Object(J.jsx)(Xa.a,{initialValues:{code:null!==(t=null===j||void 0===j?void 0:j.code)&&void 0!==t?t:"",name:"",mobile:"",emailid:"",location:"",contactPersonName:""},onSubmit:function(e){return p(e)},validationSchema:Ka.e({name:Ka.g().required("Name is required").matches(/^[A-Za-z/' ]+$/,"Name is invalid"),location:Ka.g().required("Location is required"),emailid:Ka.g().required("Email is required").email("Please enter valid email"),mobile:Ka.g().required("Phone no is required").min(10,"Phone no is invalid").max(10,"Phone no is invalid"),contactPersonName:Ka.g().required("Name is required").matches(/^[A-Za-z/' ]+$/,"Name is invalid")}),children:function(e){var t,a=e.handleSubmit,n=e.handleChange,c=e.values,s=e.errors,r=e.touched,i=e.setFieldTouched;e.setFieldValue,e.setFieldError;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)("form",{className:f.root,onSubmit:a,children:Object(J.jsxs)("div",{className:"col-md-12",children:[Object(J.jsx)("h2",{children:"Add Company"}),Object(J.jsxs)("div",{className:"image-btn my-4",children:[Object(J.jsx)(er,{handleFileChanges:function(e){return l(e)},acceptExt:".jpg, .png"}),Object(J.jsx)("p",{children:"(Format type : .jpg , .png)"})]}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{id:"standard-basic",label:"Location",variant:"standard",className:"my-2 form-control",onChange:n("location"),value:c.location,onFocus:function(){return i("location")}})}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:r.location&&s.location}),Object(J.jsx)("br",{})]})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{id:"standard-basic",label:"E-mail ID",variant:"standard",className:"my-2 form-control",onChange:n("emailid"),value:c.emailid,onFocus:function(){return i("emailid")}})}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:r.emailid&&s.emailid}),Object(J.jsx)("br",{})]})]})]}),Object(J.jsx)("div",{className:"col-md-1"}),Object(J.jsxs)("div",{className:"col-md-6",children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{id:"standard-basic",label:"Company Name",variant:"standard",className:"my-2 form-control",onChange:n("name"),value:c.name,onFocus:function(){return i("name")}})}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:r.name&&s.name}),Object(J.jsx)("br",{})]}),Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{id:"standard-basic",label:"Phone Number",variant:"standard",className:"my-2 form-control",onChange:n("mobile"),value:c.mobile,onFocus:function(){return i("mobile")}})}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:r.mobile&&s.mobile}),Object(J.jsx)("br",{})]}),Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{id:"standard-basic",label:"Contact Person Name",variant:"standard",className:"my-2 form-control",onChange:n("contactPersonName"),value:c.contactPersonName,onFocus:function(){return i("contactPersonName")}})}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:r.contactPersonName&&s.contactPersonName}),Object(J.jsx)("br",{})]})]})]}),Object(J.jsx)("div",{className:"addbutton my-2",children:Object(J.jsx)(Ua.a,(t={className:"modal-submit-btn"},Object(N.a)(t,"className","view-btn "),Object(N.a)(t,"color","primary"),Object(N.a)(t,"size","small"),Object(N.a)(t,"onClick",a),Object(N.a)(t,"children","Add"),t))})]})})})}})})})})})}))]})},Oi=[{label:"S.no",field:"sno",sort:"asc",width:150},{label:"Company Name",field:"companyName",width:10},{label:"Location",field:"location",width:10},{label:"Mobile",field:"mobile",width:10},{label:"E-mail",field:"email",width:10},{label:"Contact Person",field:"contactperson",width:10},{label:"Actions",field:"action",sort:"disabled",width:10}];function pi(){var e=Object(h.i)(),t=Object(m.b)(),a=Object(m.c)((function(e){return e.auth})).userData,n=Object(m.c)((function(e){return e.auditors})).allContrators;Object(u.useEffect)((function(){a&&(null===a||void 0===a?void 0:a.companyId)&&(t(Ss(a.companyId)),console.log("CONTRACTOR",n))}),[]);var c=function(){var e=Object(o.a)(i.a.mark((function e(n,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{F()({title:"Are you sure?",text:"You want to ".concat(1==n.isActive?"disable":"enable"," this user"),icon:"warning",buttons:!0,dangerMode:!0}).then(function(){var e=Object(o.a)(i.a.mark((function e(c){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=8;break}return s={contractorId:n.user,disable:1==n.isActive},e.next=4,t(Ts(s));case 4:return e.next=6,t(Ss(a.companyId));case 6:e.next=9;break;case 8:t(Ss(a.companyId));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(c){F()({title:"Error",text:c.message,icon:"error",button:"Ok"})}case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(J.jsx)(Ma.c,{className:"my-3",disableRetreatAfterSorting:!0,searchTop:!0,searchBottom:!1,entriesOptions:[5,10,20],entries:5,pagesAmount:6,data:{columns:Oi,rows:n?n.map((function(n,s){return{sno:n.isActive?Object(J.jsx)("div",{children:s+1}):Object(J.jsx)("div",{style:{color:"#BDBDBD"},children:s+1}),companyName:n.isActive?Object(J.jsx)("div",{children:n.name}):Object(J.jsx)("div",{style:{color:"#BDBDBD"},children:n.name}),location:n.isActive?Object(J.jsx)("div",{children:n.location}):Object(J.jsx)("div",{style:{color:"#BDBDBD"},children:n.location}),mobile:n.isActive?Object(J.jsx)("div",{children:n.mobile}):Object(J.jsx)("div",{style:{color:"#BDBDBD"},children:n.mobile}),email:n.isActive?Object(J.jsx)("div",{children:n.emailid||n.emailId}):Object(J.jsx)("div",{style:{color:"#BDBDBD"},children:n.emailid||n.emailId}),contactperson:n.isActive?Object(J.jsx)("div",{children:n.contactPersonName}):Object(J.jsx)("div",{style:{color:"#BDBDBD"},children:n.contactPersonName}),action:Object(J.jsxs)(b.a.Fragment,{children:[Object(J.jsx)("button",{disabled:!n.isActive,onClick:Object(o.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(we(n));case 2:e("/adani/EditCompany");case 3:case"end":return a.stop()}}),a)}))),type:"button",className:"btn btns-users btn-edit",children:Object(J.jsx)(Os.a,{className:"icons-users"})}),Object(J.jsx)("button",{disabled:!n.isActive,onClick:function(){var e;e=n,F()({title:"Delete",text:"Are you sure,You want to delete ".concat(e.name,"?"),icon:"warning",buttons:!0,dangerMode:!0}).then(function(){var n=Object(o.a)(i.a.mark((function n(c){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!c){n.next=5;break}return n.next=3,t(Es(e));case 3:return n.next=5,t(Ss(a.companyId));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},type:"button",className:"btn btns-users  btn-delete",children:Object(J.jsx)(fs.a,{className:"icons-users"})}),Object(J.jsx)("button",{disabled:!n.isActive,onClick:Object(o.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(we(n));case 2:e("/adani/ViewCompany");case 3:case"end":return a.stop()}}),a)}))),type:"button",className:"btn btns-users btn-visibility",children:Object(J.jsx)(gs.a,{className:"icons-users"})}),Object(J.jsx)("button",{onClick:function(){c(n,s)},type:"button",className:"btn btns-users btn-block",children:n.isActive?Object(J.jsx)(hs.a,{className:"icons-users"}):Object(J.jsx)(qc.a,{className:"icons-users"})})]})}})):null}})}var fi=Object(x.a)((function(e){return Object(O.a)({scroller:{"& > .MuiTabs-scroller  > .MuiTabs-flexContainer":{}}})})),vi=function(){var e=fi(),t=Object(h.i)(),a=Object(m.c)((function(e){return e.auditors})).loading;return Object(J.jsxs)(J.Fragment,{children:[a&&Object(J.jsx)(X,{}),Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Users | Oren"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"d-flex flex-row justify-content-center alighn-items-center",children:Object(J.jsxs)(us.a,{className:e.scroller,children:[Object(J.jsx)(bs.a,{style:{minWidth:0,minHeight:0,padding:".9rem 2.2rem",borderTop:"1px solid #000000a6",borderLeft:"1px solid #000000a6",borderBottom:"1px solid #000000a6"},className:"tab-title",onClick:function(){return t("/adani/users")},label:"Auditors"}),Object(J.jsx)(bs.a,{style:{minWidth:0,minHeight:0,padding:".9rem 2rem",borderTop:"1px solid #000000a6",borderRight:"1px solid #000000a6",borderBottom:"1px solid #000000a6"},className:"view-btn",onClick:function(){return t("/adani/companies")},label:"Company"})]})}),Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:Object(J.jsx)("ul",{class:"breadcrumb",children:Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/companies",children:"Companies"})})})})}),Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("div",{children:Object(J.jsx)(s.b,{to:"/adani/add_company",children:Object(J.jsx)(ot.a,{style:{float:"right"},className:"modal-submit-btn view-btn",color:"primary",size:"small",variant:"text",children:"Add Company"})})})})]}),Object(J.jsx)(ra.a,{className:"col-sm-12",children:Object(J.jsx)(pi,{})}),Object(J.jsx)(re.a,{sx:{pt:3}})]})})]})},gi=function(e){var t=Object(h.i)(),a=Object(u.useState)([]),n=Object(y.a)(a,2),c=(n[0],n[1]),r=Object(m.b)(),l=Object(m.c)((function(e){return e.auditors})),d=l.loading,j=l.currentAuditor,b=Object(u.useState)({isDeleted:!1,file:null}),O=Object(y.a)(b,2),p=O[0],f=O[1],v=Object(u.useState)(!1),g=Object(y.a)(v,2),N=(g[0],g[1]);Object(u.useEffect)((function(){f({isDeleted:!1,file:j.profileImage})}),[]);var w=function(){var e=Object(o.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(he(!0)),e.next=3,tr(a.phoneNo);case 3:if(!e.sent){e.next=8;break}return F()({title:"Error",text:"Phone no alredy exists",icon:"error",button:"Ok"}),e.abrupt("return");case 8:return e.next=10,cr(a.code);case 10:if(!e.sent){e.next=15;break}return F()({title:"Error",text:"Code no alredy exists",icon:"error",button:"Ok"}),e.abrupt("return");case 15:return e.next=17,ar(a.email);case 17:if(!e.sent){e.next=22;break}return F()({title:"Error",text:"Email no alredy exists",icon:"error",button:"Ok"}),e.abrupt("return");case 22:return e.next=24,nr(a.name);case 24:if(!e.sent){e.next=27;break}return F()({title:"Error",text:"Name no alredy exists",icon:"error",button:"Ok"}),e.abrupt("return");case 27:r(ys(a,t)),r(he(!1));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=Object(x.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"75%"}}}}))();return Object(J.jsxs)(J.Fragment,{children:[d&&Object(J.jsx)(X,{}),Object(J.jsx)("div",{style:{marginTop:"2%",marginLeft:"1%"},className:"row",children:Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:Object(J.jsxs)("ul",{class:"breadcrumb",children:[Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/users",children:"Users"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"",children:"View Auditor"})})]})})})}),Object(J.jsx)(re.a,Object(K.a)(Object(K.a)({},e),{},{style:{backgroundColor:"white",marginLeft:"2%",marginRight:"2%"},children:Object(J.jsx)(re.a,{children:Object(J.jsx)(ia.a,{children:Object(J.jsx)("div",{className:"row",children:Object(J.jsx)(Xa.a,{initialValues:j?{code:j.code,name:j.name,phoneNo:j.phoneNo,email:j.email,contactPersonName:j.contactPersonName}:null,onSubmit:function(e){return w(e)},validationSchema:Ka.e({code:Ka.g().required("Code is required").matches(/^[A-Za-z0-9_-]*$/,"Code is invalid"),name:Ka.g().required("Name is required").matches(/^[A-Za-z/' ]+$/,"Name is invalid"),email:Ka.g().required("Email is required").email("Please enter valid email"),phoneNo:Ka.g().required("Phone no is required").min(10,"Phone no is invalid").max(10,"Phone no is invalid"),contactPersonName:Ka.g().required("Name is required").matches(/^[A-Za-z/' ]+$/,"Name is invalid")}),children:function(e){var t,a=e.handleSubmit,n=e.handleChange,s=e.values,r=e.errors,i=e.touched,o=e.setFieldTouched;e.setFieldValue,e.setFieldError;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)("form",{className:k.root,onSubmit:a,children:Object(J.jsxs)("div",{className:"col-md-12",children:[Object(J.jsx)("h2",{children:"View Auditor"}),Object(J.jsx)("div",{className:"image-btn my-4",children:Object(J.jsx)(er,{handleFileChanges:function(e){c(e)},defaultFile:""==(null===(t=p.file)||void 0===t?void 0:t.fileName)?null:p.file,handleUploadedFileDelete:function(){f({isDeleted:!0,file:null}),N(!0)},disableIcon:!0,acceptExt:".jpg, .png"})}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{disabled:!0,id:"standard-basic",label:"Mobile Number",variant:"standard",className:"my-2 form-control",onChange:n("phoneNo"),value:s.phoneNo,onFocus:function(){return o("phoneNo")}})}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:i.phoneNo&&r.phoneNo})}),Object(J.jsx)("br",{})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{disabled:!0,id:"standard-basic",label:"Contact Person Name",variant:"standard",className:"my-2 form-control",onChange:n("contactPersonName"),value:s.contactPersonName,onFocus:function(){return o("contactPersonName")}})}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:i.contactPersonName&&r.contactPersonName})})]})]}),Object(J.jsx)("div",{className:"col-md-1"}),Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{disabled:!0,id:"standard-basic",label:"Auditor Name",variant:"standard",className:"my-2 form-control",onChange:n("name"),value:s.name,onFocus:function(){return o("name")}})}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:i.name&&r.name})}),Object(J.jsx)("br",{})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{disabled:!0,id:"standard-basic",label:"E-mail ID",variant:"standard",className:"my-2 form-control",onChange:n("email"),value:s.email,onFocus:function(){return o("email")}})}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:i.email&&r.email})}),Object(J.jsx)("br",{})]})]})]})]})})})}})})})})}))]})},yi=function(e){var t=Object(h.i)(),a=Object(u.useState)([]),n=Object(y.a)(a,2),c=n[0],r=n[1],l=Object(m.b)(),d=Object(m.c)((function(e){return e.auth})).userData,j=Object(m.c)((function(e){return e.auditors})),b=j.loading,O=j.currentAuditor,p=Object(u.useState)({isDeleted:!1,file:null}),f=Object(y.a)(p,2),v=f[0],g=f[1],w=Object(u.useState)(!1),k=Object(y.a)(w,2),C=k[0],S=k[1];Object(u.useEffect)((function(){g({isDeleted:!1,file:O.profileImage})}),[]);var A=function(){var e=Object(o.a)(i.a.mark((function e(a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(he(!0)),!c){e.next=6;break}return e.next=4,W(c,d.companyId);case 4:n=e.sent,a.profileImage={fileName:n.fileName,fileLink:n.fileLink,filePath:n.filePath,fileSize:n.fileSize};case 6:v.isDeleted&&(a.profileImage={fileName:"",fileLink:"",filePath:"",fileSize:""}),a.tpiId=O.tpiId,l(Ns(a,t)),l(he(!1));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=Object(x.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"75%"}}}}))();return Object(J.jsxs)(J.Fragment,{children:[b&&Object(J.jsx)(X,{}),Object(J.jsx)("div",{style:{marginTop:"2%",marginLeft:"1%"},className:"row",children:Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:Object(J.jsxs)("ul",{class:"breadcrumb",children:[Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/users",children:"Users"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"",children:"Edit Auditor"})})]})})})}),Object(J.jsx)(re.a,Object(K.a)(Object(K.a)({},e),{},{style:{backgroundColor:"white",marginLeft:"2%",marginRight:"2%"},children:Object(J.jsx)(re.a,{sx:{mt:1},children:Object(J.jsx)(ia.a,{children:Object(J.jsx)("div",{className:"row",children:Object(J.jsx)(Xa.a,{initialValues:O?{code:O.code,name:O.name,phoneNo:O.phoneNo,email:O.email,contactPersonName:O.contactPersonName}:null,onSubmit:function(e){return A(e)},validationSchema:Ka.e({code:Ka.g().required("Code is required").matches(/^[A-Za-z0-9_-]*$/,"Code is invalid"),name:Ka.g().required("Name is required").matches(/^[A-Za-z/' ]+$/,"Name is invalid"),email:Ka.g().required("Email is required").email("Please enter valid email"),contactPersonName:Ka.g().required("Name is required").matches(/^[A-Za-z/' ]+$/,"Name is invalid")}),children:function(e){var t,a,n=e.handleSubmit,s=e.handleChange,i=e.values,o=e.errors,l=e.touched,d=e.setFieldTouched,j=(e.setFieldValue,e.setFieldError,e.dirty);return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)("form",{className:E.root,onSubmit:n,children:Object(J.jsxs)("div",{className:"col-md-12",children:[Object(J.jsx)("h2",{children:"Edit Auditor"}),Object(J.jsx)("div",{className:"image-btn my-4",children:Object(J.jsx)(er,{handleFileChanges:function(e){r(e)},defaultFile:""==(null===(t=v.file)||void 0===t?void 0:t.fileName)?null:v.file,handleUploadedFileDelete:function(){g({isDeleted:!0,file:null}),S(!0)},acceptExt:".jpg, .png"})}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{disabled:!0,id:"standard-basic",label:"Mobile Number",variant:"standard",className:"my-2 form-control",onChange:s("phoneNo"),value:i.phoneNo,onFocus:function(){return d("phoneNo")}})}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:l.phoneNo&&o.phoneNo})}),Object(J.jsx)("br",{})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{id:"standard-basic",label:"Contact Person Name",variant:"standard",className:"my-2 form-control",onChange:s("contactPersonName"),value:i.contactPersonName,onFocus:function(){return d("contactPersonName")}})}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:l.contactPersonName&&o.contactPersonName})})]})]}),Object(J.jsx)("div",{className:"col-md-1"}),Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{id:"standard-basic",label:"Auditor Name",variant:"standard",className:"my-2 form-control",onChange:s("name"),value:i.name,onFocus:function(){return d("name")}})}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:l.name&&o.name})}),Object(J.jsx)("br",{})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{disabled:!0,id:"standard-basic",label:"E-mail ID",variant:"standard",className:"my-2 form-control",onChange:s("email"),value:i.email,onFocus:function(){return d("email")}})}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:l.email&&o.email})}),Object(J.jsx)("br",{})]})]})]}),Object(J.jsx)("div",{className:"addbutton my-2",children:Object(J.jsx)(Ua.a,(a={className:"modal-submit-btn"},Object(N.a)(a,"className","view-btn"),Object(N.a)(a,"color","primary"),Object(N.a)(a,"size","small"),Object(N.a)(a,"disabled",!(j||c||C)),Object(N.a)(a,"onClick",n),Object(N.a)(a,"children","Save"),a))})]})})})}})})})})}))]})},Ni=function(e){var t=Object(h.i)(),a=Object(u.useState)([]),n=Object(y.a)(a,2),c=(n[0],n[1]),r=Object(m.c)((function(e){return e.auth})),l=r.userData,d=r.loading,j=Object(m.c)((function(e){return e.auditors})).currentCompany,b=Object(u.useState)({isDeleted:!1,file:null}),O=Object(y.a)(b,2),p=O[0],f=O[1],v=Object(u.useState)(!1),g=Object(y.a)(v,2),N=(g[0],g[1]);Object(u.useEffect)((function(){f({isDeleted:!1,file:j.profileImage})}),[]);var w=Object(m.b)(),k=function(){var e=Object(o.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(he(!0)),a.cmp_id=l.companyId,a.cmp_name=l.name,a.mobile="+91"+a.mobile,w(ws(a,t)),w(he(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=Object(x.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"75%"}}}}))();return Object(J.jsxs)(J.Fragment,{children:[d&&Object(J.jsx)(X,{}),Object(J.jsx)("div",{style:{marginTop:"2%",marginLeft:"1%"},className:"row",children:Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:Object(J.jsxs)("ul",{class:"breadcrumb",children:[Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/companies",children:"Users"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"",children:"View Company"})})]})})})}),Object(J.jsx)(re.a,Object(K.a)(Object(K.a)({},e),{},{style:{backgroundColor:"white",marginLeft:"2%",marginRight:"2%"},children:Object(J.jsx)(re.a,{children:Object(J.jsx)(ra.a,{children:Object(J.jsx)(ia.a,{children:Object(J.jsx)("div",{className:"row",children:Object(J.jsx)(Xa.a,{initialValues:j?{code:j.code,name:j.name,mobile:j.mobile.substring(3),emailid:j.emailid||j.emailId,location:j.location,contactPersonName:j.contactPersonName}:null,onSubmit:function(e){return k(e)},validationSchema:Ka.e({code:Ka.g().required("Code is required").matches(/^[A-Za-z0-9_-]*$/,"Code is invalid"),name:Ka.g().required("Name is required").matches(/^[A-Za-z/' ]+$/,"Name is invalid"),location:Ka.g().required("Location is required").matches(/^\w{5,}$/,"Location is invalid"),emailid:Ka.g().required("Email is required").email("Please enter valid email"),mobile:Ka.g().required("Phone no is required").min(10,"Phone no is invalid").max(10,"Phone no is invalid"),contactPersonName:Ka.g().required("Name is required").matches(/^[A-Za-z/' ]+$/,"Name is invalid")}),children:function(e){var t,a=e.handleSubmit,n=e.handleChange,s=e.values,r=e.errors,i=e.touched,o=e.setFieldTouched;e.setFieldValue,e.setFieldError;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)("form",{className:C.root,onSubmit:a,children:Object(J.jsxs)("div",{className:"col-md-12",children:[Object(J.jsx)("h2",{children:"View Company"}),Object(J.jsx)("div",{className:"image-btn my-4",children:Object(J.jsx)(er,{handleFileChanges:function(e){c(e)},defaultFile:""==(null===(t=p.file)||void 0===t?void 0:t.fileName)?null:p.file,handleUploadedFileDelete:function(){f({isDeleted:!0,file:null}),N(!0)},disableIcon:!0,acceptExt:".jpg, .png"})}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{disabled:!0,id:"standard-basic",label:"Location",variant:"standard",className:"my-2 form-control",onChange:n("location"),value:s.location,onFocus:function(){return o("location")}})}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:i.location&&r.location}),Object(J.jsx)("br",{})]})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{disabled:!0,id:"standard-basic",label:"Email",variant:"standard",className:"my-2 form-control",onChange:n("emailid"),value:s.emailid,onFocus:function(){return o("emailid")}})}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:i.emailid&&r.emailid}),Object(J.jsx)("br",{})]})]})]}),Object(J.jsx)("div",{className:"col-md-1"}),Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{disabled:!0,id:"standard-basic",label:"Company Name",variant:"standard",className:"my-2 form-control",onChange:n("name"),value:s.name,onFocus:function(){return o("name")}})}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:i.name&&r.name}),Object(J.jsx)("br",{})]}),Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{disabled:!0,id:"standard-basic",label:"Phone Number",variant:"standard",className:"my-2 form-control",onChange:n("mobile"),value:s.mobile,onFocus:function(){return o("mobile")}})}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:i.mobile&&r.mobile}),Object(J.jsx)("br",{})]}),Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{disabled:!0,id:"standard-basic",label:"Contact Person Name",variant:"standard",className:"my-2 form-control",onChange:n("contactPersonName"),value:s.contactPersonName,onFocus:function(){return o("contactPersonName")}})}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:i.contactPersonName&&r.contactPersonName}),Object(J.jsx)("br",{})]})]})]})]})})})}})})})})})}))]})},wi=function(e){var t=Object(h.i)(),a=Object(u.useState)([]),n=Object(y.a)(a,2),c=n[0],r=n[1],l=Object(m.c)((function(e){return e.auth})).userData,d=Object(m.c)((function(e){return e.auditors})).currentCompany,j=Object(m.b)(),b=Object(u.useState)(!1),O=Object(y.a)(b,2),p=O[0],f=O[1],v=Object(u.useState)({isDeleted:!1,file:null}),g=Object(y.a)(v,2),w=g[0],k=g[1],C=Object(u.useState)(!1),S=Object(y.a)(C,2),A=S[0],E=S[1];Object(u.useEffect)((function(){k({isDeleted:!1,file:d.profileImage})}),[]);var D=function(){var e=Object(o.a)(i.a.mark((function e(a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),!c){e.next=6;break}return e.next=4,W(c,l.companyId);case 4:n=e.sent,a.profileImage={fileName:n.fileName,fileLink:n.fileLink,filePath:n.filePath,fileSize:n.fileSize};case 6:return w.isDeleted&&(a.profileImage={fileName:"",fileLink:"",filePath:"",fileSize:""}),a.user=d.user,e.next=10,j(ks(a,t));case 10:f(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=Object(x.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"75%"}}}}))();return Object(J.jsxs)(J.Fragment,{children:[p&&Object(J.jsx)(X,{}),Object(J.jsx)("div",{style:{marginTop:"2%",marginLeft:"1%"},className:"row",children:Object(J.jsx)("div",{className:"col-md-6",children:Object(J.jsx)("h2",{children:Object(J.jsxs)("ul",{class:"breadcrumb",children:[Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/companies",children:"Users"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"",children:"Edit Company"})})]})})})}),Object(J.jsx)(re.a,Object(K.a)(Object(K.a)({},e),{},{style:{backgroundColor:"white",marginLeft:"2%",marginRight:"2%"},children:Object(J.jsx)(re.a,{children:Object(J.jsx)(ra.a,{children:Object(J.jsx)(ia.a,{children:Object(J.jsx)("div",{className:"row",children:Object(J.jsx)(Xa.a,{initialValues:d?{code:d.code,name:d.name,mobile:d.mobile,emailid:d.emailid||d.emailId,location:d.location,contactPersonName:d.contactPersonName}:null,onSubmit:function(e){return D(e)},validationSchema:Ka.e({code:Ka.g().required("Code is required").matches(/^[A-Za-z0-9_-]*$/,"Code is invalid"),location:Ka.g().required("Location is required").matches(/^\w{2,}$/,"Location is invalid"),contactPersonName:Ka.g().required("Name is required").matches(/^[A-Za-z/' ]+$/,"Name is invalid")}),children:function(e){var t,a,n=e.handleSubmit,s=e.handleChange,i=e.values,o=e.errors,l=e.touched,d=e.setFieldTouched,j=(e.setFieldValue,e.setFieldError,e.dirty);return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)("form",{className:T.root,onSubmit:n,children:Object(J.jsxs)("div",{className:"col-md-12",children:[Object(J.jsx)("h2",{children:"Edit Company"}),Object(J.jsx)("div",{className:"image-btn my-4",children:Object(J.jsx)(er,{handleFileChanges:function(e){r(e)},defaultFile:""==(null===(t=w.file)||void 0===t?void 0:t.fileName)?null:w.file,handleUploadedFileDelete:function(){k({isDeleted:!0,file:null}),E(!0)},acceptExt:".jpg, .png"})}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{id:"standard-basic",label:"Location",variant:"standard",className:"my-2 form-control",onChange:s("location"),value:i.location,onFocus:function(){return d("location")}})}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:l.location&&o.location}),Object(J.jsx)("br",{})]})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{disabled:!0,id:"standard-basic",label:"Email",variant:"standard",className:"my-2 form-control",onChange:s("emailid"),value:i.emailid,onFocus:function(){return d("emailid")}})}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:l.emailid&&o.emailid}),Object(J.jsx)("br",{})]})]})]}),Object(J.jsx)("div",{className:"col-md-1"}),Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{disabled:!0,id:"standard-basic",label:"Company Name",variant:"standard",className:"my-2 form-control",onChange:s("name"),value:i.name,onFocus:function(){return d("name")}})}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:l.name&&o.name}),Object(J.jsx)("br",{})]}),Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{disabled:!0,id:"standard-basic",label:"Phone Number",variant:"standard",className:"my-2 form-control",onChange:s("mobile"),value:i.mobile,onFocus:function(){return d("mobile")}})}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:l.mobile&&o.mobile}),Object(J.jsx)("br",{})]}),Object(J.jsx)("div",{children:Object(J.jsx)(ie.a,{id:"standard-basic",label:"Contact Person Name",variant:"standard",className:"my-2 form-control",onChange:s("contactPersonName"),value:i.contactPersonName,onFocus:function(){return d("contactPersonName")}})}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:l.contactPersonName&&o.contactPersonName}),Object(J.jsx)("br",{})]})]})]}),Object(J.jsx)("div",{className:"addbutton my-2",children:Object(J.jsx)(Ua.a,(a={className:"modal-submit-btn"},Object(N.a)(a,"className","view-btn"),Object(N.a)(a,"color","primary"),Object(N.a)(a,"size","small"),Object(N.a)(a,"disabled",!(j||c||A)),Object(N.a)(a,"onClick",n),Object(N.a)(a,"children","Save"),a))})]})})})}})})})})})}))]})},ki="/static/images/oren-logo.png",Ci=function(){var e=b.a.useState(!0),t=Object(y.a)(e,2),a=(t[0],t[1],b.a.useState(!1)),n=Object(y.a)(a,2),c=n[0],r=n[1],l=b.a.useState(!1),d=Object(y.a)(l,2),j=d[0],x=d[1],O=function(e){e.preventDefault()},p=function(){r(!c)},f=function(){x(!c)},v=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null},g=v("oobCode"),N=v("continueUrl");N&&(N="/");var w=Object(h.i)(),k=(Object(m.b)(),Object(u.useState)(!0)),C=Object(y.a)(k,2),S=C[0],A=C[1],E=Object(u.useState)(""),T=Object(y.a)(E,2),I=T[0],q=T[1];Object(u.useEffect)((function(){if(!g&&!N)return w("/",{replace:!0});D.verifyPasswordResetCode(g).then((function(e){console.log(e),q(e),A(!1)})).catch((function(e){console.log(e),A(!1),F()({title:"Error",text:"The link is malformed, expired, or has already been used",icon:"error",button:"Ok"}).then((function(){return w("/")}))}))}),[]);var B=function(){var e=Object(o.a)(i.a.mark((function e(t,a){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A(!0),c=t.password,e.next=5,D.confirmPasswordReset(g,c);case 5:return e.next=7,La.changePasswordWithEmail({email:I,password:c});case 7:if(!((n=e.sent).data.code>=400)){e.next=10;break}return e.abrupt("return",F()("Error","Technical problem. Please try again later"));case 10:F()("Success","Your Password has been Changed Successfully","success").then((function(){return w("/")})),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),console.log("Reset password error",n),e.abrupt("return",F()("Error","Technical problem. Please try again later","error"));case 17:return e.prev=17,A(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(J.jsxs)(J.Fragment,{children:[S&&Object(J.jsx)(X,{}),Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:" Reset Password | ORENNOW"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(J.jsx)(ca.a,{maxWidth:"sm",children:Object(J.jsx)(Xa.a,{initialValues:{password:"",confirmPassword:""},validationSchema:Ka.e().shape({password:Ka.g().matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/,"Password length must be 6 and contain 1 Uppercase, 1 Lowercase, 1 Special Character, 1 Number.").required("New Password is required"),confirmPassword:Ka.g().required("Confirm Password is required").oneOf([Ka.f("password"),null],"Password should match with New Password!")}),onSubmit:B,children:function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,r=e.handleSubmit,i=(e.isSubmitting,e.touched),o=e.values;return Object(J.jsx)("form",{children:Object(J.jsxs)(ra.a,{id:"login-card",children:[Object(J.jsx)(sa.a,{container:!0,spacing:3,children:Object(J.jsxs)(sa.a,{className:"text-center",item:!0,xs:12,md:12,children:[Object(J.jsx)("img",{src:ki,alt:"ORENNOW",id:"logo2"}),Object(J.jsx)("h2",{className:"forgot-password",children:"Change your password"})]})}),Object(J.jsxs)(nn.a,{sx:{mt:3,mb:2,width:"46ch"},variant:"outlined",children:[Object(J.jsx)(cn.a,{htmlFor:"outlined-adornment-password",children:"New Password"}),Object(J.jsx)(sn.a,{error:Boolean(i.password&&t.password),fullWidth:!0,helperText:i.password&&t.password,label:"New Password",margin:"normal",name:"password",onBlur:a("password"),onChange:n("password"),type:c?"text":"password",value:o.password,variant:"outlined",endAdornment:Object(J.jsx)(ne.a,{"aria-label":"toggle password visibility",onClick:p,onMouseDown:O,edge:"end",children:c?Object(J.jsx)(on.a,{}):Object(J.jsx)(ln.a,{})})}),Object(J.jsx)("span",{style:{fontSize:"12px",marginLeft:"12px",marginTop:"5px",color:"red"},children:i.password&&t.password})]}),Object(J.jsxs)(nn.a,{sx:{mt:2,mb:3,width:"46ch"},variant:"outlined",children:[Object(J.jsx)(cn.a,{htmlFor:"outlined-adornment-password",children:"Confirm Password"}),Object(J.jsx)(sn.a,{error:Boolean(i.confirmPassword&&t.confirmPassword),fullWidth:!0,helperText:i.confirmPassword&&t.confirmPassword,margin:"normal",name:"confirmPassword",onBlur:a("confirmPassword"),onChange:n("confirmPassword"),type:j?"text":"password",value:o.confirmPassword,variant:"outlined",endAdornment:Object(J.jsx)(ne.a,{"aria-label":"toggle password visibility",onClick:f,onMouseDown:O,edge:"end",children:j?Object(J.jsx)(on.a,{}):Object(J.jsx)(ln.a,{})})}),Object(J.jsx)("span",{style:{fontSize:"12px",marginLeft:"12px",marginTop:"5px",color:"red"},children:i.confirmPassword&&t.confirmPassword})]}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-md-6"}),Object(J.jsx)("div",{className:"col-md-6"})]}),Object(J.jsx)(re.a,{sx:{py:2},children:Object(J.jsx)(ot.a,{color:"primary",onClick:r,fullWidth:!0,size:"large",type:"submit",variant:"contained",className:"login-button",children:"Change Password"})}),Object(J.jsxs)(sa.a,{container:!0,spacing:3,children:[Object(J.jsx)(sa.a,{className:"pull-left",item:!0,xs:12,md:6}),Object(J.jsx)(sa.a,{className:"float-right",item:!0,xs:12,md:6,children:Object(J.jsxs)(yt.a,{style:{float:"right"},color:"textSecondary",variant:"body1",children:[" ",Object(J.jsx)(rn.a,{component:s.b,to:"/",variant:"h6",children:"Sign In"})]})})]})]})})}})})})]})},Si=Object(x.a)((function(e){return{root:{whiteSpace:"unset !important",wordBreak:"break-word"},social:{"&$socialChecked":{color:"#F5CD6A !important","& + $socialBar":{backgroundColor:"#F5CD6A !important"}}},socialTrack:{},socialBar:{},socialChecked:{"& + $socialTrack":{backgroundColor:"#F5CD6A !important"}},governance:{"&$governanceChecked":{color:"#EC9466 !important","& + $governanceBar":{backgroundColor:"#EC9466 !important"}}},governanceTrack:{},governanceBar:{},governanceChecked:{"& + $governanceTrack":{backgroundColor:"#EC9466 !important"}}}})),Ai=function(e){Object(h.i)();var t,a,n,c=Object(m.b)(),s=Object(h.j)().assessmentId,r=Object(m.c)((function(e){return e.assessment})),l=r.categories,d=r.questions,j=Object(m.c)((function(e){return e.auth})).userData,O=Object(m.c)((function(e){return e.auditors})).allContrators,p=Object(u.useState)(null),f=Object(y.a)(p,2),v=f[0],g=f[1],w=Object(u.useState)(0),k=Object(y.a)(w,2),C=k[0],S=k[1],A=Si();Object(u.useEffect)((function(){j&&(null===j||void 0===j?void 0:j.companyId)&&(c(Ss(j.companyId)),c(qn(j.companyId)),c(Fn(j.companyId)))}),[]);var E=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,La.getAssessmentById({assessmentId:s,include:{sections_category:!1,sections_questions_question:!1}});case 3:t=e.sent,g(t.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),F()("Error","Error in fetching assessment","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){return console.log("assessment id",s),s&&Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,E();case 3:R(!1);case 4:case"end":return e.stop()}}),e)})))(),function(){}}),[s]);var D=Object(x.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25%"}},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300},formControl:{margin:e.spacing(1),minWidth:500},selectEmpty:{marginTop:e.spacing(2)}}}))(),T=b.a.useState(""),I=Object(y.a)(T,2),q=(I[0],I[1],Object(u.useState)(!1)),B=Object(y.a)(q,2),L=B[0],R=B[1],P=Object(u.useState)(!1),M=Object(y.a)(P,2),W=M[0],V=M[1],Y=function(){return V(!1)},U=Object(u.useState)(!1),z=Object(y.a)(U,2),H=z[0],Q=z[1],_=function(){Ue.resetForm(),Q(!1)},G=Object(u.useState)(!1),Z=Object(y.a)(G,2),$=Z[0],ee=Z[1],te=function(){return ee(!1)},ae=b.a.useState({environment:!1,social:!1,governance:!1,others:!1}),ne=Object(y.a)(ae,2),ce=(ne[0],ne[1],Object(u.useState)(0)),se=Object(y.a)(ce,2),le=se[0],de=se[1],je=Object(u.useState)(""),ue=Object(y.a)(je,2),be=(ue[0],ue[1]),me=Object(u.useState)(!1),he=Object(y.a)(me,2),xe=he[0],Oe=he[1],pe=Object(u.useState)(null),fe=Object(y.a)(pe,2),ve=fe[0],ge=fe[1],ye=Object(u.useState)(!1),Ne=Object(y.a)(ye,2),we=Ne[0],ke=Ne[1],Ce=Object(u.useState)(null),Se=Object(y.a)(Ce,2),Ae=Se[0],Ee=Se[1],De=Object(u.useState)("ALL"),Te=Object(y.a)(De,2),Ie=(Te[0],Te[1],Object(u.useState)([])),qe=Object(y.a)(Ie,2),Fe=(qe[0],qe[1]),Be=function(e){var t;return null===(t=d.find((function(t){return t._id==e})))||void 0===t?void 0:t.questText},Le=function(){var e=Object(o.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(!0),(n=Object(K.a)({},t)).contractors=n.contractors.filter((function(e){return!!e})),n.sections=n.sections.map((function(e){return e.questions=e.questions.filter((function(e){return!!(null===e||void 0===e?void 0:e.question)})),e})),e.next=7,La.getResponsesByAssessmentId({assessmentId:n._id,include:{assessment:!1,sections_category:!1,sections_questions_question:!1}});case 7:if(!(e.sent.data.data.length>0)){e.next=10;break}throw new Error("Assessment can't be edited anymore due to company responses!");case 10:return e.next=12,La.editAssessment({assessmentId:n._id,updateData:n});case 12:return e.next=14,E();case 14:return R(!1),e.abrupt("return",F()("Success","Assessment edited successfully","success"));case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",F()("Error",e.t0.message,"error"));case 21:return e.prev=21,R(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,18,21,24]])})));return function(t,a){return e.apply(this,arguments)}}(),Re=function(){var e=Object(o.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\ud83d\ude80 ~ file: add_assessment.js ~ line 78 ~ onSubmitQuestionForm ~ val",t),e.prev=1,R(!0),e.next=5,La.createQuestion({companyId:j.companyId,questText:t.question});case 5:return F()({title:"Question Added Successfully",icon:"success",button:"Ok"}),a.resetForm(),e.next=9,c(Fn(j.companyId));case 9:R(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),R(!1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(o.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,R(!0),be(t.category),l.find((function(e){return e.name===t.category}))){e.next=11;break}return e.next=6,La.createAssessCategory({companyId:j.companyId,name:t.category});case 6:n=e.sent,Ve.setFieldValue("sections.".concat(C,".category"),n.data.data._id),F()({title:"Category Added Successfully",icon:"success",button:"Ok"}),e.next=12;break;case 11:F()({title:"Category already in available categories!",icon:"error",button:"Ok"});case 12:a.resetForm(),c(qn(j.companyId)),R(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),R(!1),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,a){return e.apply(this,arguments)}}(),Me=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(!0),c(R(!0)),e.next=5,La.editAssessCategory({categoryId:ve._id,updateData:{name:t.category}});case 5:return e.sent,Oe(!1),ge(null),e.next=10,c(qn(j.companyId));case 10:F()("Category Edited successfully","","success"),c(R(!1)),R(!1),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),R(!1),F()({title:"Error",text:e.t0.message,icon:"error",button:"Ok"}),c(R(!1));case 20:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(!0),c(R(!0)),e.next=5,La.editQuestion({questionId:Ae._id,updateData:{questText:t.question}});case 5:return e.sent,ke(!1),Ee(null),e.next=10,c(Fn(j.companyId));case 10:c(R(!1)),R(!1),F()("Edited successfully",{icon:"success"}),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),R(!1),F()({title:"Error",text:e.t0.message,icon:"error",button:"Ok"}),c(R(!1));case 20:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),Ve=Object(Xa.b)({initialValues:v?Object(K.a)(Object(K.a)({},v),{},{sections:v.sections.map((function(e){return Object(K.a)(Object(K.a)({},e),{},{questions:d.map((function(t){return e.questions.find((function(e){return(null===e||void 0===e?void 0:e.question)===t._id}))}))})}))}):{name:"",dueDate:"",contractors:[],sections:[{category:"",questions:[],totalMarks:0,factors:{environment:!1,social:!1,governance:!1,others:!1}}]},validationSchema:Ka.e({name:Ka.g().min(3).matches(/^[a-zA-Z0-9 ,.-?"':;]*$/,"Special characters not allowed!").required("Name is required"),dueDate:Ka.g().required("Date is required"),contractors:Ka.a().test({message:"Please select minimum 1 company",test:function(e){return e.filter((function(e){return!!e})).length>0}}).required("Contractor is required"),sections:Ka.a().of(Ka.e().shape({category:Ka.g().required("Category is required"),questions:Ka.a().compact((function(e){return null==e})).required("Minimum one question to be selected"),totalMarks:Ka.d("Marks must be number").required("Marks is required").min(1,"Marks is required")}).required())}),validateOnChange:!0,enableReinitialize:!0,onSubmit:Le}),Ye=Object(Xa.b)({initialValues:{question:""},onSubmit:Re,validationSchema:Ka.e({question:Ka.g().min(2,"Question must be at least 2 characters").trim("Question is required").test("exists","Question already exists",(function(e){return!d.find((function(t){return t.questText===e}))})).required("Question is required")})}),Ue=Object(Xa.b)({initialValues:{sectionQues:null===(t=(null!==(a=Ve.values.sections)&&void 0!==a?a:[{questions:[]}])[C])||void 0===t?void 0:t.questions},enableReinitialize:!0,onSubmit:function(e,t){console.log("VALUES QUE",e),Ve.setFieldValue("sections.".concat(C,".questions"),e.sectionQues),t.resetForm(),_()}}),ze=Object(Xa.b)({initialValues:{category:""},onSubmit:Pe,validationSchema:Ka.e({category:Ka.g().matches(/^[a-zA-Z0-9 ]*$/,"Special characters not allowed !").min(3,"Category must be at least 3 characters").trim("Category is required").required("Category is required")})}),He=Object(Xa.b)({initialValues:{category:null===ve||void 0===ve?void 0:ve.name},enableReinitialize:!0,onSubmit:Me,validationSchema:Ka.e({category:Ka.g().min(3).matches(/^[a-zA-Z0-9 ]*$/,"Special characters not allowed!").required("Category is required")})}),Qe=Object(Xa.b)({initialValues:{question:null===Ae||void 0===Ae?void 0:Ae.questText},enableReinitialize:!0,onSubmit:We,validationSchema:Ka.e({question:Ka.g().min(3).matches(/^[a-zA-Z0-9 ,.-?"':;]*$/,"Special characters not allowed!").required("Question is required")})}),_e=(Object(Xa.b)({initialValues:{selectedQues:[{question:"",questText:"",questType:{yesNo:!0,text:!1,attachment:!0}}]},onSubmit:function(e){R(!0),console.log("VALUES>>>",e.selectedQues);var t;t=e.selectedQues.filter((function(e){return null===e||void 0===e?void 0:e.question})),Fe(t),_(),console.log("TEMP>>>",t),R(!1)}}),function(e,t,a,n){return e.hasOwnProperty("sections")&&t.hasOwnProperty("sections")?"undefined"!=typeof(null===e||void 0===e?void 0:e.sections[a])&&"undefined"!=typeof(null===t||void 0===t?void 0:t.sections[a])?null===t||void 0===t?void 0:t.sections[a][n]:void 0:""});return Object(J.jsx)(re.a,Object(K.a)(Object(K.a)({},e),{},{children:Object(J.jsxs)(re.a,{sx:{mt:3},children:[L&&Object(J.jsx)(X,{}),Object(J.jsx)(ia.a,{children:Object(J.jsxs)("form",{onSubmit:Ve.handleSubmit,children:[Object(J.jsx)("div",{children:Object(J.jsx)("h2",{children:"Edit Assessment"})}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-md-4 my-2",children:[Object(J.jsx)(ie.a,{id:"standard-basic",label:"Name of Assessment",variant:"standard",className:D.textField,onChange:Ve.handleChange("name"),value:Ve.values.name,onFocus:function(){return Ve.setFieldTouched("name")},InputLabelProps:{shrink:!0}}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:Ve.touched.name&&Ve.errors.name})})]}),Object(J.jsxs)("div",{className:"col-md-6 my-2",children:[Object(J.jsx)(ie.a,{id:"standard-basic",label:"Due Date",variant:"standard",type:"date",inputProps:{min:et()().format("YYYY-MM-DD").toString()},className:D.textField,onChange:Ve.handleChange("dueDate"),value:et()(Ve.values.dueDate).format("YYYY-MM-DD").toString(),onFocus:function(){return Ve.setFieldTouched("dueDate")},InputLabelProps:{shrink:!0}}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:Ve.touched.dueDate&&Ve.errors.dueDate})})]})]}),Object(J.jsx)("hr",{}),Ve.values.sections.map((function(e,t){var a,n,s,r,u,b;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{className:"my-4",children:[Object(J.jsxs)("div",{className:" row",children:[Object(J.jsx)("div",{className:"col-md-3 my-3",children:Object(J.jsx)(nn.a,(n={variant:"outlined",className:D.formControl+"col-md-3"},Object(N.a)(n,"className","select"),Object(N.a)(n,"children",Object(J.jsxs)(En.a,{value:null===(a=Ve.values.sections[t])||void 0===a?void 0:a.category,onChange:Ve.handleChange("sections.".concat(t,".category")),onFocus:Ve.handleBlur("sections.".concat(t,".category")),displayEmpty:!0,className:D.selectEmpty+D.formControl,inputProps:{"aria-label":"Without label"},children:[Object(J.jsx)(Dn.a,{value:"",children:"Select Category"}),0!=l.length?l.map((function(e,t){return Object(J.jsx)(Dn.a,{style:{maxWidth:"400px"},classes:{root:A.root},value:e._id,children:e.name},t)})):null]})),n))}),Object(J.jsx)("div",{className:"col-md-2",children:Object(J.jsx)(Ua.a,{variant:"",className:"view-btn add-category-button",onClick:function(){S(t),V(!0)},children:"Add Category"})}),Object(J.jsx)("div",{className:"col-md-7",children:Object(J.jsx)("div",{className:"d-flex w-100 justify-content-end",children:0!==t?Object(J.jsx)(Ua.a,{variant:"danger",onClick:function(){return Ve.setFieldValue("sections",Ve.values.sections.filter((function(e,a){return a!==t})))},children:"Remove Section"}):null})})]}),Object(J.jsx)("div",{className:"assessment-add-categroy",children:Object(J.jsxs)(qa.a,{size:"lg",show:W,onHide:Y,backdrop:"static",keyboard:!1,centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Add Category"}),Object(J.jsx)(Ia.a,{fontSize:"medium",onClick:Y,style:{color:"red",cursor:"pointer"}})]}),Object(J.jsx)(qa.a.Body,{className:"add-category",children:Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsx)("h6",{children:"Add Category"}),Object(J.jsx)(Ya.a,{onSubmit:ze.handleSubmit,children:Object(J.jsxs)(Ya.a.Group,{className:"sm-3",controlId:"text",style:{marginTop:"18px"},children:[Object(J.jsx)(Ya.a.Control,{className:"form-control",type:"text",placeholder:"Enter New Category Name",onChange:ze.handleChange("category"),value:ze.values.category,style:{paddingTop:"10px",paddingBottom:"10px"}}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:ze.touched.category&&ze.errors.category}),Object(J.jsx)("br",{})]})]})}),Object(J.jsx)("button",{onClick:ze.handleSubmit,type:"button",disabled:ze.isSubmitting,className:"btn view-btn add-category-btn pull-left",children:"Add"})]}),Object(J.jsxs)("div",{className:"col-md-7",children:[Object(J.jsx)("h6",{children:"Available Categories"}),Object(J.jsx)("div",{className:"add-category-card",style:{textAlign:"initial",overflowY:"scroll",height:"12rem"},children:Object(J.jsx)(hr.a,{variant:"flush",children:0!=l.length?l.map((function(e,t){return Object(J.jsx)(hr.a.Item,{children:Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col col-lg-8",children:e.name}),Object(J.jsx)("div",{className:"col col-lg-4",children:Object(J.jsx)("button",{onClick:function(){ge(e),Oe(!0)},type:"button",className:"btn btn-delete pull-right",children:"Edit"})})]})},t)})):null})})]})]})})]})})]}),Object(J.jsx)("div",{className:"my-3",children:Object(J.jsxs)(ur.a,{row:!0,children:[Object(J.jsx)(wn.a,{control:Object(J.jsx)(mr.a,{checked:Ve.values.sections[t].factors.environment,onChange:Ve.handleChange("sections.".concat(t,".factors.environment")),value:Ve.values.sections[t].factors.environment,onFocus:Ve.handleBlur("sections.".concat(t,".factors.environment")),name:"checkedA",color:"success"}),label:"Environment",labelPlacement:"start"}),Object(J.jsx)(wn.a,{control:Object(J.jsx)(mr.a,{checked:Ve.values.sections[t].factors.social,onChange:Ve.handleChange("sections.".concat(t,".factors.social")),value:Ve.values.sections[t].factors.social,onFocus:Ve.handleBlur("sections.".concat(t,".factors.social")),name:"checkedB",classes:{switchBase:A.social,checked:A.socialChecked,bar:A.socialBar,track:A.socialTrack}}),label:"Social",labelPlacement:"start"}),Object(J.jsx)(wn.a,{control:Object(J.jsx)(mr.a,{checked:Ve.values.sections[t].factors.governance,onChange:Ve.handleChange("sections.".concat(t,".factors.governance")),value:Ve.values.sections[t].factors.governance,onFocus:Ve.handleBlur("sections.".concat(t,".factors.governance")),name:"checkedC",className:"governance-switch",classes:{switchBase:A.governance,checked:A.governanceChecked,bar:A.governanceBar,track:A.governanceTrack}}),label:"Governance",labelPlacement:"start"}),Object(J.jsx)(wn.a,{control:Object(J.jsx)(mr.a,{checked:Ve.values.sections[t].factors.others,onChange:Ve.handleChange("sections.".concat(t,".factors.others")),value:Ve.values.sections[t].factors.others,onFocus:Ve.handleBlur("sections.".concat(t,".factors.others")),name:"checkedD",className:"switch-other"}),label:"Others",labelPlacement:"start"})]})}),Object(J.jsxs)("div",{className:"row marks-row my-3",children:[Object(J.jsx)("div",{className:"col-md-1",children:Object(J.jsx)("h3",{children:"Enter Marks"})}),Object(J.jsx)("div",{className:"col-md-1",children:Object(J.jsx)(Ya.a,{children:Object(J.jsx)(Ya.a.Group,{className:"sm-3",controlId:"text",children:Object(J.jsxs)(nn.a,{children:[Object(J.jsx)(br.a,{required:!0,type:"number",className:"form-control my-1",onChange:function(e){console.log(e.target.value),Ve.setFieldValue("sections.".concat(t,".totalMarks"),e.target.value)},value:Ve.values.sections[t].totalMarks,onFocus:function(){return Ve.setFieldTouched("sections.".concat(t,".totalMarks"))},placeholder:"Enter Marks",style:{width:"8rem",height:30}}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:_e(Ve.touched,Ve.errors,t,"totalMarks")})})]})})})})]}),Object(J.jsxs)("div",{className:"row question-row my-3",children:[Object(J.jsx)("div",{className:"col-md-1",children:Object(J.jsx)("h3",{children:"Question"})}),Object(J.jsxs)("div",{className:"col-md-2 mx-2",children:[Object(J.jsx)(Ua.a,{variant:"",className:"chat-btn",onClick:function(){de(t),S(t),Q(!0)},children:"Add Question"}),Object(J.jsxs)(qa.a,{show:H,onHide:_,size:"xl",backdrop:"static",keyboard:"false",centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Add Question"}),Object(J.jsx)(Ia.a,{fontSize:"medium",onClick:_,style:{color:"red",cursor:"pointer"}})]}),Object(J.jsx)(qa.a.Body,{children:Object(J.jsxs)(xr.a,{defaultActiveKey:"Select Exisiting Qustion",id:"uncontrolled-tab-example",className:"addbutton mb-3",variant:"pills",centered:!0,children:[Object(J.jsx)(Or.a,{eventKey:"Select Exisiting Qustion",title:"Select Existing Question",children:Object(J.jsxs)("div",{className:"add-category-card",style:{width:"70rem",textAlign:"initial",overflowY:"scroll",overflowX:"hidden",height:"65vh"},children:[Object(J.jsx)(Ma.c,{sortRows:[],searchTop:!0,disableRetreatAfterSorting:!0,searchBottom:!1,className:"text-center",scrollX:!1,scrollY:!1,hover:!0,sortable:!0,entriesOptions:[5,10,20],entries:5,pagesAmount:6,data:{columns:[{label:"Sr.No",field:"ref",width:10,attributes:{"aria-controls":"DataTable","aria-label":"id"}},{label:"Questions",field:"Questions",width:60},{label:"Actions",field:"Actions",sort:"disabled",width:30}],rows:0!=d.length?d.map((function(e){var t=Ve.values.sections.filter((function(e,t){return t!==le})).some((function(t){return t.questions.some((function(t){return(null===t||void 0===t?void 0:t.question)===e._id}))}));return Object(K.a)(Object(K.a)({},e),{},{isUsed:t})})).map((function(e,a){var n,c,s=(null!==(n=Ue.values.sectionQues)&&void 0!==n?n:[]).length>0?Ue.values.sectionQues[a]:{};return{ref:Object(J.jsx)("div",{className:"d-flex w-100 h-100 justify-content-center align-self-center",style:{marginTop:"50%",transform:"translateY(-50%)"},children:a+1}),Questions:Object(J.jsx)("div",{searchvalue:e.questText,style:{marginTop:"2.5%",minWidth:"546.32px",maxWidth:"546.32px",display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center"},children:e.questText}),Actions:Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(ur.a,{style:{minWidth:"503.32px",maxWidth:"503.32px",paddingLeft:"15%"},row:!0,children:Object(J.jsxs)("div",{className:"d-flex flex-row justify-content-center align-items-center",children:[Object(J.jsx)("div",{children:Object(J.jsx)(wn.a,{control:Object(J.jsx)(mr.a,{disabled:e.isUsed,checked:!!(null===s||void 0===s?void 0:s.question),onChange:function(n){console.log("INDEX>>",t),n.target.checked&&e._id?Ue.setFieldValue("sectionQues.".concat(a),{question:e._id,questType:{yesNo:!0,text:!1,attachment:!0}}):e._id&&Ue.setFieldValue("sectionQues.".concat(a),null)},color:"success"}),label:"Select",labelPlacement:"start"})}),Object(J.jsx)("div",{children:Object(J.jsx)(wn.a,{control:Object(J.jsx)(mr.a,{checked:!!(null===s||void 0===s||null===(c=s.questType)||void 0===c?void 0:c.text),disabled:e.isUsed,onChange:function(t){s&&(t.target.checked&&e._id?Ue.setFieldValue("sectionQues.".concat(a),{question:e._id,questType:Object(K.a)(Object(K.a)({},null===s||void 0===s?void 0:s.questType),{},{text:!0})}):e._id&&Ue.setFieldValue("sectionQues.".concat(a),{question:e._id,questType:Object(K.a)(Object(K.a)({},null===s||void 0===s?void 0:s.questType),{},{text:!1})}))},className:"governance-switch"}),label:"Text",labelPlacement:"start"})}),Object(J.jsx)("div",{children:Object(J.jsx)("button",{onClick:function(){Ee(e),ke(!0)},type:"button",className:"btn btn-delete pull-right",children:"Edit"})})]})})})}})):[]}}),Object(J.jsx)("div",{className:"addbutton my-2",children:Object(J.jsx)("button",{onClick:function(){Ue.handleSubmit()},type:"button",className:"btn view-btn",children:"Submit"})})]})}),Object(J.jsx)(Or.a,{eventKey:"Create New Question",title:"Create New Question",children:Object(J.jsxs)(Ya.a,{onSubmit:Ye.handleSubmit,children:[Object(J.jsxs)(Ya.a.Group,{className:"sm-3",controlId:"text",children:[Object(J.jsx)(nn.a,{className:"add-category-card",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50px"},children:Object(J.jsx)(br.a,{className:"form-control my-1",type:"text",placeholder:"Enter Text",onChange:Ye.handleChange("question"),onFocus:Ye.handleBlur("question"),value:null===(s=Ye.values)||void 0===s?void 0:s.question,style:{width:"47rem",marginRight:"20px"},endAdornment:Object(J.jsx)(oe.a,{position:"end"})})}),Object(J.jsxs)("div",{style:{marginLeft:"15%"},children:[Object(J.jsx)("small",{className:"text-danger form-text",children:Ye.touched.question&&Ye.errors.question}),Object(J.jsx)("br",{})]})]}),Object(J.jsx)("div",{className:"addbutton my-2",children:Object(J.jsx)("button",(r={onClick:Ye.handleSubmit,disabled:Ye.isSubmitting,type:"button"},Object(N.a)(r,"disabled",""==Ye.values.question),Object(N.a)(r,"className","btn view-btn"),Object(N.a)(r,"children","Add"),r))})]})}),Object(J.jsx)(Or.a,{eventKey:"Import Questions",title:"Import Questions",children:Object(J.jsx)(vr,{onImportComplete:Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(Fn(j.companyId));case 2:case"end":return e.stop()}}),e)})))})})]})})]})]})]}),Object(J.jsxs)("div",{className:"my-4 add-category-card",children:[Object(J.jsx)(Ma.h,{className:"table-striped view-questions",children:0!=(null===(u=Ve.values.sections[t])||void 0===u?void 0:u.questions.filter((function(e){return!!e})).length)?null===(b=Ve.values.sections[t])||void 0===b?void 0:b.questions.filter((function(e){return!!e})).map((function(e,t){return Object(J.jsx)("tr",{style:{backgroundColor:"white",marginBottom:"5%"},children:Object(J.jsxs)("td",{style:{float:"left"},children:["".concat(t+1,") "),Be(e.question)]})},t)})):Object(J.jsx)(Ma.i,{children:Object(J.jsx)("tr",{children:Object(J.jsx)("td",{children:"No Questions"})})})}),Object(J.jsx)("div",{children:Object(J.jsx)("small",{className:"text-danger form-text",children:_e(Ve.touched,Ve.errors,t,"questions")})})]}),Object(J.jsx)(Nt.a,{style:{marginBottom:"15px"},variant:"middle"})]})})})),Object(J.jsx)("div",{children:Object(J.jsx)(Ua.a,{onClick:function(){return Ve.setFieldValue("sections.".concat(Ve.values.sections.length),{category:"",questions:[],totalMarks:0,factors:{environment:!1,social:!1,governance:!1,others:!1}})},type:"button",className:"btn chat-btn",children:"Add Another Category"})}),Object(J.jsxs)("div",{className:"addbutton",children:[Object(J.jsx)(Ua.a,{variant:"",className:"chat-btn",onClick:Ve.handleSubmit,disabled:!Ve.dirty||0===(null!==(n=Object.values(Ve.touched))&&void 0!==n?n:[]).length||!Ve.values.sections.every((function(e){return!!(e.factors.environment||e.factors.social||e.factors.governance||e.factors.others)}))||Ve.isSubmitting,children:"Save"}),Object(J.jsxs)(qa.a,{size:"lg",show:$,onHide:te,backdrop:"static",keyboard:!1,centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Select Companies"}),Object(J.jsx)(Ia.a,{fontSize:"medium",onClick:te,style:{color:"red",cursor:"pointer"}})]}),Object(J.jsxs)(qa.a.Body,{children:[0!=O.length?O.map((function(e,t){return Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col-sm-4",children:Object(J.jsx)("h5",{className:"company-title",children:e.name})}),Object(J.jsx)("div",{className:"col-sm-4",children:Object(J.jsx)("h5",{className:"company-title",children:e.cmp_name})}),Object(J.jsx)("div",{className:"col-sm-4",children:Object(J.jsx)(Ya.a.Group,{className:" pull-right",controlId:"formBasicCheckbox",children:Object(J.jsx)(Ya.a.Check,{checked:!!Ve.values.contractors[t],onChange:function(a){a.target.checked?Ve.setFieldValue("contractors.".concat(t),e.user):Ve.setFieldValue("contractors.".concat(t),"")},type:"checkbox"})})}),Object(J.jsx)("hr",{})]})})):null,Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:Ve.touched.contractors&&Ve.errors.contractors}),Object(J.jsx)("br",{})]}),Object(J.jsx)("div",{className:"addbutton",children:Object(J.jsx)("button",{onClick:Ve.handleSubmit,disabled:Ve.isSubmitting,type:"button",className:"btn view-btn",children:"Share"})})]})]}),Object(J.jsxs)(qa.a,{size:"lg",show:xe,onHide:function(){Oe(!1)},backdrop:"static",keyboard:!1,centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Edit Category"}),Object(J.jsx)(Ia.a,{fontSize:"medium",onClick:function(){Oe(!1)},style:{color:"red",cursor:"pointer"}})]}),Object(J.jsx)(qa.a.Body,{className:"add-category",children:Object(J.jsx)("div",{className:"row",children:Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsx)("h6",{children:"Edit Category"}),Object(J.jsx)(Ya.a,{onSubmit:He.handleSubmit,children:Object(J.jsxs)(Ya.a.Group,{className:"sm-3",controlId:"text",style:{marginTop:"18px"},children:[Object(J.jsx)(Ya.a.Control,{className:"form-control",type:"text",placeholder:"Enter New Category Name",onChange:He.handleChange("category"),value:He.values.category,style:{paddingTop:"10px",paddingBottom:"10px"}}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:He.touched.category&&He.errors.category}),Object(J.jsx)("br",{})]})]})}),Object(J.jsx)("button",{onClick:He.handleSubmit,disabled:He.isSubmitting,type:"button",className:"btn view-btn add-category-btn pull-left",children:"Edit"})]})})})]}),Object(J.jsxs)(qa.a,{size:"lg",show:we,onHide:function(){ke(!1)},backdrop:"static",keyboard:!1,centered:!0,children:[Object(J.jsxs)(qa.a.Header,{children:[Object(J.jsx)(qa.a.Title,{children:"Edit Question"}),Object(J.jsx)(Ia.a,{fontSize:"medium",onClick:function(){ke(!1)},style:{color:"red",cursor:"pointer"}})]}),Object(J.jsx)(qa.a.Body,{className:"add-category",children:Object(J.jsx)("div",{className:"row",children:Object(J.jsxs)("div",{className:"col-md-5",children:[Object(J.jsx)("h6",{children:"Edit Question"}),Object(J.jsx)(Ya.a,{onSubmit:Qe.handleSubmit,children:Object(J.jsxs)(Ya.a.Group,{className:"sm-3",controlId:"text",style:{marginTop:"18px"},children:[Object(J.jsx)(Ya.a.Control,{className:"form-control",type:"text",placeholder:"Enter Question",onChange:Qe.handleChange("question"),value:Qe.values.question,style:{paddingTop:"10px",paddingBottom:"10px"}}),Object(J.jsxs)("div",{children:[Object(J.jsx)("small",{className:"text-danger form-text",children:Qe.touched.question&&Qe.errors.question}),Object(J.jsx)("br",{})]})]})}),Object(J.jsx)("button",{onClick:Qe.handleSubmit,disabled:Qe.isSubmitting,type:"button",className:"btn view-btn add-category-btn pull-left",children:"Edit"})]})})})]})]})]})})]})}))},Ei=function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(na.a,{children:Object(J.jsx)("title",{children:"Assessment | Oren"})}),Object(J.jsx)(re.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(J.jsxs)(ca.a,{maxWidth:!1,children:[Object(J.jsx)("h2",{children:Object(J.jsxs)("ul",{class:"breadcrumb",children:[Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"/adani/Assessment",children:"Assessment"})}),Object(J.jsx)("li",{children:Object(J.jsx)(s.b,{to:"#",children:"Edit Assessment"})})]})}),Object(J.jsx)(ra.a,{className:"col-sm-12",children:Object(J.jsx)(Ai,{})}),Object(J.jsx)(re.a,{sx:{pt:3}})]})})]})},Di=function(e){var t=Object(h.i)(),a=Object(m.c)((function(e){return e.observation})).observation,n=Object(m.c)((function(e){return e.auth})).userData,c=a,s=Object(u.useState)(!1),r=Object(y.a)(s,2),l=r[0],d=r[1],j=Object(u.useState)(null),x=Object(y.a)(j,2),O=(x[0],x[1],Object(u.useState)(0)),p=Object(y.a)(O,2),f=p[0],v=p[1],g=Object(u.useState)(0),N=Object(y.a)(g,2),w=(N[0],N[1]),k=Object(u.useState)(!1),C=Object(y.a)(k,2),S=(C[0],C[1]),A=Object(u.useState)(),E=Object(y.a)(A,2),D=E[0],I=E[1],q=Object(u.useState)(),B=Object(y.a)(q,2),L=(B[0],B[1]),R=Object(u.useState)(!0),P=Object(y.a)(R,2),M=(P[0],P[1]),W=Object(u.useState)(!1),V=Object(y.a)(W,2),Y=(V[0],V[1]),U=Object(u.useState)(null),z=Object(y.a)(U,2),H=(z[0],z[1],Object(u.useState)(null)),Q=Object(y.a)(H,2),_=Q[0],G=Q[1],Z=Object(u.useState)(null),$=Object(y.a)(Z,2),ee=($[0],$[1],Object(u.useState)(null)),te=Object(y.a)(ee,2),ae=(te[0],te[1]),ne=Object(u.useState)(null),ce=Object(y.a)(ne,2),se=(ce[0],ce[1],Object(u.useState)(!1)),ie=Object(y.a)(se,2),oe=(ie[0],ie[1],Object(u.useState)(!1)),le=Object(y.a)(oe,2),de=(le[0],le[1]);b.a.useEffect((function(){0==!(null===c||void 0===c?void 0:c.length)?t("/".concat(2==(null===n||void 0===n?void 0:n.type)?"adani":"atgl/Contractor","/Observation")):(console.log("RCA",c),c.form_data&&(console.log("success"),c.rootCauseAnalysis&&I(c.rootCauseAnalysis)),c.action&&"number"==typeof c.action&&(S(!0),v(c.action),w(c.report_category),L(c.status-1),I(c.rootCauseAnalysis),c.status>=3?(M(!1),de(!0)):(M(!0),de(!1)),1!==c.action&&Y(!0)),c.reportImage?(console.log("reportImage",c.reportImage),he(c.reportimagepath,c.fileType).then((function(e){G(e)})).catch((function(e){console.log("error report img:",e)}))):G("No Image"),c.rcaStatusImage&&(console.log("rcaFormData",c.rcaStatusImage,"rcaFormData",c.fileType),he(c.rcaStatusImage,c.fileType).then((function(e){ae(e)})).catch((function(e){console.log("error status img:",e)}))))}),[]);function je(){return(je=Object(o.a)(i.a.mark((function e(a){var s,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),d(!0),e.prev=2,(s=Object(K.a)({},c)).rootCauseAnalysis=D,e.next=7,La.getViewObservationRCAStatus(s);case 7:if(r=e.sent,console.log("RCAStatus",r),200===r.status){e.next=13;break}throw"Error in fetching RCA Status!";case 13:t("/".concat(2==(null===n||void 0===n?void 0:n.type)?"adani":"atgl/Contractor","/Observation")),F()({icon:"success",button:"Ok",title:"Success",text:"Comment has been added."});case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),F()({icon:"error",button:"Ok",title:"Error",text:"object"!=typeof e.t0?e.t0:"Unknown Error"}),console.log("ERROR Submit :: ",e.t0);case 21:return e.prev=21,d(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[2,17,21,24]])})))).apply(this,arguments)}var ue,be=b.a.useState(null),me=Object(y.a)(be,2),he=(me[0],me[1],function(e,t){var a="";return a=2===t?e:e+".jpg",T.ref(a).getDownloadURL()});return Object(J.jsxs)(b.a.Fragment,{children:[l&&Object(J.jsx)(X,{}),Object(J.jsx)(re.a,{sx:{mt:3},children:Object(J.jsxs)(ia.a,{children:[Object(J.jsxs)("h3",{className:"m-28-42",children:[" Activity No. ",null===c||void 0===c?void 0:c.srno," "]}),Object(J.jsx)("hr",{}),Object(J.jsxs)(Ya.a,{className:"rca-form",onSubmit:function(e){return je.apply(this,arguments)},children:[c.form_data?Object(J.jsx)("div",{className:"row",children:Object.values(c.form_data).map((function(e){return"Upload Photo"!=e.label&&Object(J.jsxs)("div",{className:"col-md-3 my-2",children:[Object(J.jsx)("h2",{children:Object(J.jsxs)("strong",{children:[" ","FullName"==e.label?"Full Name":e.label]})}),Object(J.jsx)("div",{children:e.value})]})}))}):null,Object(J.jsx)("hr",{}),Object(J.jsx)("br",{}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("div",{className:"col-md-4 my-2",children:[Object(J.jsx)("h2",{children:Object(J.jsx)("strong",{children:"Action Taken"})}),Object(J.jsx)(nn.a,{style:{width:"50%"},children:Object(J.jsxs)(En.a,{disableUnderline:!0,onChange:function(e){v(parseInt(e.target.value))},value:f,disabled:!0,inputProps:{"aria-label":"Without label"},children:[Object(J.jsx)(Dn.a,{value:"0",disabled:!0,children:"Please Select"}),Object(J.jsx)(Dn.a,{value:"1",children:"Accept"}),Object(J.jsx)(Dn.a,{value:"2",children:"Reject"}),Object(J.jsx)(Dn.a,{value:"3",children:"Mark as Duplicate"})]})}),Object(J.jsx)("br",{}),c.accept_time?Object(J.jsxs)("div",{children:[Object(J.jsx)("br",{}),"At:"," ",Object(J.jsx)("strong",{children:c.accept_time&&(ue=c.accept_time,ue&&ue._seconds?et()(1e3*ue._seconds).format("MMMM Do YYYY, h:mm:ss a"):null)})]}):null]}),Object(J.jsx)("div",{className:"col-md-4 my-2",children:Object(J.jsx)(Ya.a.Control,{disabled:!0,as:"textarea",placeholder:"Write your comment",rows:"5",onChange:function(e){I(e.target.value)},value:D,style:{width:"85%"}})}),_?"No Image"!=typeof _?Object(J.jsx)("div",{className:"col-md-4 my-2",children:Object(J.jsx)(Ks.a,{style:{maxHeight:200,maxWidth:200},src:_,rounded:!0})}):Object(J.jsx)("div",{className:"col-md-4 my-2",children:Object(J.jsx)("strong",{children:_})}):Object(J.jsx)("div",{className:"col-md-4 my-2",children:Object(J.jsx)(Pc.a,{size:"md",className:"bigger-spinner",animation:"border",variant:"primary"})})]}),Object(J.jsx)("br",{})]})]})})]})},Ti=[{path:"atgl/",element:Object(J.jsx)(Rt,{}),children:[{path:"Contractor/account",element:Object(J.jsx)(ba,{})},{path:"Contractor/assessment",element:Object(J.jsx)(Yn,{})},{path:"Contractor/observation",element:Object(J.jsx)(Xs,{})},{path:"Contractor/ViewObservation",element:Object(J.jsx)($s,{})},{path:"Contractor/OnlyViewObservation",element:Object(J.jsx)(Di,{})},{path:"Contractor/learning",element:Object(J.jsx)(jc,{})},{path:"Contractor/engagement",element:Object(J.jsx)(wc,{})},{path:"Contractor/assessment/:responseId/categories",element:Object(J.jsx)(hc,{})},{path:"Contractor/assessment/:responseId/categories/:categoryId",element:Object(J.jsx)(Uc,{})},{path:"Contractor/customers",element:Object(J.jsx)(Aa,{})},{path:"Contractor/dashboard",element:Object(J.jsx)(an,{})},{path:"products",element:Object(J.jsx)(gn,{})},{path:"settings",element:Object(J.jsx)(Sn,{})},{path:"/",element:Object(J.jsx)(h.a,{to:"Contractor/dashboard"})},{path:"*",element:Object(J.jsx)(h.a,{to:"/404"})}]},{path:"adani/",element:Object(J.jsx)(_t,{}),children:[{path:"Dashboard",element:Object(J.jsx)(as,{})},{path:"account",element:Object(J.jsx)(ba,{})},{path:"observation",element:Object(J.jsx)(Xs,{})},{path:"ViewObservation",element:Object(J.jsx)($s,{})},{path:"OnlyViewObservation",element:Object(J.jsx)(Di,{})},{path:"learning",element:Object(J.jsx)(Ws,{})},{path:"assessment",element:Object(J.jsx)(js,{})},{path:"add_assessment",element:Object(J.jsx)(yr,{})},{path:"editAssessment/:assessmentId",element:Object(J.jsx)(Ei,{})},{path:"cap_assesmentview/:assessmentId",element:Object(J.jsx)(qr,{})},{path:"cap_assesmentview/:responseId/Categories/:categoryId",element:Object(J.jsx)(hi,{})},{path:"view_assessment",element:Object(J.jsx)(Hr,{})},{path:"engagement",element:Object(J.jsx)(wc,{})},{path:"checklist",element:Object(J.jsx)(Ar,{})},{path:"users",element:Object(J.jsx)(Bs,{})},{path:"feedback",element:Object(J.jsx)(Br,{})},{path:"companies",element:Object(J.jsx)(vi,{})},{path:"add_auditor",element:Object(J.jsx)(jr,{})},{path:"ViewAuditor",element:Object(J.jsx)(gi,{})},{path:"ViewCompany",element:Object(J.jsx)(Ni,{})},{path:"EditAuditor",element:Object(J.jsx)(yi,{})},{path:"EditCompany",element:Object(J.jsx)(wi,{})},{path:"add_company",element:Object(J.jsx)(xi,{})},{path:"products",element:Object(J.jsx)(gn,{})},{path:"settings",element:Object(J.jsx)(Sn,{})},{path:"*",element:Object(J.jsx)(h.a,{to:"/404"})}]},{path:"TPI",element:Object(J.jsx)(aa,{}),children:[{path:"dashboard",element:Object(J.jsx)(Kr,{})},{path:"assessment",element:Object(J.jsx)(si,{})},{path:"engagement",element:Object(J.jsx)(wc,{})},{path:"assessment/:responseId/Categories/:categoryId",element:Object(J.jsx)(hi,{})},{path:"assessment/:responseId/Categories/",element:Object(J.jsx)(di,{})},{path:"*",element:Object(J.jsx)(h.a,{to:"/404"})}]},{path:"/",element:"",children:[{path:"/",element:Object(J.jsx)(jn,{})},{path:"Forgot_Password",element:Object(J.jsx)(Hc,{})},{path:"reset_password",element:Object(J.jsx)(Ci,{})},{path:"register",element:Object(J.jsx)(Nn,{})},{path:"/profile",element:Object(J.jsx)(la,{})},{path:"404",element:Object(J.jsx)(un,{})},{path:"*",element:Object(J.jsx)(h.a,{to:"/404"})}]}],Ii=a(517),qi=Object(Ii.a)({palette:{background:{default:"#F4F6F8",paper:Zn.a.common.white},primary:{contrastText:"#ffffff",main:"#5664d2"},text:{primary:"#172b4d",secondary:"#6b778c"}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}});F.a.setDefaults({closeOnClickOutside:!1}),String.prototype.onlyFirstCapital=function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()};j.a.defaults.baseURL="https://us-central1-oleo-6b2af.cloudfunctions.net/";var Fi=function(){var e=Object(h.i)(),t=Object(m.b)();return Object(u.useEffect)((function(){D.onAuthStateChanged(function(){var a=Object(o.a)(i.a.mark((function a(n){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!n){a.next=26;break}t(he(!0)),console.log("USER>>>",n),a.t0=n.displayName,a.next=a.t0===B?7:a.t0===L?8:a.t0===R?11:a.t0===P?14:a.t0===M?17:18;break;case 7:return a.abrupt("break",23);case 8:return a.next=10,La.fetchCompanyById({companyId:n.uid}).then((function(e){console.log("RES DATA",e.data),t(me(e.data.data))}));case 10:return a.abrupt("break",23);case 11:return a.next=13,La.fetchContractorById({contractorId:n.uid}).then((function(e){console.log("RES DATA",e.data),t(me(e.data.data))}));case 13:return a.abrupt("break",23);case 14:return a.next=16,La.fetchTpiById({tpiId:n.uid}).then((function(e){console.log("RES DATA",e.data),t(me(e.data.data))}));case 16:case 17:return a.abrupt("break",23);case 18:return a.next=20,D.signOut();case 20:return t(he(!1)),e("/",{replace:!0}),a.abrupt("break",23);case 23:localStorage.setItem("isSignedIn",!0),a.next=29;break;case 26:console.log("Logging out"),t(he(!1)),localStorage.setItem("isSignedIn",!1);case 29:a.next=35;break;case 31:a.prev=31,a.t1=a.catch(0),console.log("Error",a.t1.message),localStorage.setItem("isSignedIn",!1);case 35:return a.prev=35,t(he(!1)),a.finish(35);case 38:case"end":return a.stop()}}),a,null,[[0,31,35,38]])})));return function(e){return a.apply(this,arguments)}}())}),[]),Object(J.jsx)(J.Fragment,{})},Bi=function(){var e=Object(h.l)(Ti);return Object(u.useEffect)((function(){return console.log=function(){},function(){}}),[]),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(l.a,{theme:qi,children:[Object(J.jsx)(Fi,{}),Object(J.jsx)(f,{}),e]})})},Li={loading:!1,userData:null,isLoggedIn:!1},Ri={loading:!1,allAuditors:[],allContrators:[],currentAuditor:null,currentCompany:null},Pi={auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Li,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case je:return e=Object(K.a)(Object(K.a)({},e),{},{loading:!1,userData:n,isLoggedIn:!0});case ue:return e=Object(K.a)(Object(K.a)({},e),{},{isLoggedIn:!1,userData:null});case be:return e=Object(K.a)(Object(K.a)({},e),{},{loading:n});default:return e}},header:rt,auditors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case xe:return e=Object(K.a)(Object(K.a)({},e),{},{loading:n});case Oe:return e=Object(K.a)(Object(K.a)({},e),{},{allAuditors:n});case pe:return e=Object(K.a)(Object(K.a)({},e),{},{allContrators:n});case fe:return e=Object(K.a)(Object(K.a)({},e),{},{currentAuditor:n});case ve:return e=Object(K.a)(Object(K.a)({},e),{},{currentCompany:n});case ge:return e=Object(K.a)(Object(K.a)({},e),{},{loading:!1,allAuditors:[],allContrators:[],currentAuditor:null,currentCompany:null});default:return e}},feedback:qe,assessment:Xe,observation:Me},Mi=Object(Ce.a)({reducer:Object(K.a)({},Pi)});c.a.render(Object(J.jsx)(m.a,{store:Mi,children:Object(J.jsx)(s.a,{children:Object(J.jsx)(Bi,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[712,1,2]]]);
//# sourceMappingURL=main.f71782cb.chunk.js.map